(this.webpackJsonpclose=this.webpackJsonpclose||[]).push([[0],{281:function(e,t,i){},325:function(e,t,i){},624:function(e,t,i){},626:function(e,t,i){"use strict";i.r(t);var n,o,s,r=i(0),c=i(106),l=i.n(c),a=(i(281),i(24)),d=i(648),h=i(649),p=(i(650),i(651)),x=i(652),b=i(653),j=i(654),g=i(9),u=i(30),f=i.n(u),w=i(108),m=i.n(w),y=i(207),v=i(18),O=i(62),_=function e(t){var i=t.x,n=void 0===i?0:i,o=t.y,s=void 0===o?0:o,r=t.size,c=void 0===r?2:r,l=t.pixi,a=t.width,d=t.height,h=t.type,p=t.anchor;return Object(O.a)(this,e),this.obj=l,p&&(this.obj.anchor.x=p,this.obj.anchor.y=p),this.obj.x=n,this.obj.y=s,this.obj.width/=c,this.obj.height/=c,a&&(this.obj.width=a),d&&(this.obj.height=d),h&&(this.obj.type=h),this.obj},C=i(212),k=i(92),S=i(627);function z(e){if(window.location.search.slice(1))console.log("production"),console.log("non loc"),n.disconnect(),(n=Object(k.io)("wss://time-team-prod.ru:300".concat(e),{auth:{token:window.location.search.slice(1)},timeout:1e3,transports:["websocket"]})).connect(),n.on("connect",(function(){console.log("con"),window.rcon_script(),n.emit("get")})),console.log("wss://time-team-prod.ru:300".concat(e)),window.start_socket_on?window.start_socket_on():window.auto_start_socket=!0;else{var t=function(){console.log("non loc sber"),(n=Object(k.io)("wss://time-team-prod.ru:300".concat(e),{auth:{token:"sber_name=".concat(s.name,"&sber_sub=").concat(s.sub,"&sign=").concat(s.sign)},timeout:1e3,transports:["websocket"]})).connect(),n.on("connect",(function(){console.log("con"),window.rcon_script(),n.emit("get")})),window.start_socket_on?window.start_socket_on():window.auto_start_socket=!0};o?t():(i=function(){},r=function(){},(o=Object(S.a)({getState:i,getRecoveryState:r})).on("data",(function(e){"smart_app_data"===e.type&&"GET_USER"===e.smart_app_data.type&&(s=e.smart_app_data.user,window.sber_id=s.sub,t())})))}var i,r}n=n=Object(k.io)("http://localhost:3101",{auth:{token:0},transports:["websocket"]});var F,A,T,D,P=i(27),H=0,W=function e(t){var i=this,n=t.x,o=void 0===n?0:n,s=t.y,r=void 0===s?0:s,c=t.size,l=void 0===c?2:c,a=t.pixi,d=t.width,h=t.height,p=t.anchor,x=void 0===p?.5:p,b=t.command,j=t.start,g=t.spawn_time,u=t.client_spawn_time;return Object(O.a)(this,e),this.obj=a,this.obj.x=o,this.obj.y=r,this.obj.client_spawn_time=u,j&&(this.obj.start=j),g&&(this.obj.spawn_time=g),this.obj.width/=l,this.obj.height/=l,this.obj.anchor.x=x,this.obj.anchor.y=x,this.obj.command=b,this.obj.zIndex=10,2==b&&(this.obj.rotation=3.1415926535,this.obj.x+=this.obj.width*l),d&&(this.obj.width=d),h&&(this.obj.height=h),this.obj.go=function(e){var t=e.line,n=e.time;if(1==i.obj.command){if(i.obj.y=i.obj.start.y-(Date.now()-n)/100*10,i.obj.y<t.y+13)return t.y-=5,i.obj}else if(i.obj.y=i.obj.start.y+(Date.now()-n)/100*10,i.obj.y>t.y-13)return t.y+=5,i.obj;if((t.y<=25||t.y>=525)&&Date.now()-H>3e3)return"lobby_has_stop"},this.obj},B=function e(t){var i=this,n=t.x,o=void 0===n?0:n,s=t.y,r=void 0===s?0:s,c=t.size,l=void 0===c?2:c,a=t.pixi,d=t.width,h=t.height,p=t.anchor,x=void 0===p?.5:p,b=t.command,j=t.my_command,g=t.building,u=void 0===g||g,f=t.time,w=(t.lobby_refresh,t.client_spawn_time);return Object(O.a)(this,e),this.obj=a,this.obj.client_spawn_time=w,this.obj.x=o,this.obj.y=r,this.obj.width/=l,this.obj.height/=l,this.obj.anchor.x=x,this.obj.anchor.y=x,this.obj.command=b,this.obj.zIndex=1,this.obj.building=u,this.obj.time=f,this.obj.balance=function(e){e.last_update_time;if(j==i.obj.command){var t=Number(String((Date.now()-i.obj.time)/5e3).split(".")[0]);return t>=1?(i.obj.time+=5e3*t,4*t):0}return 0},2==j&&(this.obj.rotation=3.1415926535,this.obj.x+=50,this.obj.y+=50),d&&(this.obj.width=d),h&&(this.obj.height=h),this.obj},L=function e(t){var i=this,n=t.x,o=void 0===n?0:n,s=t.y,r=void 0===s?0:s,c=t.size,l=void 0===c?2:c,a=t.pixi,d=t.width,h=t.height,p=t.anchor,x=void 0===p?.5:p,b=t.command,j=t.my_command,g=t.building,u=void 0===g||g,f=t.time,w=t.lobby_refresh;return Object(O.a)(this,e),this.obj=a,this.obj.x=o,this.obj.y=r,this.obj.width/=l,this.obj.height/=l,this.obj.anchor.x=x,this.obj.anchor.y=x,this.obj.command=b,this.obj.zIndex=1,this.obj.building=u,this.obj.time=f,this.obj.spawn=function(e){var t=e.last_update_time;e.units,e.sprites;return Number(String((t-w+Date.now()-i.obj.time)/5100).split(".")[0])>=1?(i.obj.time+=5e3,i.obj.time):void 0},2==j&&(this.obj.rotation=3.1415926535,this.obj.x+=50,this.obj.y+=50),d&&(this.obj.width=d),h&&(this.obj.height=h),this.obj};function E(){new P.Howl({src:["./sounds/panels/tab.m4a"],autoplay:!0,volume:.8})}function R(){new P.Howl({src:["./sounds/panels/modal.m4a"],autoplay:!0,volume:.8})}var N,I,M,V,K,U,G,J,q=(null===(F=window.location)||void 0===F||null===(A=F.search)||void 0===A||null===(T=A.slice(1))||void 0===T||null===(D=T.split("user_id=")[1])||void 0===D?void 0:D.split("&")[0])||window.sber_id,Y=new C.a;function Z(e){var t,i=e.app,o=(e.game_containter,e.balance),s=e.sprites,r=e.units,c=(e.card_1,e.card_2),l=e.card_3,a=e.card_4,d=e.timer,h=(e.static_units,e.line),p=e.mobs;p.filters=[Y];var x=100,b=Date.now(),j=100,g=Date.now();a.on("pointerdown",(function(){n.emit("spawn_sheep"),E()})),c.on("pointerdown",(function(){n.emit("spawn_farm"),E()})),l.on("pointerdown",(function(){n.emit("spawn_corral"),E()}));Date.now();i.ticker.add((function(){if(window.isBattle){var e=function(e,t,i){var n=t[e];if(n.go){var o=n.go({line:h,time:n.client_spawn_time});o&&("mobs"==i?u.push(o):a.push(o))}if(n.balance&&(j+=n.balance({last_update_time:n.client_spawn_time})),n.spawn){var c=n.spawn({last_update_time:b,units:r,sprites:s});c&&(t[e].time=c)}};Date.now(),x=Number(String(j+(Date.now()-b)/1e3).split(".")[0]),o.text="x"+Number(x);var n=Math.floor(180-(Date.now()-g)/1e3);n<0&&(n=0),n<=60?N?60==n&&N.fade(.2,.4,5e3):((N=new P.Howl({src:["./sounds/drums.mp3"],autoplay:!0,volume:.4})).seek(178-n),N.fade(0,.4,3e3)):N||((N=new P.Howl({src:["./sounds/drums.mp3"],autoplay:!0,volume:.2})).seek(178-n),N.fade(0,.2,3e3));var c=Math.floor(n/60),l=n-60*c;l<10&&(l="0"+l),d.text=c+":"+l;var a=[],u=[];for(var f in r.children)e(f,r.children);for(var w in p.children)e(w,p.children,"mobs");for(var m in r.children){var y=r.children[m];if(y.building)if(2===y.command){var v=0;2!=t&&(v=50),y.y+v>h.y-13&&a.push(y)}else{var O=0;1!=t&&(O=50),y.y-O<h.y+13&&a.push(y)}}for(var _ in a)r.removeChild(a[_]);for(var C in u)p.removeChild(u[C]);window.isBattle||i.ticker.remove()}}));var u=0;n.on("update_scene",(function(e,i){var n=e.new_units,o=e.new_users,c=e.time,l=e.req_time,a=e.new_obj,d=e.time_start+(Date.now()-l);g=d,i=!!i,l>u?(u=l,o&&(t=o.find((function(e){return e._id==(q||window.sber_id)})).command),c,function(e,i){var n=e.lobby,o=Date.now();x=Number(String(n.users.find((function(e){return e._id==(q||window.sber_id)})).balance).split(".")[0]);var c=[];j=x,i?(console.log("UPDATE ALL"),c=n.units,r.removeChildren(0,r.children.length),r.addChild(p),p.removeChildren(0,p.children.length)):(console.log("UPDATE ONE"),c=[n.new_obj,n.units.find((function(e){return"line"==e.type}))]);for(var l=0;l<c.length;l++){var a=c[l],d=void 0;a&&a.type&&("sheep"==a.type&&(d=new W({pixi:new v.e(s.sheep),y:a.y,x:a.x,start:{x:a.x,y:a.y},command:a.command,my_command:t,client_spawn_time:o}),p.addChild(d)),"farm"==a.type&&(d=new B({pixi:new v.e(s.farm),y:a.y,x:a.x,command:a.command,anchor:0,my_command:t,time:a.time+(Date.now()-n.refresh),lobby_refresh:n.refresh,client_spawn_time:o}),r.addChild(d)),"corral"==a.type&&(d=new L({pixi:new v.e(s.corral),y:a.y,x:a.x,command:a.command,anchor:0,my_command:t,time:a.time,lobby_refresh:n.refresh}),r.addChild(d)),"line"==a.type&&(h.y=a.y))}b=Date.now()}({lobby:{units:n,users:o,refresh:c,new_obj:a}},i)):console.log("ignored")}))}Y.color=32,Y.alpha=.4,Y.blur=0,Y.distance=25,Y.rotation=-45,Y.resolution=window.devicePixelRatio,Y.blur=1;var X=new v.a({width:window.innerWidth,height:window.innerHeight,backgroundColor:0,resolution:window.devicePixelRatio||1,transparent:!0}),Q=(null===(I=window.location)||void 0===I||null===(M=I.search)||void 0===M||null===(V=M.slice(1))||void 0===V||null===(K=V.split("user_id=")[1])||void 0===K?void 0:K.split("&")[0])||window.sber_id;console.log(Q);null===(U=window.location)||void 0===U||null===(G=U.search)||void 0===G||null===(J=G.split("platform=")[1])||void 0===J||J.split("&")[0];var $=new v.i.BlurFilter;$.blur=1,$.resolution=window.devicePixelRatio;var ee=new v.d,te=new v.g({fill:"white",fontFamily:"Arial",fontSize:16}),ie=new v.g({fill:"white",fontFamily:"Arial",fontSize:16});document.body.appendChild(X.view),document.getElementsByTagName("canvas")[0].style.position="fixed",document.getElementsByTagName("canvas")[0].style.display="block",document.getElementsByTagName("canvas")[0].style.left="0px",document.getElementsByTagName("canvas")[0].style.top="0px",document.getElementsByTagName("canvas")[0].style.height="100%",document.getElementsByTagName("canvas")[0].style.width="100%",document.getElementsByTagName("canvas")[0].style.border="0px",document.getElementsByTagName("canvas")[0].style.zIndex="-1",X.stage.sortableChildren=!0;var ne=new v.b;ne.zIndex=1001,X.stage.addChild(ne);var oe=new v.b,se=new v.b,re=new v.b,ce=new v.b,le=new v.b,ae=(window.innerHeight,window.innerHeight/550);function de(e){var t;if(X.stage.addChild(ce),X.stage.addChild(le),null===(t=ce.children)||void 0===t?void 0:t.length)X.stage.addChild(ce),X.stage.addChild(le);else{var i=new v.h(e.main_bg,window.innerWidth+10,window.innerHeight);new v.e(e.play_but);i.filters=[$],i.tileScale.x=.5/ae,i.tileScale.y=.5/ae,ce.addChild(i),ce.scale.x=ae,ce.scale.y=ae,ce.x=0,function e(){i.tilePosition.x-=2,i.tilePosition.x<=-2428*i.tileScale.x&&(i.tilePosition.x=0),requestAnimationFrame(e)}()}}function he(){document.getElementsByTagName("canvas")[0].style.zIndex="-1",X.stage.removeChild(oe),oe.removeChildren(0,oe.children.length),se.removeChildren(0,se.children.length),re.removeChildren(0,se.children.length)}!function(){var e=function(e){function i(e){this.app=null,this.parent=e.parent,this.width=e.width,this.height=e.height}return i.prototype.init=function(){this.app=X,this.app.ticker.maxFPS=120,this.app.ticker.add(this.update.bind(this)),this.initParticleSystem()},i.prototype.update=function(e){this.particleSystem.update(e)},i.prototype.initParticleSystem=function(){var e=this.app.screen.width,i=this.app.screen.height;this.particleSystem=new t(150,e,i),this.particleSystem.init(),this.addChild(this.particleSystem.container)},i.prototype.addChild=function(e){this.app.stage.addChild(e)},i}(window),t=function(e){function t(e,t,i){return this.particlesCount=e,this.width=t,this.height=i,this.particles=[],this}return t.prototype.init=function(){this.container=new v.b,this.container.zIndex=101,this.pool=new i(n),this.createParticles()},t.prototype.createParticles=function(){for(var t,i=0;i<150;i++)(t=this.pool.get(this.width)).graphics.x=o(-200,e.innerWidth),t.graphics.y=o(0,-e.innerWidth-300),t.graphics.zIndex=101,this.particles.push(t),this.container.addChild(t.graphics)},t.prototype.update=function(e){for(var t,i=0;i<this.particles.length;i++)(t=this.particles[i]).update(e),this.isOut(t)&&t.reset(this.width)},t.prototype.isOut=function(e){var t=2*e.radius;return e.getY()>this.height+t+80},t}(window),i=function(e){function t(e){this.classType=e,this.items=[]}return t.prototype.get=function(e){var t=this.items.pop();return t||(t=new this.classType(e)),t},t.prototype.release=function(e){this.items.push(e)},t}(window),n=function(e){function t(e){this.graphics=new v.c,this.radius=null,this.x=null,this.y=null,this.vx=null,this.vy=null,this.setStartValues(e),this.render()}return t.prototype.render=function(){this.graphics.lineStyle(0),this.graphics.beginFill(16777215,1),this.graphics.drawCircle(0,0,this.radius),this.graphics.endFill()},t.prototype.update=function(e){this.graphics.x+=this.vx*e,this.graphics.y+=this.vy*e},t.prototype.getY=function(){return this.graphics.y},t.prototype.setStartValues=function(t){this.radius=o(1,5),this.x=o(-200,e.innerWidth),this.y=this.setStartPosY(),this.vx=.4,this.vy=o(10,30)/10},t.prototype.reset=function(e){this.setStartValues(e),this.setPos()},t.prototype.setPos=function(){this.graphics.x=this.x,this.graphics.y=this.y},t.prototype.setStartPosY=function(){var t=-e.innerHeight-300;return o(0,t)},t}(window),o=function(e,t){return e+Math.random()*(t-e)};new e({width:window.innerWidth,height:window.innerHeight}).init()}();var pe=new v.d,xe={},be=!1,je="winter_pack";function ge(){return(ge=Object(y.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.isLoad){e.next=2;break}return e.abrupt("return");case 2:pe.add("sheep","img/units/sheep_winter.png").add("map_bg","img/".concat(je,"/bg.png")).add("bg_forest","img/".concat(je,"/bg_forest.png")).add("line","img/".concat(je,"/line.png")).add("farm","img/".concat(je,"/buildings/farm.png")).add("corral","img/".concat(je,"/buildings/corral.png")).add("card_farm","img/".concat(je,"/interface/cards/farm.png")).add("card_sheep","img/".concat(je,"/interface/cards/sheep.png")).add("card_corral","img/".concat(je,"/interface/cards/corral.png")).add("card_balance","img/".concat(je,"/interface/cards/balance.png")).add("under_bg","img/".concat(je,"/interface/cards/under_bg.png")).add("time_left","img/".concat(je,"/interface/time_left.png")).add("play_but","img/".concat(je,"/interface/play.png")).add("logo","img/logo.png").add("main_bg","img/".concat(je,"/main_bg.png")).add("card_front_bg","img/".concat(je,"/interface/cards/card_front_bg.png")).add("card_bg","img/".concat(je,"/interface/cards/card_bg.png")),pe.load((function(e,t){for(var i in t)xe[i]=t[i].texture;be=!0,de(xe),z(1)})),pe.onProgress.add((function(e){console.log(e.progress)}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ue(e){return!!be&&(function(e,t){var i=window.sber_id?-100:-25,n=(window.innerHeight+i)/700,o=(window.innerHeight,t.find((function(e){return e._id==(Q||window.sber_id)})).command);document.getElementsByTagName("canvas")[0].style.zIndex="10",X.stage.addChild(oe);var s=new v.e(e.bg_forest),r=new v.e(e.bg_forest),c=new v.e(e.line),l=new v.e(e.map_bg),a=new v.e(e.card_bg),d=new v.e(e.under_bg),h=new v.e(e.card_front_bg),p=new v.e(e.time_left),x=new v.f("x100",te),b=new v.f("3:00",ie),j=new v.b,g=new v.b;j.sortableChildren=!0,g.sortableChildren=!0,g.zIndex=100,j.addChild(g),console.log(o,t);var u=new v.b;2==o&&(console.log("flip"),j.rotation=3.1415926535,c.rotation=3.1415926535,j.y=550,j.x=300,u.rotation=3.1415926535,u.y=550,u.x=300),x.anchor.x=.5,b.anchor.x=.5;var f=new v.e(e.card_balance),w=new v.e(e.card_farm),m=new v.e(e.card_corral),y=new v.e(e.card_sheep);ee.add("user1",t.find((function(e){return e._id!=(Q||window.sber_id)})).photo_200).add("user2",t.find((function(e){return e._id==(Q||window.sber_id)})).photo_200),ee.load((function(e,t){for(var i in t){var n=new v.b,o=new v.b,s=new v.e(t[i].texture);s=new _({pixi:s,width:50,height:50});var r=new v.c;r.beginFill(16777215),r.drawCircle(25,25,25),r.endFill(),o.addChild(s),o.addChild(r),o.mask=r,n.x=125,n.y="user2"==i?492:8;var c=new v.c;c.beginFill("user1"==i?"0xF28F8F":"0x8FABF2"),c.drawCircle(25,25,28),c.endFill(),n.addChild(c),n.addChild(o),oe.addChild(n)}e.destroy()})),se.addChild(l),oe.addChild(a),oe.addChild(d),oe.addChild(p),oe.addChild(f),oe.addChild(w),oe.addChild(m),oe.addChild(y),oe.addChild(h),oe.addChild(x),oe.addChild(b),oe.addChild(se),oe.addChild(s),oe.addChild(r),u.addChild(c),oe.addChild(re),oe.addChild(j),oe.addChild(u),s=new _({pixi:s,x:300}),r=new _({pixi:r,x:-300}),l=new _({pixi:l}),c=new _({pixi:c,y:275,x:150,type:"line",anchor:.5}),a=new _({pixi:a,y:550}),p=new _({pixi:p,y:550,x:112.5}),d=new _({pixi:d,y:700,x:-300}),h=new _({pixi:h,y:585}),f.y=575,f.width/=2,f.height/=2,x.y=645,x.x=37.5,b.y=555,b.x=150,w.width/=2,w.height/=2,m.width/=2,m.height/=2,y.width/=2,y.height/=2,w.y=575,m.y=575,y.y=575,w.x=75,m.x=150,y.x=225,y.interactive=!0,y.buttonMode=!0,w.interactive=!0,w.buttonMode=!0,m.interactive=!0,m.buttonMode=!0,oe.scale.x=n,oe.scale.y=n,oe.x=(window.innerWidth-300*n)/2,Z({app:X,game_container:oe,balance:x,timer:b,sprites:e,units:j,card_1:f,mobs:g,card_2:w,card_3:m,card_4:y,line:c,static_units:u})}(xe,e),!0)}window.isLoad=be;var fe=i(1),we=window.innerWidth/5;we>80&&(we=80);i(64),i(325);var me=i(628),ye=i(629),ve=i(630),Oe=i(631),_e=i(632),Ce=i(633),ke=i(634),Se=i(635),ze=i.p+"static/media/Fire.4b056ac1.svg",Fe=(i(119),i.p+"static/media/Apple.836ab751.svg"),Ae=i.p+"static/media/SheepRoyaleText.324f0157.svg";function Te(e){var t=e.lobby_bar,i=e.socket,n=e.loading,o=e.setLoading,s=e.setActivePlayPanel,c=e.notifyAlert,l=e.notify,d=Object(r.useState)(1==P.Howler.volume()),h=Object(a.a)(d,2),p=h[0],x=h[1];return Object(fe.jsxs)("body",{style:{height:window.innerHeight-48+"px",width:"100%"},children:[Object(fe.jsxs)("div",{style:{width:"100%",height:"100%",position:"absolute",display:"flex",justifyContent:"center",flexDirection:"column"},children:[Object(fe.jsx)("div",{style:{display:"flex",justifyContent:"center",flexDirection:"column"},children:Object(fe.jsx)("img",{src:Ae,style:{height:"70%",userSelect:"none",maxHeight:"350px"}})}),Object(fe.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(fe.jsx)(g.f,{size:"l",mode:"overlay_primary",before:n?Object(fe.jsx)(g.F,{size:"small",style:{color:"black",marginTop:"-2px"}}):Object(fe.jsx)(me.a,{}),disabled:n,onClick:function(){o(!0),i.emit("play"),t()},style:{position:"relative",marginLeft:"10px",fontSize:"25px",fontWeight:"900"},children:n?"\u041f\u043e\u0438\u0441\u043a":"\u0418\u0433\u0440\u0430\u0442\u044c"})}),window.sber_id?"":Object(fe.jsx)("div",{style:{display:"flex",justifyContent:"center",marginTop:"8px"},children:Object(fe.jsx)(g.f,{size:"m",mode:l?"secondary":"overlay_primary",before:l?Object(fe.jsx)(ve.a,{}):Object(fe.jsx)(ye.a,{}),onClick:function(){l||c()},style:{position:"relative",marginLeft:"10px",fontSize:"25px",fontWeight:"900",color:l?"white":"black"},children:l?"":"\u0422\u0443\u0440\u043d\u0438\u0440\u044b"})})]}),Object(fe.jsx)(g.f,{before:Object(fe.jsx)(Oe.a,{width:24,height:24}),size:"m",style:{backgroundColor:"white",color:"black",display:"flex",justifyContent:"center",alignItems:"center",position:"absolute",bottom:window.sber_id?window.reloaded?"60px":"150px":"60px",left:"10px"},onClick:function(){s("learn"),R()},children:"\u041e\u0431\u0443\u0447\u0435\u043d\u0438\u0435"}),Object(fe.jsx)(g.p,{href:window.sber_id?"https://vk.me/join/iXCxH7UDAPygNUY8zRyxxnwDRaeqccNEN48=":"",children:Object(fe.jsx)(_e.a,{}),style:{backgroundColor:"white",color:"black",borderRadius:"100%",position:"absolute",bottom:window.sber_id?"150px":"60px",right:"10px"},onClick:function(){var e=document.createElement("a");Object.assign(e,{href:"https://vk.me/join/iXCxH7UDAPygNUY8zRyxxnwDRaeqccNEN48=",target:"_blank"}),e.click()}}),Object(fe.jsx)(g.p,{children:Object(fe.jsx)(Ce.a,{}),href:window.sber_id?"https://vk.com/sheep_royale":"",style:{backgroundColor:"white",color:"black",borderRadius:"100%",position:"absolute",bottom:window.sber_id?"150px":"60px",right:"65px"},onClick:function(){var e=document.createElement("a");Object.assign(e,{href:"https://vk.com/sheep_royale",target:"_blank"}),e.click()}}),Object(fe.jsx)(g.p,{children:p?Object(fe.jsx)(ke.a,{}):Object(fe.jsx)(Se.a,{}),style:{backgroundColor:"white",color:"black",borderRadius:"100%",position:"absolute",bottom:window.sber_id?"150px":"60px",right:"120px"},onClick:function(){1==P.Howler.volume()?(P.Howler.volume(0),x(!1)):(P.Howler.volume(1),x(!0))}})]})}var De=i(636),Pe=i(637),He=i(638),We=i(639),Be=i.p+"static/media/Frame 45.888b3464.png",Le=i.p+"static/media/Frame 46.d06fdbb0.png",Ee=i.p+"static/media/Frame 47.aef1a41a.png",Re=i.p+"static/media/Frame 48.2eb75c98.png",Ne=i.p+"static/media/Frame 49.1f62962a.png",Ie=i.p+"static/media/Frame 50.70cf89ca.png",Me=i.p+"static/media/Frame 51.92be276c.png",Ve=i.p+"static/media/Frame 52.76d63e5a.png",Ke=i.p+"static/media/Frame 53.13fda5d8.png";function Ue(e){var t=e.setActivePlayPanel,i=Object(r.useState)(0),n=Object(a.a)(i,2),o=n[0],s=n[1];return console.log(o),Object(fe.jsxs)("body",{children:[" ",Object(fe.jsx)(g.v,{left:Object(fe.jsx)(g.w,{onClick:function(){R(),t("main")}}),children:"\u041e\u0431\u0443\u0447\u0435\u043d\u0438\u0435"}),Object(fe.jsxs)(g.n,{slideWidth:"100%",align:"center",style:{height:window.innerHeight-108+"px"},slideIndex:o,onChange:s,isDraggable:!0,showArrows:!0,children:[Object(fe.jsxs)("div",{style:{justifyContent:"center",alignItems:"none",display:"flex"},children:[Object(fe.jsx)(g.y,{icon:Object(fe.jsx)(De.a,{fill:"#5A9EFF",style:{marginBottom:"-10px"}}),header:"\u041f\u043e\u043b\u0435 \u0431\u043e\u044f",style:{position:"absolute",marginTop:"-20px"}}),Object(fe.jsx)("img",{src:Be,style:{position:"absolute",marginTop:"50px",height:window.sber_id?window.innerHeight-218+"px":window.innerHeight-140+"px"}})]}),Object(fe.jsxs)("div",{style:{justifyContent:"center",display:"flex"},children:[Object(fe.jsx)(g.y,{icon:Object(fe.jsx)(Pe.a,{width:36,height:36,fill:"#5A9EFF",style:{marginBottom:"-10px"}}),header:"\u041a\u043e\u043b\u043e\u0434\u0430",style:{position:"absolute",marginTop:"-20px"}}),Object(fe.jsx)("img",{src:Le,style:{position:"absolute",height:window.sber_id?window.innerHeight-218+"px":window.innerHeight-108+"px"}})]}),Object(fe.jsxs)("div",{style:{justifyContent:"center",display:"flex"},children:[Object(fe.jsx)(g.y,{icon:Object(fe.jsx)(Pe.a,{width:36,height:36,fill:"#5A9EFF",style:{marginBottom:"-10px"}}),header:"\u041a\u043e\u043b\u043e\u0434\u0430",style:{position:"absolute",marginTop:"-20px"}}),Object(fe.jsx)("img",{src:Ee,style:{position:"absolute",height:window.sber_id?window.innerHeight-218+"px":window.innerHeight-108+"px"}})]}),Object(fe.jsxs)("div",{style:{justifyContent:"center",display:"flex"},children:[Object(fe.jsx)(g.y,{icon:Object(fe.jsx)(Pe.a,{width:36,height:36,fill:"#5A9EFF",style:{marginBottom:"-10px"}}),header:"\u041a\u043e\u043b\u043e\u0434\u0430",style:{position:"absolute",marginTop:"-20px"}}),Object(fe.jsx)("img",{src:Re,style:{position:"absolute",height:window.sber_id?window.innerHeight-218+"px":window.innerHeight-108+"px"}})]}),Object(fe.jsxs)("div",{style:{justifyContent:"center",display:"flex"},children:[Object(fe.jsx)(g.y,{icon:Object(fe.jsx)(Pe.a,{width:36,height:36,fill:"#5A9EFF",style:{marginBottom:"-10px"}}),header:"\u041a\u043e\u043b\u043e\u0434\u0430",style:{position:"absolute",marginTop:"-20px"}}),Object(fe.jsx)("img",{src:Ne,style:{position:"absolute",height:window.sber_id?window.innerHeight-218+"px":window.innerHeight-108+"px"}})]}),Object(fe.jsxs)("div",{style:{justifyContent:"center",display:"flex"},children:[Object(fe.jsx)(g.y,{icon:Object(fe.jsx)(Pe.a,{width:36,height:36,fill:"#5A9EFF",style:{marginBottom:"-10px"}}),header:"\u041a\u043e\u043b\u043e\u0434\u0430",style:{position:"absolute",marginTop:"-20px"}}),Object(fe.jsx)("img",{src:Ie,style:{position:"absolute",height:window.sber_id?window.innerHeight-218+"px":window.innerHeight-108+"px"}})]}),Object(fe.jsxs)("div",{style:{justifyContent:"center",display:"flex"},children:[Object(fe.jsx)(g.y,{icon:Object(fe.jsx)(He.a,{width:36,height:36,fill:"#5A9EFF",style:{marginBottom:"-10px"}}),header:"\u0417\u0434\u0430\u043d\u0438\u044f",style:{position:"absolute",marginTop:"-20px"}}),Object(fe.jsx)("img",{src:Me,style:{position:"absolute",marginTop:"10px",height:window.sber_id?window.innerHeight-218+"px":window.innerHeight-128+"px"}})]}),Object(fe.jsxs)("div",{style:{justifyContent:"center",display:"flex"},children:[Object(fe.jsx)(g.y,{icon:Object(fe.jsx)(We.a,{width:36,height:36,fill:"#5A9EFF",style:{marginBottom:"-10px"}}),header:"\u0426\u0435\u043b\u044c",style:{position:"absolute",marginTop:"-20px"}}),Object(fe.jsx)("img",{src:Ve,style:{position:"absolute",height:window.sber_id?window.innerHeight-218+"px":window.innerHeight-108+"px"}})]}),Object(fe.jsxs)("div",{style:{justifyContent:"center",display:"flex"},children:[Object(fe.jsx)(g.y,{icon:Object(fe.jsx)(We.a,{width:36,height:36,fill:"#5A9EFF",style:{marginBottom:"-10px"}}),header:"\u0426\u0435\u043b\u044c",style:{position:"absolute",marginTop:"-20px"}}),Object(fe.jsx)("img",{src:Ke,style:{position:"absolute",marginTop:"20px",height:window.sber_id?window.innerHeight-218+"px":window.innerHeight-108+"px"}})]})]}),Object(fe.jsx)("div",{style:{width:"100%",display:"flex",justifyContent:"center",alignItems:"center"},children:Object(fe.jsx)(g.f,{size:"l",style:{height:"32px",borderRadius:"20px",backgroundColor:"#5A9EFF",bottom:window.sber_id?"178px":"74px",position:"absolute"},onClick:function(){8!=o?(console.log("on"),R(),s(o+1)):t("main")},children:8==o?"\u0417\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u044c":"\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c"})})]})}var Ge,Je,qe,Ye,Ze=i(640),Xe=i(641),Qe=i(642),$e=i(643),et=(i.p,window.innerWidth/375),tt=(window.innerHeight,"desktop_web"==(null===(Ge=window)||void 0===Ge||null===(Je=Ge.location)||void 0===Je||null===(qe=Je.search)||void 0===qe||null===(Ye=qe.split("vk_platform=")[1])||void 0===Ye?void 0:Ye.split("&")[0])||"mobile_iphone");function it(e){e.setActiveProfilePanel;var t=e.user,i=e.setActiveModal,n=Object(r.useState)(0),o=Object(a.a)(n,2);o[0],o[1];return Object(fe.jsxs)(r.Fragment,{children:[Object(fe.jsxs)("body",{style:{textAlign:"center",color:"white",display:"flex",alignItems:"center",flexDirection:"column"},children:[Object(fe.jsx)(g.e,{size:tt?200:162*et,src:t.photo_200,style:{marginTop:55*et+"px",border:"8px solid white"}}),Object(fe.jsx)("h1",{children:t.name})]}),Object(fe.jsx)("body",{style:{textAlign:"center",alignItems:"center",display:"flex",width:"100px",margin:"0 auto",marginTop:"-10px"},children:Object(fe.jsxs)("div",{style:{display:"flex",justifyContent:"center",flexDirection:"row",width:"100%",alignItems:"center"},children:[Object(fe.jsx)("div",{children:Object(fe.jsx)("span",{style:{color:"white",fontSize:"30px",fontWeight:"800px",marginLeft:"1px"},children:t.rating})}),Object(fe.jsx)("img",{src:ze,style:{width:"24px",height:"24px",marginLeft:"4px"}})]})}),Object(fe.jsxs)(g.i,{style:{marginTop:"20px"},children:[Object(fe.jsxs)(g.g,{style:{width:"150px",height:"68px",verticalAlign:"top",textAlign:"center"},children:[Object(fe.jsx)(Ze.a,{style:{marginTop:"23px",marginLeft:"12px"}}),Object(fe.jsxs)("div",{style:{marginTop:"-35px",marginLeft:"50px",textAlign:"center",fontWeight:"600",width:"65px",height:"42px"},children:[Object(fe.jsx)("div",{style:{fontWeight:"700",fontSize:"21px"},children:t.statistics.victory}),Object(fe.jsx)("div",{style:{width:"65px",whiteSpace:"nowrap",textOverflow:"ellipsis",height:"20px",overflow:"hidden"},children:"\u041f\u043e\u0431\u0435\u0434"})]})]}),Object(fe.jsxs)(g.g,{style:{width:"150px",height:"68px",verticalAlign:"top",textAlign:"center"},children:[Object(fe.jsx)(Xe.a,{style:{marginTop:"23px",marginLeft:"12px"}}),Object(fe.jsxs)("div",{style:{marginTop:"-35px",marginLeft:"40px",textAlign:"center",fontWeight:"600",width:"95px",height:"42px"},children:[Object(fe.jsx)("div",{style:{fontWeight:"700",fontSize:"21px"},children:t.statistics.defeat}),Object(fe.jsx)("div",{style:{width:"95px",whiteSpace:"nowrap",textOverflow:"ellipsis",height:"20px",overflow:"hidden"},children:"\u041f\u043e\u0440\u0430\u0436\u0435\u043d\u0438\u0439"})]})]}),Object(fe.jsxs)(g.g,{style:{width:"150px",height:"68px",verticalAlign:"top",textAlign:"center"},children:[Object(fe.jsx)(Qe.a,{fill:"#B1B6BD",style:{marginTop:"23px",marginLeft:"12px"}}),Object(fe.jsxs)("div",{style:{marginTop:"-35px",marginLeft:"50px",textAlign:"center",fontWeight:"600",width:"65px",height:"42px"},children:[Object(fe.jsx)("div",{style:{fontWeight:"700",fontSize:"21px"},children:t.statistics.draw}),Object(fe.jsx)("div",{style:{width:"65px",whiteSpace:"nowrap",textOverflow:"ellipsis",height:"20px",overflow:"hidden"},children:"\u041d\u0438\u0447\u044c\u0438"})]})]})]}),Object(fe.jsx)(g.k,{style:{display:"flex",padding:"12px",position:"absolute",width:window.innerWidth-24+"px",bottom:window.sber_id&&!window.isIos?"130px":"60px"},children:Object(fe.jsx)(g.f,{size:"l",mode:"overlay_primary",before:Object(fe.jsx)($e.a,{fill:"#50C750"}),stretched:!0,onClick:function(){i("statistic"),R()},children:"\u0418\u0441\u0442\u043e\u0440\u0438\u044f"})})]})}function nt(e){var t=e.users,i=(e.sber_bar,e.open),n=e.href;return Object(fe.jsx)(g.q,{children:t.map((function(e,t){var o=e._id,s=e.name,r=e.rating,c=e.photo_200;return Object(fe.jsx)(g.C,{href:n(o),onClick:function(){i(o)},before:Object(fe.jsxs)(fe.Fragment,{children:[Object(fe.jsx)(g.M,{weight:"semibold",style:{marginRight:"16px"},children:t+4}),Object(fe.jsx)(g.e,{src:c})]}),description:Object(fe.jsxs)("div",{style:{display:"flex"},children:[r,Object(fe.jsx)("img",{src:ze,style:{width:"16px",height:"16px",marginLeft:"4px"}})]}),style:{borderRadius:"12px"},children:s},t)}))})}function ot(e){var t=e.user,i=e.sber_bar,o=Object(r.useState)(0),s=Object(a.a)(o,2),c=s[0],l=s[1],d=Object(r.useState)([]),h=Object(a.a)(d,2),p=h[0],x=h[1],b=function(e){if(e.includes("-"))i();else{var t=document.createElement("a");Object.assign(t,{href:"https://vk.com/id".concat(e),target:"_blank"}),t.click()}},j=function(e){if(e)return e.includes("-")?"":window.sber_id?"https://vk.com/id".concat(e):""};return Object(r.useEffect)((function(){n.on("rating_data",(function(e){x(e)}))}),[]),Object(fe.jsxs)(r.Fragment,{children:[Object(fe.jsx)(g.v,{children:"\u0420\u0435\u0439\u0442\u0438\u043d\u0433"}),Object(fe.jsx)(g.k,{children:p[0]&&p[2]?Object(fe.jsxs)(fe.Fragment,{children:[" ",Object(fe.jsx)(g.n,{slideIndex:c,onChange:l,isDraggable:!1,showArrows:!1,style:{height:"100%",overflow:"hidden"},children:Object(fe.jsxs)("div",{style:{cursor:"default",overflow:"hidden"},children:[Object(fe.jsx)(st,{users:p,open:b,href:j}),Object(fe.jsx)(nt,{users:p.slice(3),open:b,href:j})]})}),Object(fe.jsx)(g.E,{size:"64px"})]}):Object(fe.jsx)(g.A,{})}),Object(fe.jsxs)(g.m,{filled:!0,vertical:"bottom",children:[Object(fe.jsx)(g.B,{wide:!0}),Object(fe.jsx)(g.C,{description:Object(fe.jsxs)("div",{style:{display:"flex"},children:[t.rating,Object(fe.jsx)("body",{style:{marginTop:"1px"},children:Object(fe.jsx)("img",{src:ze,style:{width:"16px",height:"16px",marginLeft:"4px"}})})]}),before:Object(fe.jsx)(g.e,{src:t.photo_200}),disabled:!0,children:t.name}),Object(fe.jsx)(g.E,{})]}),Object(fe.jsx)(g.E,{})]})}function st(e){var t=e.users,i=(e.sber_bar,e.href),n=e.open;return Object(fe.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-around",width:"100%",alignItems:"end",marginTop:"10px",marginBottom:"30px"},children:[Object(fe.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(fe.jsxs)("div",{style:{position:"relative"},children:[Object(fe.jsx)("div",{style:{position:"absolute",borderRadius:"100%",width:"24px",height:"24px",backgroundColor:"#C0C0C0",textAlign:"center",zIndex:1,color:"white",fontWeight:"500",top:"4px",left:"1px"},children:"2"}),Object(fe.jsx)(g.e,{size:90,src:t[1].photo_200,style:{border:"5px solid #C0C0C0",marginRight:"auto",marginLeft:"auto",cursor:"pointer"},href:i(t[1]._id),onClick:function(){n(t[1]._id)}})]}),Object(fe.jsx)("div",{style:{width:"80px",textAlign:"center",fontSize:"14px",fontWeight:"500",marginRight:"auto",marginLeft:"auto"},children:t[1].name.split(" ")[0]}),Object(fe.jsxs)("div",{style:{marginRight:"auto",marginLeft:"auto",maxHeight:"30px",fontSize:"14px",color:"grey"},children:[t[1].rating,Object(fe.jsx)("img",{src:ze,style:{width:"16px",height:"16px",marginLeft:"4px",top:"2.5px",position:"relative"}})]})]}),Object(fe.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(fe.jsxs)("div",{style:{position:"relative"},children:[Object(fe.jsx)("div",{style:{position:"absolute",borderRadius:"100%",width:"24px",height:"24px",backgroundColor:"gold",textAlign:"center",zIndex:"1",color:"white",fontWeight:"500",fontSize:"16px",top:"4px",left:"2px"},children:"1"}),Object(fe.jsx)(g.e,{size:100,src:t[0].photo_200,style:{border:"5px solid gold",marginRight:"auto",marginLeft:"auto",cursor:"pointer"},href:i(t[0]._id),onClick:function(){n(t[0]._id)}})]}),Object(fe.jsx)("div",{style:{width:"80px",textAlign:"center",fontSize:"14px",fontWeight:"500",marginLeft:"auto",marginRight:"auto"},children:t[0].name.split(" ")[0]}),Object(fe.jsxs)("div",{style:{marginRight:"auto",marginLeft:"auto",maxHeight:"30px",fontSize:"14px",color:"grey"},children:[t[0].rating,Object(fe.jsx)("img",{src:ze,style:{width:"16px",height:"16px",marginLeft:"4px",top:"2.5px",position:"relative"}})]})]}),Object(fe.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(fe.jsxs)("div",{children:[Object(fe.jsx)("div",{style:{position:"absolute",borderRadius:"100%",width:"24px",height:"24px",backgroundColor:"#cd7f32",textAlign:"center",zIndex:"1",color:"white",fontWeight:"500"},children:"3"}),Object(fe.jsx)(g.e,{size:80,src:t[2].photo_200,style:{border:"5px solid #cd7f32",marginRight:"auto",marginLeft:"auto",cursor:"pointer"},href:i(t[2]._id),onClick:function(){n(t[2]._id)}})]}),Object(fe.jsx)("div",{style:{width:"80px",textAlign:"center",fontSize:"14px",fontWeight:"500",marginRight:"auto",marginLeft:"auto"},children:t[2].name.split(" ")[0]}),Object(fe.jsxs)("div",{style:{marginRight:"auto",marginLeft:"auto",maxHeight:"30px",fontSize:"14px",color:"grey"},children:[t[2].rating,Object(fe.jsx)("img",{src:ze,style:{width:"16px",height:"16px",marginLeft:"4px",top:"2.5px",position:"relative"}})]})]})]})}i.p;var rt=i(36),ct=i(644),lt=i(645),at=i.p+"static/media/line.ac7f875e.svg",dt=i.p+"static/media/BlackSheep.f35eb150.svg",ht=i.p+"static/media/SmokeSheep.207bb504.svg";function pt(e){var t,i,n,o=e.setActiveProfilePanel;e.user;return Object(fe.jsxs)("body",{children:[Object(fe.jsx)(g.v,{left:Object(fe.jsx)(g.w,{onClick:function(){return o("home")},label:void 0}),children:"\u041c\u0430\u0433\u0430\u0437\u0438\u043d"}),Object(fe.jsx)(g.o,{children:Object(fe.jsx)(g.h,{size:"l",children:Object(fe.jsx)(g.g,{mode:"outline",children:Object(fe.jsxs)("div",{style:{width:"100%",display:"flex",flexDirection:"row",justifyContent:"space-between"},children:[Object(fe.jsx)("div",{style:{height:"96px",display:"flex",flexDirection:"column",justifyContent:"center"},children:Object(fe.jsxs)("div",{style:{position:"relative",left:"30px"},children:[Object(fe.jsx)("span",{style:{position:"relative",fontSize:"25px",top:"-6px",fontWeight:"500"},children:"31123123"}),Object(fe.jsx)("img",{src:Fe,style:{width:"30px",height:"30px",marginTop:"3px",marginLeft:"3px",justifyContent:"center"}})]})}),Object(fe.jsx)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center"},children:Object(fe.jsxs)("div",{style:{right:"20px",position:"relative",display:"flex",flexDirection:"row"},children:[Object(fe.jsxs)("div",{style:{right:"3px",position:"relative"},children:[Object(fe.jsx)(g.f,{size:"s",before:Object(fe.jsx)(ct.a,{fill:"#FFFFFF"})}),Object(fe.jsxs)("div",{children:["+3",Object(fe.jsx)("img",{style:{position:"relative",top:"4px",left:"3px"},src:Fe})]})]}),Object(fe.jsxs)("div",{style:{left:"3px",position:"relative"},children:[Object(fe.jsx)(g.f,{size:"s",before:Object(fe.jsx)(lt.a,{fill:"#FFFFFF"})}),Object(fe.jsxs)("div",{children:["+1",Object(fe.jsx)("img",{style:{position:"relative",top:"4px",left:"3px"},src:Fe})]})]}),Object(fe.jsx)("img",{src:at,style:{height:"66px",widht:"0.3px",marginTop:"3px",marginLeft:"3px",color:"grey",position:"relative",right:"140px"}})]})})]})})})}),Object(fe.jsx)(g.i,{size:"m",style:{marginTop:"1px",display:"flex",flexDirection:"column"},children:Object(fe.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(fe.jsx)("p",{}),Object(fe.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[Object(fe.jsxs)(g.g,{mode:"shadow",style:{width:"135px",height:"150px",paddingBottom:"80px"},children:[Object(fe.jsx)("div",{style:{wight:"100%",color:"grey",fontSize:"14px",position:"relative",left:"8px",top:"5px"},children:"\u041e\u0432\u0446\u044b"}),Object(fe.jsx)("div",{style:{wight:"100%",fontSize:"12px",fontWeight:"700",position:"relative",left:"8px",top:"5px"},children:"\u0427\u0435\u0440\u043d\u0430\u044f \u043e\u0432\u0435\u0447\u043a\u0430"}),Object(fe.jsx)("div",{style:{wight:"100%",display:"flex",justifyContent:"center",paddingTop:"40px"},children:Object(fe.jsx)("img",{src:dt,style:{width:"60px"}})}),Object(fe.jsxs)("div",{style:{width:"100%"},children:[Object(fe.jsxs)("div",{style:(t={height:"96px",display:"flex",flexDirection:"row",justifyContent:"center"},Object(rt.a)(t,"height","30px"),Object(rt.a)(t,"position","relative"),Object(rt.a)(t,"top","30px"),t),children:[Object(fe.jsx)("span",{style:Object(rt.a)({fontSize:"20px",position:"relative",fontWeight:"500"},"position","relative"),children:"123"}),Object(fe.jsx)("img",{src:Fe,style:{width:"22px",height:"22px",marginTop:"3px",marginLeft:"3px",justifyContent:"center"}})]}),Object(fe.jsx)("div",{style:{justifyContent:"center",display:"flex",flexDirection:"row",paddingTop:"30px"},children:Object(fe.jsx)(g.f,{children:"\u041a\u0443\u043f\u0438\u0442\u044c"})}),Object(fe.jsx)("div",{style:{height:"10px"}})]})]}),Object(fe.jsxs)(g.g,{mode:"shadow",style:{width:"135px",height:"150px",paddingBottom:"80px"},children:[Object(fe.jsx)("div",{style:{wight:"100%",color:"grey",fontSize:"14px",position:"relative",left:"8px",top:"5px"},children:"\u041e\u0432\u0446\u044b"}),Object(fe.jsx)("div",{style:{wight:"100%",fontSize:"12px",fontWeight:"700",position:"relative",left:"8px",top:"5px"},children:"\u041e\u0432\u0435\u0447\u043a\u0430 \u041a\u0443\u0440\u0438\u043b\u044c\u0449\u0438\u043a\u0430"}),Object(fe.jsx)("div",{style:{wight:"100%",display:"flex",justifyContent:"center",paddingTop:"40px"},children:Object(fe.jsx)("img",{src:ht,style:{width:"60px"}})}),Object(fe.jsxs)("div",{style:{width:"100%"},children:[Object(fe.jsx)("div",{style:(i={height:"96px",display:"flex",flexDirection:"row",justifyContent:"center"},Object(rt.a)(i,"height","30px"),Object(rt.a)(i,"position","relative"),Object(rt.a)(i,"top","30px"),i),children:Object(fe.jsx)("span",{style:Object(rt.a)({fontSize:"13px",position:"relative",fontWeight:"500"},"position","relative"),children:"\u041a\u0443\u043f\u043b\u0435\u043d\u043e"})}),Object(fe.jsx)("div",{style:{justifyContent:"center",display:"flex",flexDirection:"row",paddingTop:"30px"},children:Object(fe.jsx)(g.f,{mode:"secondary",children:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c"})}),Object(fe.jsx)("div",{style:{height:"10px"}})]})]}),Object(fe.jsxs)(g.g,{mode:"shadow",style:{width:"135px",height:"150px",paddingBottom:"80px"},children:[Object(fe.jsx)("div",{style:{wight:"100%",color:"grey",fontSize:"14px",position:"relative",left:"8px",top:"5px"},children:"\u041e\u0432\u0446\u044b"}),Object(fe.jsx)("div",{style:{wight:"100%",fontSize:"12px",fontWeight:"700",position:"relative",left:"8px",top:"5px"},children:"\u041e\u0432\u0435\u0447\u043a\u0430 \u041a\u0443\u0440\u0438\u043b\u044c\u0449\u0438\u043a\u0430"}),Object(fe.jsx)("div",{style:{wight:"100%",display:"flex",justifyContent:"center",paddingTop:"40px"},children:Object(fe.jsx)("img",{src:ht,style:{width:"60px"}})}),Object(fe.jsxs)("div",{style:{width:"100%"},children:[Object(fe.jsxs)("div",{style:(n={height:"96px",display:"flex",flexDirection:"row",justifyContent:"center"},Object(rt.a)(n,"height","30px"),Object(rt.a)(n,"position","relative"),Object(rt.a)(n,"top","30px"),n),children:[Object(fe.jsx)("span",{style:Object(rt.a)({fontSize:"20px",position:"relative",fontWeight:"500"},"position","relative"),children:"123"}),Object(fe.jsx)("img",{src:Fe,style:{width:"22px",height:"22px",marginTop:"3px",marginLeft:"3px",justifyContent:"center"}})]}),Object(fe.jsx)("div",{style:{justifyContent:"center",display:"flex",flexDirection:"row",paddingTop:"30px"},children:Object(fe.jsx)(g.f,{children:"\u041a\u0443\u043f\u0438\u0442\u044c"})}),Object(fe.jsx)("div",{style:{height:"10px"}})]})]}),Object(fe.jsx)("div",{style:{wight:"100%",height:"180px",paddingBottom:"80px"}})]})]})})]})}var xt=i(646),bt=i(647),jt=g.a,gt=window.innerWidth>=800;function ut(e){e.setActiveProfilePanel;var t=e.user,i=e.setActiveModal,n=e.sber_bar;return Object(fe.jsxs)(g.r,{style:{overflow:"scroll"},id:"statistic",onClose:function(){i(null)},children:[Object(fe.jsx)(g.s,{right:Object(fe.jsx)(r.Fragment,{children:jt===g.a&&!gt&&Object(fe.jsx)(g.x,{onClick:function(){i(null),R()},children:Object(fe.jsx)(xt.a,{})})}),children:Object(fe.jsx)("div",{style:{fontSize:"21px",fontWeight:"500",width:"100%",textAlign:"center"},children:"\u0418\u0441\u0442\u043e\u0440\u0438\u044f"})}),Object(fe.jsxs)(g.o,{children:[t.history.length>=1?t.history.map((function(e){var t="victory"==e.type?"green":"defeat"==e.type?"red":"grey";return Object(fe.jsx)(g.z,{onClick:function(){e._id&&function(e){if(e.includes("-"))n();else{var t=document.createElement("a");Object.assign(t,{href:"https://vk.com/id".concat(e),target:"_blank"}),t.click()}}(e._id)},before:Object(fe.jsx)(g.e,{src:e.photo_200,style:{size:"48px",border:"0px solid #7C9371"}}),caption:Object(fe.jsx)("div",{style:{color:t,fontSize:"13px"},children:"victory"==e.type?"\u041f\u043e\u0431\u0435\u0434\u0430":"defeat"==e.type?"\u041f\u043e\u0440\u0430\u0436\u0435\u043d\u0438\u0435":"\u041d\u0438\u0447\u044c\u044f"}),after:Object(fe.jsxs)("div",{children:[Object(fe.jsxs)("div",{style:{position:"absolute",right:"20px",color:t,fontSize:"17"},children:["victory"==e.type?"+":"defeat"==e.type?"-":"+",e.rating]}),Object(fe.jsx)("img",{src:ze,style:{width:"16px",height:"16px"}}),Object(fe.jsx)("div",{style:{position:"absolute",right:"0px",color:"grey",fontSize:"13px",fontWeight:"400"},children:new Date(e.date).toLocaleString("default",{month:"long",day:"2-digit",hour:"2-digit",minute:"2-digit"})})]}),children:Object(fe.jsx)("div",{style:{fontSize:"15px"},children:e.name})})})):Object(fe.jsx)(g.y,{icon:Object(fe.jsx)(bt.a,{}),children:"\u0417\u0434\u0435\u0441\u044c \u0431\u0443\u0434\u0435\u0442 \u0438\u0441\u0442\u043e\u0440\u0438\u044f \u0432\u0430\u0448\u0438\u0445 \u043c\u0430\u0442\u0447\u0435\u0439"}),window.sber_id?Object(fe.jsx)("div",{style:{height:"92px"}}):""]})]})}var ft,wt,mt,yt,vt,Ot,_t,Ct,kt,St=i.p+"static/media/mitursky.66e72b7f.png";i(624),null===(ft=window)||void 0===ft||null===(wt=ft.location)||void 0===wt||null===(mt=wt.search)||void 0===mt||null===(yt=mt.split("vk_platform=")[1])||void 0===yt||yt.split("&")[0];!function(){ge.apply(this,arguments)}();var zt=(null===(vt=window.location)||void 0===vt||null===(Ot=vt.search)||void 0===Ot||null===(_t=Ot.slice(1))||void 0===_t||null===(Ct=_t.split("user_id=")[1])||void 0===Ct?void 0:Ct.split("&")[0])||window.sber_id;function Ft(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}f.a.send("VKWebAppInit"),f.a.send("VKWebAppSetViewSettings",{status_bar_style:"dark",action_bar_color:"white",navigation_bar_color:"white"});var At=Ft();window.isIos=At;var Tt=function(){var e=Object(r.useState)("loading"),t=Object(a.a)(e,2),i=t[0],o=t[1],s=Object(r.useState)("play"),c=Object(a.a)(s,2),l=c[0],u=c[1],w=Object(r.useState)("home"),m=Object(a.a)(w,2),y=m[0],v=m[1],O=Object(r.useState)({}),_=Object(a.a)(O,2),C=_[0],k=_[1],S=Object(r.useState)(!1),F=Object(a.a)(S,2),A=F[0],T=F[1],D=Object(r.useState)(!1),H=Object(a.a)(D,2),W=H[0],B=H[1],L=Object(r.useState)(0),R=Object(a.a)(L,2),I=R[0],M=R[1];window.user=C;var V=Object(r.useState)(null),K=Object(a.a)(V,2),U=K[0],G=K[1],J=Object(r.useState)(null),q=Object(a.a)(J,2),Y=q[0],Z=q[1],X=Object(r.useState)(!1),Q=Object(a.a)(X,2),$=Q[0],ee=Q[1],te=Object(r.useState)(!1),ie=Object(a.a)(te,2),ne=ie[0],oe=ie[1],se=Object(r.useState)(null),re=Object(a.a)(se,2),ce=re[0],le=re[1],ae=Object(r.useState)(null),de=Object(a.a)(ae,2),pe=(de[0],de[1],Object(r.useState)(null)),xe=Object(a.a)(pe,2),be=xe[0],je=xe[1],ge=Object(r.useState)(!1),we=Object(a.a)(ge,2),me=we[0],ye=(we[1],Object(r.useState)(!1)),ve=Object(a.a)(ye,2),Oe=ve[0],_e=ve[1],Ce=Object(r.useState)(!1),ke=Object(a.a)(Ce,2);ke[0],ke[1],At=Ft(),window.isIos=At;var Se=Object(fe.jsx)(g.t,{activeModal:ce,onClose:function(){le(null)},children:Object(fe.jsx)(ut,{sber_bar:Ae,setActiveModal:le,user:C,id:"statistic"})});window.isBattle=ne;var Fe=function(e){var t=e.currentTarget.dataset.story;"rating"!=l&&"rating"==t&&(n.emit("get_rating"),console.log("get_rating")),u(t)};function Ae(){Z(Object(fe.jsx)(g.D,{onClose:function(){Z(null)},style:{marginBottom:window.sber_id?"80px":""},before:Object(fe.jsx)(g.e,{size:24,src:"https://sun9-13.userapi.com/s/v1/ig2/aPcuDKaV_Mr8GoTAvFCzVWZbce1yopbQhJKZ-BFfm-4ikqAMAIgvN4Zk4BQxQGsZhb2emZwGRGJeuo8OcfoLiXNU.jpg?size=400x400&quality=95&crop=0,0,400,400&ava=1"}),children:'\u042d\u0442\u043e\u0442 \u0438\u0433\u0440\u043e\u043a \u0432\u043e\u0448\u0435\u043b \u0447\u0435\u0440\u0435\u0437 "\u0421\u0431\u0435\u0440 \u0421\u0430\u043b\u044e\u0442", \u043e\u0442\u043a\u0440\u044b\u0442\u044c \u043f\u0440\u043e\u0444\u0438\u043b\u044c \u0412\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u0435 - \u043d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e.'}))}var De=!1;return window.rcon_script=function(){Oe&&(_e(!1),je(null))},Object(r.useEffect)((function(){function e(){n.on("userData",(function(e,t){t&&M(Date.now()-t),e.notify_msg&&B(!0),"loading"==i&&T(!0),k(e),ee(e.search)})),n.on("dataUpdate",(function(e){!function(e){for(var t in e)window.user[t]=e[t];k(window.user)}(e)})),n.on("ads_nice",(function(e,t){!function(e,t){G(Object(fe.jsxs)(g.D,{style:{marginBottom:window.sber_id?"80px":""},onClose:function(){G(null)},before:Object(fe.jsx)(p.a,{width:24,height:24}),children:["+",e," \u0440\u0435\u0439\u0442\u0438\u043d\u0433\u0430 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u043e. \u0421\u043f\u0430\u0441\u0438\u0431\u043e, \u0442\u044b \u043f\u043e\u043c\u043e\u0433\u0430\u0435\u0448\u044c \u043d\u0430\u043c \u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0441\u044f \u043b\u0443\u0447\u0448\u0435!"]}))}(e)})),n.on("lobby_started",(function(e){if(kt){kt.stop();new P.Howl({src:["./sounds/start.mp3"],autoplay:!0,volume:.5})}ue(e),u("battle"),o("main"),oe(!0),ee(!1),G(null),le(null)})),n.on("reconnect_to",(function(e){console.log("RCON TO PORT "+e),z(e)})),n.on("disconnect",(function(){_e(!0),je(Object(fe.jsxs)(g.c,{style:{pointerEvents:"none"},className:"offAlert",actionsLayout:"vertical",onClose:function(){je(null)},header:"\u0423\u043f\u0441 :(",children:["\u041f\u043e\u0442\u0435\u0440\u044f\u043d\u043e \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435 \u0441 \u0438\u043d\u0442\u0435\u0440\u043d\u0435\u0442\u043e\u043c",Object(fe.jsx)("div",{style:{height:"20px"}}),Object(fe.jsx)(g.F,{})]}))})),n.on("lobby_undefined",(function(){console.log("und"),"loading"==i?(kt=new P.Howl({src:["./sounds/bg.mp3"],autoplay:!0,loop:!0,volume:.2}),T(!0),console.log("battle end"),he(),oe(!1),setTimeout((function(){u("play")}),200)):"rating"!=l&&"profile"!=l&&(console.log("end"),he(),oe(!1),setTimeout((function(){u("play")}),200))})),n.on("lobby_finish",(function(e,t,n,o){var s=e.find((function(e){return e._id!=(zt||window.sber_id)})),r=n.find((function(e){return e._id==zt||window.sber_id})).rating;he(),oe(!1),N&&(N.stop(),N=!1);new P.Howl({src:["./sounds/end.mp3"],autoplay:!0,onend:function(){kt?kt.play():kt=new P.Howl({src:["./sounds/bg.mp3"],autoplay:!0,loop:!0,volume:.3})},volume:.5});setTimeout((function(){u("play"),"loading"==i&&T(!0),setTimeout((function(){!function(e,t,i,n,o){je(Object(fe.jsx)(g.c,{actions:[{title:"\u041e\u043a",autoclose:!0}],actionsLayout:"vertical",onClose:function(){je(null)},header:o?"\u041d\u0438\u0447\u044c\u044f":i?"\u041f\u043e\u0431\u0435\u0434\u0430!":"\u041f\u043e\u0440\u0430\u0436\u0435\u043d\u0438\u0435",children:Object(fe.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",gap:"8px",fontSize:"18px"},children:[Object(fe.jsx)(g.e,{size:74,style:{marginTop:"8px"},src:e}),t,Object(fe.jsx)("br",{}),Object(fe.jsxs)("div",{style:{display:"flex",fontSize:"28px"},children:[o||i?"+":"-",n," ",Object(fe.jsx)("img",{src:ze,style:{width:"28px",height:"28px",marginLeft:"6px",marginTop:"3px"}})]}),!o&&!me&&!window.sber_id&&n>0?Object(fe.jsxs)(fe.Fragment,{children:[Date.now()-window.user.last_story_publish+I>864e5?Object(fe.jsxs)(g.f,{size:"m",onClick:function(){f.a.send("VKWebAppShowStoryBox",{background_type:"image",url:"https://i.ibb.co/VJXr96D/story.png",app_id:"7958418",attachment:{text:"game",type:"url",url:"https://vk.com/app7958418"}})},before:Object(fe.jsx)(d.a,{size:16}),style:{marginTop:"4px"},after:Object(fe.jsx)("div",{style:{display:"flex",fontSize:"14px",marginTop:"-2px"}}),children:["\u0411\u043e\u043d\u0443\u0441 x2",Object(fe.jsx)("img",{src:ze,style:{width:"14px",height:"14px",marginLeft:"2px",marginTop:"5px",marginBottom:"-2px"}})]}):"",Object(fe.jsx)("div",{style:{color:"gray",textAlign:"center",fontSize:"12px",maxWidth:"200px"},children:Date.now()-window.user.last_story_publish+I>864e5?"\u041e\u043f\u0443\u0431\u043b\u0438\u043a\u0443\u0439\u0442\u0435 \u0438\u0441\u0442\u043e\u0440\u0438\u044e, \u0447\u0442\u043e\u0431\u044b \u043f\u043e\u043b\u0443\u0447\u0430\u0442\u044c x2 \u0440\u0435\u0439\u0442\u0438\u043d\u0433\u0430 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0435 24\u0447.":"\u0421\u043f\u0430\u0441\u0438\u0431\u043e, \u0447\u0442\u043e \u043e\u043f\u0443\u0431\u043b\u0438\u043a\u043e\u0432\u0430\u043b\u0438 \u0438\u0441\u0442\u043e\u0440\u0438\u044e, \u0440\u0435\u0439\u0442\u0438\u043d\u0433 \u0443\u0434\u0432\u043e\u0435\u043d!"})]}):""]})}))}(s.photo_200,s.name,s.command!=t,r,o)}),300)}),200)})),console.log("go_con")}f.a.subscribe((function(e){var t=e.detail,i=t.type,o=t.data;console.log(i,o),"VKWebAppAllowMessagesFromGroupResult"==i&&o.result&&(n.emit("notify_msg"),B(!0)),"VKWebAppViewRestore"==i&&setTimeout((function(){z(1)}),1e3),"VKWebAppShowStoryBoxResult"==i&&(n.emit("story_publish"),je(null)),"VKWebAppViewHide"==i&&kt&&kt.stop()})),window.start_socket_on=e,window.auto_start_socket&&e()}),[]),Object(fe.jsx)(g.H,{modal:Se,popout:be,header:!1,style:{justifyContent:"center"},children:Object(fe.jsx)(g.G,{animate:!0,spaced:De,width:"100%",maxWidth:"100%",children:Object(fe.jsxs)(g.l,{activeStory:l,tabbar:ne||"loading"==i?"":Object(fe.jsxs)(g.I,{onClick:function(){E()},style:{height:window.sber_id?At?"43px":"130px":"",alignItems:window.sber_id?"baseline":"",borderRadius:window.sber_id?"20px 20px 0px 0px":"",bottom:window.sber_id?At?"profile"==l?window.reloaded?"68px":"-68px":(window.reloaded,"0px"):"0px":"0x"},children:[Object(fe.jsx)(g.J,{onClick:Fe,selected:"profile"===l,"data-story":"profile",text:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c",children:Object(fe.jsx)(x.a,{})}),Object(fe.jsx)(g.J,{onClick:Fe,selected:"play"===l,"data-story":"play",text:"\u0418\u0433\u0440\u0430\u0442\u044c",children:Object(fe.jsx)(b.a,{})}),Object(fe.jsx)(g.J,{onClick:Fe,selected:"rating"===l,"data-story":"rating",text:"\u0420\u0435\u0439\u0442\u0438\u043d\u0433",children:Object(fe.jsx)(j.a,{})})]}),children:[Object(fe.jsxs)(g.N,{id:"play",activePanel:i,children:[Object(fe.jsxs)(g.u,{id:"main",className:"rePanel",children:[Object(fe.jsx)(Te,{lobby_bar:function(){G(Object(fe.jsx)(g.D,{style:{marginBottom:window.sber_id?"80px":""},duration:999999999,id:"play",onClose:function(){G(null),ee(!1)},action:"\u041e\u0442\u043c\u0435\u043d\u0430",onActionClick:function(){G(null),ee(!1),n.emit("cancel")},before:Object(fe.jsx)(g.e,{size:24,style:{background:"var(--accent)"},children:Object(fe.jsx)(h.a,{fill:"#fff",width:14,height:14})}),children:"\u0418\u0434\u0451\u0442 \u043f\u043e\u0438\u0441\u043a \u0441\u043e\u043f\u0435\u0440\u043d\u0438\u043a\u043e\u0432"}))},notify:W,notifyAlert:function(){var e=!1;je(Object(fe.jsx)(g.c,{actions:[{title:"\u041e\u0442\u043c\u0435\u043d\u0430",autoclose:!0,mode:"cancel"},{title:"\u0412\u043a\u043b\u044e\u0447\u0438\u0442\u044c",autoclose:!0,action:function(){e||(e=!0,f.a.send("VKWebAppAllowMessagesFromGroup",{group_id:209019197,key:"123"}))}}],actionsLayout:"horizontal",onClose:function(){je(null)},header:"\u0422\u0443\u0440\u043d\u0438\u0440\u044b",children:"\u0422\u0443\u0440\u043d\u0438\u0440\u044b \u043d\u0430\u0447\u043d\u0443\u0442\u0441\u044f \u0441\u043e\u0432\u0441\u0435\u043c \u0441\u043a\u043e\u0440\u043e! \u0412\u043a\u043b\u044e\u0447\u0430\u0439 \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f, \u0447\u0442\u043e\u0431\u044b \u043d\u0435 \u043f\u0440\u043e\u043f\u0443\u0441\u0442\u0438\u0442\u044c."}))},socket:n,loading:$,setLoading:ee,setActivePlayPanel:o}),U]}),Object(fe.jsxs)(g.u,{id:"loading",style:{backgroundColor:"white"},onClick:function(){A&&o("main")},children:[Object(fe.jsx)("img",{src:St,style:{width:.75*window.innerWidth,top:"0",bottom:"0",margin:"auto",left:"0",right:"0",position:"absolute"}}),A?Object(fe.jsx)("dev",{style:{textAlign:"center",fontSize:"1.25rem",position:"absolute",bottom:"70px",left:"0",right:"0",margin:"auto"},className:"blink1",children:"\u041d\u0430\u0436\u043c\u0438\u0442\u0435, \u0447\u0442\u043e\u0431\u044b \u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c"}):Object(fe.jsx)(g.F,{size:"medium",style:{top:"0",bottom:"0",margin:"auto",left:"0",right:"0",marginTop:.75*window.innerWidth/2+25,position:"absolute",color:"var(--accent)"}})]}),Object(fe.jsx)(g.u,{id:"learn",style:{backgroundColor:"white"},children:Object(fe.jsx)(Ue,{setActivePlayPanel:o})})]}),Object(fe.jsxs)(g.N,{id:"profile",activePanel:y,children:[Object(fe.jsx)(g.u,{id:"home",style:{overflow:"hidden"},className:"rePanel",children:Object(fe.jsx)(it,{setActiveProfilePanel:v,setActiveModal:le,user:C})}),Object(fe.jsx)(g.u,{id:"market",children:Object(fe.jsx)(pt,{setActiveProfilePanel:v,user:C})})]}),Object(fe.jsx)(g.N,{id:"rating",activePanel:"rating",children:Object(fe.jsxs)(g.u,{id:"rating",style:{overflow:"scroll",backgroundColor:"white"},children:[Object(fe.jsx)(ot,{user:C,sber_bar:Ae}),Y]})}),Object(fe.jsx)(g.N,{id:"battle",activePanel:"battle",children:Object(fe.jsx)(g.u,{id:"battle"})})]})})})},Dt=function(e){e&&e instanceof Function&&i.e(3).then(i.bind(null,655)).then((function(t){var i=t.getCLS,n=t.getFID,o=t.getFCP,s=t.getLCP,r=t.getTTFB;i(e),n(e),o(e),s(e),r(e)}))},Pt=(i(625),document.createElement("div"));document.body.appendChild(Pt),l.a.render(Object(fe.jsx)(g.j,{children:Object(fe.jsx)(g.b,{children:Object(fe.jsx)(g.d,{children:Object(fe.jsx)(Tt,{})})})}),document.getElementById("root")),Dt()}},[[626,1,2]]]);