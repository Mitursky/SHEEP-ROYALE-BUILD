(this.webpackJsonpclose=this.webpackJsonpclose||[]).push([[0],{219:function(e){e.exports=JSON.parse('{"files":[{"name":"bg_forest","file":"/img/spring_pack/bg_forest.png","format":"png"},{"name":"card_balance","file":"/img/spring_pack/interface/cards/card_balance.png","format":"png"},{"name":"card_corral","file":"/img/spring_pack/interface/cards/card_corral.png","format":"png"},{"name":"card_farm","file":"/img/spring_pack/interface/cards/card_farm.png","format":"png"},{"name":"card_sheep","file":"/img/spring_pack/interface/cards/card_sheep.png","format":"png"},{"name":"over_bg","file":"/img/spring_pack/interface/cards/over_bg.png","format":"png"},{"name":"under_bg","file":"/img/spring_pack/interface/cards/under_bg.png","format":"png"},{"name":"map_bg","file":"/img/spring_pack/interface/map_bg.png","format":"png"},{"name":"time_left","file":"/img/spring_pack/interface/time_left.png","format":"png"},{"name":"line","file":"/img/spring_pack/line.png","format":"png"},{"name":"main_bg","file":"/img/spring_pack/main_bg.png","format":"png"},{"name":"balloon","file":"/img/spring_pack/units/balloon.png","format":"png"},{"name":"balloon_farm","file":"/img/spring_pack/units/balloon_farm.png","format":"png"},{"name":"corral","file":"/img/spring_pack/units/corral.png","format":"png"},{"name":"farm","file":"/img/spring_pack/units/farm.png","format":"png"},{"name":"sheep","file":"/img/spring_pack/units/sheep.png","format":"png"}]}')},286:function(e,t,i){},299:function(e,t,i){},629:function(e,t,i){},630:function(e,t,i){},631:function(e,t,i){},632:function(e,t,i){},633:function(e,t,i){"use strict";i.r(t);var n=i(1),s=i(113),o=i.n(s),c=(i(286),i(46)),a=i.n(c),r=i(99),l=i(74),d=i(22),h=i(669),p=(i(670),i(636)),j=i(671),b=i(672),x=i(673),u=i(4),g=i(23),f=i.n(g),m=i(0),O=window.innerWidth/5;O>80&&(O=80);i(58),i(299);var y=i(17),w=i(30),v=i(635),_=i(637),k=i(638),C=i(639),A=i(640),S=i(641),z=i.p+"static/media/Fire.8c4394a2.svg",N=(i(158),i.p+"static/media/Apple.9169d479.svg"),T=i.p+"static/media/SheepRoyaleText.6310a86a.svg";function E(){new w.Howl({src:["https://mitursky.github.io/SHEEP-ROYALE-BUILD/sounds/panels/tab.m4a"],autoplay:!0,volume:.8})}function F(){new w.Howl({src:["https://mitursky.github.io/SHEEP-ROYALE-BUILD/sounds/panels/modal.m4a"],autoplay:!0,volume:.8})}var P,B=i(115);P=Object(B.io)("http://localhost:3101",{auth:{token:0},transports:["websocket"]});var D,H,I={"195.161.69.151":"wss://sheeproyale.ru",localhost:"http://localhost"};function R(e){var t,i,n,s=e.port,o=e.adress;(o?o=I[o]:(console.log(Object({NODE_ENV:"production",PUBLIC_URL:"https://mitursky.github.io/SHEEP-ROYALE-BUILD/build",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_CLIENT_ENV:"prod",REACT_APP_MUSIC_ENV:"true"})),o="wss://sheeproyale.ru"),console.log("connect to "+o),s=s?":30"+s:":300"+(t=1,i=2,Math.floor(Math.random()*(i-t+1)+t)),window.location.search.slice(1))&&(console.log("non loc"),P.disconnect(),console.log(o+s),(P=Object(B.io)("".concat(o).concat(s),{auth:{token:window.location.search.slice(1),referal:null===(n=window.location.hash.split("r=")[1])||void 0===n?void 0:n.split("&")[0]},timeout:1e3,transports:["websocket"]})).connect(),P.on("connect",(function(){console.log("con"),P.emit("get"),window.rcon_script()})),window.start_socket_on?window.start_socket_on():window.auto_start_socket=!0)}function L(e,t){var i=(e=Math.abs(e)%100)%10;return e>10&&e<20?t[2]:i>1&&i<5?t[1]:1==i?t[0]:t[2]}window.socket=P;var W="mobile_iphone"==(null===(D=window.location.search.split("vk_platform=")[1])||void 0===D?void 0:D.split("&")[0])||"mobile_iphone_messenger"==(null===(H=window.location.search.split("vk_platform=")[1])||void 0===H?void 0:H.split("&")[0]);function M(e){var t,i=e.lobby_bar,s=e.socket,o=e.loading,c=e.setLoading,a=e.setActivePlayPanel,r=e.setActiveModal,l=(e.notifyAlert,e.notify,e.mutedStatus),h=e.setMutedStatus,j=e.user,b=Object(n.useState)("false"!==j.friends_link?"friends":"all"),x=Object(d.a)(b,2),g=(x[0],x[1],Object(n.useState)([])),f=Object(d.a)(g,2),O=(f[0],f[1],Object(n.useState)({})),y=Object(d.a)(O,2),z=y[0],N=y[1];return Object(n.useEffect)((function(){s.emit("online_data"),setInterval((function(){s.emit("online_data")}),1e4),s.on("online_datas",(function(e){N(e)}))}),[]),Object(m.jsxs)("body",{style:{height:window.innerHeight-48+"px",width:"100%"},children:[Object(m.jsxs)("div",{style:{width:"100%",height:"100%",position:"absolute",display:"flex",justifyContent:"center",flexDirection:"column",backgroundColor:"#0000003b"},children:[Object(m.jsx)("div",{style:{display:"flex",justifyContent:"center",flexDirection:"column"},children:Object(m.jsx)("img",{src:T,style:{height:"70%",userSelect:"none",maxHeight:"350px"}})}),Object(m.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(m.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column"},children:[Object(m.jsx)(u.g,{size:"l",appearance:"overlay",before:Object(m.jsx)(v.a,{}),disabled:o,loading:o,onClick:function(){c(!0),s.emit("play"),i()},style:{fontSize:"25px",fontWeight:"900",marginBottom:"10px"},children:"\u0418\u0433\u0440\u0430\u0442\u044c"}),Object(m.jsx)(u.l,{children:Object(m.jsx)(u.S,{photos:function(){var e,t,i=[];if(null===z||void 0===z||null===(e=z.users)||void 0===e||e.map((function(e){i.push(e.photo_200)})),z.online>(null===z||void 0===z||null===(t=z.users)||void 0===t?void 0:t.length))for(var n=0;n<z.online-z.users.length;n++)i.push("default");return i}(),size:"m",count:3,layout:"vertical",style:{color:"#fff",padding:"8px 0"},children:Object(m.jsxs)("div",{style:{fontSize:"medium",fontWeight:"400"},children:[(null===z||void 0===z||null===(t=z.users)||void 0===t?void 0:t.length)>z.online?z.users.length:z.online," ",L(z.online,["\u0438\u0433\u0440\u043e\u043a","\u0438\u0433\u0440\u043e\u043a\u0430","\u0438\u0433\u0440\u043e\u043a\u043e\u0432"])," ","\u043e\u043d\u043b\u0430\u0439\u043d"]})})})]})})]}),Object(m.jsx)(u.g,{before:Object(m.jsx)(p.a,{width:24,height:24}),size:"m",style:{width:"140px",backgroundColor:"white",color:"black",display:"flex",position:"absolute",bottom:W?"166px":"104px",left:"10px"},onClick:function(){r("bonuses"),F()},children:"\u0411\u043e\u043d\u0443\u0441\u044b"}),Object(m.jsx)(u.g,{before:Object(m.jsx)(_.a,{width:24,height:24}),size:"m",style:{width:"140px",backgroundColor:"white",color:"black",display:"flex",position:"absolute",bottom:W?"122px":"60px",left:"10px"},onClick:function(){a("learn"),F()},children:"\u041e\u0431\u0443\u0447\u0435\u043d\u0438\u0435"}),Object(m.jsx)(u.r,{href:window.sber_id?"https://vk.me/join/iXCxH7UDAPygNUY8zRyxxnwDRaeqccNEN48=":"",children:Object(m.jsx)(k.a,{}),style:{backgroundColor:"white",color:"black",borderRadius:"100%",position:"absolute",bottom:W?"122px":"60px",right:"10px"},onClick:function(){var e=document.createElement("a");Object.assign(e,{href:"https://vk.me/join/iXCxH7UDAPygNUY8zRyxxnwDRaeqccNEN48=",target:"_blank"}),e.click()}}),Object(m.jsx)(u.r,{children:Object(m.jsx)(C.a,{}),href:window.sber_id?"https://vk.com/sheep_royale":"",style:{backgroundColor:"white",color:"black",borderRadius:"100%",position:"absolute",bottom:W?"122px":"60px",right:"65px"},onClick:function(){var e=document.createElement("a");Object.assign(e,{href:"https://vk.com/sheep_royale",target:"_blank"}),e.click()}}),Object(m.jsx)(u.r,{children:l?Object(m.jsx)(A.a,{}):Object(m.jsx)(S.a,{}),style:{backgroundColor:"white",color:"black",borderRadius:"100%",position:"absolute",bottom:W?"122px":"60px",right:"120px"},onClick:function(){1==w.Howler.volume()?(w.Howler.volume(0),h(!1)):(w.Howler.volume(1),h(!0))}})]})}var K=i(642),V=i(643),U=i(644),G=i(645),Y=i.p+"static/media/Frame 45.888b3464.png",J=i.p+"static/media/Frame 46.d06fdbb0.png",q=i.p+"static/media/Frame 47.aef1a41a.png",Q=i.p+"static/media/Frame 48.2eb75c98.png",X=i.p+"static/media/Frame 49.1f62962a.png",Z=i.p+"static/media/Frame 50.70cf89ca.png",$=i.p+"static/media/Frame 51.92be276c.png",ee=i.p+"static/media/Frame 52.76d63e5a.png",te=i.p+"static/media/Frame 53.13fda5d8.png";function ie(e){var t=e.setActivePlayPanel,i=Object(n.useState)(0),s=Object(d.a)(i,2),o=s[0],c=s[1];return console.log(o),Object(m.jsxs)("body",{children:[" ",Object(m.jsx)(u.y,{left:Object(m.jsx)(u.z,{onClick:function(){F(),t("main")}}),children:"\u041e\u0431\u0443\u0447\u0435\u043d\u0438\u0435"}),Object(m.jsxs)(u.n,{slideWidth:"100%",align:"center",style:{height:window.innerHeight-108+"px"},slideIndex:o,onChange:c,isDraggable:!0,showArrows:!0,children:[Object(m.jsxs)("div",{style:{justifyContent:"center",alignItems:"none",display:"flex"},children:[Object(m.jsx)(u.B,{icon:Object(m.jsx)(K.a,{fill:"#5A9EFF",style:{marginBottom:"-10px"}}),header:"\u041f\u043e\u043b\u0435 \u0431\u043e\u044f",style:{position:"absolute",marginTop:"-20px"}}),Object(m.jsx)("img",{src:Y,style:{position:"absolute",marginTop:"50px",height:window.sber_id?window.innerHeight-218+"px":window.innerHeight-140+"px"}})]}),Object(m.jsxs)("div",{style:{justifyContent:"center",display:"flex"},children:[Object(m.jsx)(u.B,{icon:Object(m.jsx)(V.a,{width:36,height:36,fill:"#5A9EFF",style:{marginBottom:"-10px"}}),header:"\u041a\u043e\u043b\u043e\u0434\u0430",style:{position:"absolute",marginTop:"-20px"}}),Object(m.jsx)("img",{src:J,style:{position:"absolute",height:window.sber_id?window.innerHeight-218+"px":window.innerHeight-108+"px"}})]}),Object(m.jsxs)("div",{style:{justifyContent:"center",display:"flex"},children:[Object(m.jsx)(u.B,{icon:Object(m.jsx)(V.a,{width:36,height:36,fill:"#5A9EFF",style:{marginBottom:"-10px"}}),header:"\u041a\u043e\u043b\u043e\u0434\u0430",style:{position:"absolute",marginTop:"-20px"}}),Object(m.jsx)("img",{src:q,style:{position:"absolute",height:window.sber_id?window.innerHeight-218+"px":window.innerHeight-108+"px"}})]}),Object(m.jsxs)("div",{style:{justifyContent:"center",display:"flex"},children:[Object(m.jsx)(u.B,{icon:Object(m.jsx)(V.a,{width:36,height:36,fill:"#5A9EFF",style:{marginBottom:"-10px"}}),header:"\u041a\u043e\u043b\u043e\u0434\u0430",style:{position:"absolute",marginTop:"-20px"}}),Object(m.jsx)("img",{src:Q,style:{position:"absolute",height:window.sber_id?window.innerHeight-218+"px":window.innerHeight-108+"px"}})]}),Object(m.jsxs)("div",{style:{justifyContent:"center",display:"flex"},children:[Object(m.jsx)(u.B,{icon:Object(m.jsx)(V.a,{width:36,height:36,fill:"#5A9EFF",style:{marginBottom:"-10px"}}),header:"\u041a\u043e\u043b\u043e\u0434\u0430",style:{position:"absolute",marginTop:"-20px"}}),Object(m.jsx)("img",{src:X,style:{position:"absolute",height:window.sber_id?window.innerHeight-218+"px":window.innerHeight-108+"px"}})]}),Object(m.jsxs)("div",{style:{justifyContent:"center",display:"flex"},children:[Object(m.jsx)(u.B,{icon:Object(m.jsx)(V.a,{width:36,height:36,fill:"#5A9EFF",style:{marginBottom:"-10px"}}),header:"\u041a\u043e\u043b\u043e\u0434\u0430",style:{position:"absolute",marginTop:"-20px"}}),Object(m.jsx)("img",{src:Z,style:{position:"absolute",height:window.sber_id?window.innerHeight-218+"px":window.innerHeight-108+"px"}})]}),Object(m.jsxs)("div",{style:{justifyContent:"center",display:"flex"},children:[Object(m.jsx)(u.B,{icon:Object(m.jsx)(U.a,{width:36,height:36,fill:"#5A9EFF",style:{marginBottom:"-10px"}}),header:"\u0417\u0434\u0430\u043d\u0438\u044f",style:{position:"absolute",marginTop:"-20px"}}),Object(m.jsx)("img",{src:$,style:{position:"absolute",marginTop:"10px",height:window.sber_id?window.innerHeight-218+"px":window.innerHeight-128+"px"}})]}),Object(m.jsxs)("div",{style:{justifyContent:"center",display:"flex"},children:[Object(m.jsx)(u.B,{icon:Object(m.jsx)(G.a,{width:36,height:36,fill:"#5A9EFF",style:{marginBottom:"-10px"}}),header:"\u0426\u0435\u043b\u044c",style:{position:"absolute",marginTop:"-20px"}}),Object(m.jsx)("img",{src:ee,style:{position:"absolute",height:window.sber_id?window.innerHeight-218+"px":window.innerHeight-108+"px"}})]}),Object(m.jsxs)("div",{style:{justifyContent:"center",display:"flex"},children:[Object(m.jsx)(u.B,{icon:Object(m.jsx)(G.a,{width:36,height:36,fill:"#5A9EFF",style:{marginBottom:"-10px"}}),header:"\u0426\u0435\u043b\u044c",style:{position:"absolute",marginTop:"-20px"}}),Object(m.jsx)("img",{src:te,style:{position:"absolute",marginTop:"20px",height:window.sber_id?window.innerHeight-218+"px":window.innerHeight-108+"px"}})]})]}),Object(m.jsx)("div",{style:{width:"100%",display:"flex",justifyContent:"center",alignItems:"center"},children:Object(m.jsx)(u.g,{size:"l",style:{height:"32px",borderRadius:"20px",backgroundColor:"#5A9EFF",bottom:window.sber_id?"178px":"74px",position:"absolute"},onClick:function(){8!=o?(console.log("on"),F(),c(o+1)):t("main")},children:8==o?"\u0417\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u044c":"\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c"})})]})}var ne=i(646);i(629);function se(e,t){var i=[];return e.length>0&&e.map((function(e){e.type==t&&i.push(e.photo_200)})),i}function oe(e){e.setActiveProfilePanel;var t=e.user,i=e.setActiveModal;return Object(m.jsxs)(n.Fragment,{className:"profile",children:[Object(m.jsxs)("div",{className:"profile-head",children:[Object(m.jsx)("div",{className:"profile-head__background"}),Object(m.jsxs)("div",{className:"profile-head__column",children:[Object(m.jsx)(u.e,{className:"profile-head__avatar",size:120,src:t.photo_200}),Object(m.jsxs)("div",{className:"profile-head__rating",children:[Object(m.jsx)("img",{src:z,className:"profile-head__rating_icon"}),Object(m.jsx)("span",{className:"profile-head__rating_number",children:t.rating})]}),Object(m.jsx)("span",{className:"profile-head__name",children:t.name}),Object(m.jsx)("div",{className:"profile-head__cardscroll",children:Object(m.jsxs)(u.j,{size:"s",style:{width:"100vw"},children:[Object(m.jsx)(u.h,{className:"profile-head__card profile-head__card_first",children:Object(m.jsxs)("div",{className:"profile-head__card_content",children:[Object(m.jsx)("span",{className:"profile-head__card_subtitle",children:"\u041f\u043e\u0431\u0435\u0434"}),Object(m.jsxs)("div",{className:"profile-head__card_bottom",children:[Object(m.jsx)("span",{className:"profile-head__card_statistics",children:t.statistics.victory}),Object(m.jsx)("div",{children:Object(m.jsx)(u.S,{className:"profile-head__card_stack",photos:se(t.history,"victory"),size:"xs",visibleCount:5})})]})]})}),Object(m.jsx)(u.h,{className:"profile-head__card profile-head__card_second",children:Object(m.jsxs)("div",{className:"profile-head__card_content",children:[Object(m.jsx)("span",{className:"profile-head__card_subtitle",children:"\u041f\u043e\u0440\u0430\u0436\u0435\u043d\u0438\u0439"}),Object(m.jsxs)("div",{className:"profile-head__card_bottom",children:[Object(m.jsx)("span",{className:"profile-head__card_statistics",children:t.statistics.defeat}),Object(m.jsx)(u.S,{className:"profile-head__card_stack",photos:se(t.history,"defeat"),size:"xs",visibleCount:3})]})]})}),Object(m.jsx)(u.h,{className:"profile-head__card profile-head__card_third",children:Object(m.jsxs)("div",{className:"profile-head__card_content",children:[Object(m.jsx)("span",{className:"profile-head__card_subtitle",children:"\u041d\u0438\u0447\u044c\u0438\u0445"}),Object(m.jsxs)("div",{className:"profile-head__card_bottom",children:[Object(m.jsx)("span",{className:"profile-head__card_statistics",children:t.statistics.draw}),Object(m.jsx)(u.S,{className:"profile-head__card_stack",photos:se(t.history,"draw"),size:"xs",visibleCount:2})]})]})})]})})]})]}),Object(m.jsx)("div",{className:"profile-background"}),Object(m.jsxs)("div",{className:"profile-deck",children:[Object(m.jsxs)("div",{className:"profile-deck__placeholder",children:[Object(m.jsx)("img",{className:"profile-deck__icon",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADkAAAA9CAYAAAAXicGTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAMeSURBVHgB7ZpPbtNAFMbfTByEWOUI5gbhBu0JSlR1waJNswAUsSg3qHuDsKgi2oWTRhUSKBhOQDgBOYK5gVddNPEMbxI7duyJaztBAvf9pMr/Zuabz5mZSv4GgCAIgiCIRw3T3bwejc+FBAtPPcbYFKQcvjk5HEABrkfOnpTQliD28LIR/Ok7weRUAnOZhO9Fdfo349MaY20pZVNpcMat18eti7X2dRU/3oyl5rYr6ny/+6rlQpboJ8eszaWNontQjgI6viMlayafvT05XPPFdQ0IKS40t00+Ez9U45AhrMpsYbCgTtogjsBU3w1dI932kYUHq29jYzXxEiSc42/eCDuAx+e6esEzM7j08GV9AGEMnuJ5p9PydHVs22ncYZ0a909xapwFtxejAY/7RXS6Hf2vrx2uSS5tp2lwbHhpVFXqJOeOmhs4LOzweu7zF+86rSkUIKkjGA7b49YkQ8dDnf2HdDjkYNkIvq0QnOjJMjUGB7HLXlGDOp0aLlxpnbi2uMijk8vkojkcDuF5sJIlkGZ4xnw+hJIww/i2anG5Mq+riEhb+FHZLHKbTIz31L+D+CJQb4ALJanfQ6ZOOJQ1fdpIbpNF6LT0i0yuuusLVAN2wF8x+a9BJqsCmawKZLIqkMmqQCarApmsCmSyKpDJqkAmqwKZrApksirszqSE1fdS23FKfy9VARDsmNwmE1Fa+uMxi+7NPDChJLMnsboYzqYKxF+mvTnei5PbpDEXq6BlkT6nxNnP1SnHuK8kUkY6UsDv5HPGI+17Lk4hB7lMXt46TQw338d6kgp0BPcHUU/g7Or2cxMKonRARDqcsVSg48e1c+pk5pNqOMwNaGPIqYTDueJiXK0NYa9GX9dSZs6hJxkf1p+BuykfUfN3dgcmE3BQQOdXLFnzOOM97OdwUwT/0MaIJK7A0HNTmhQk0/EUuCyldXQbIzbsGUgbVDs0soQV6pkqozoJJcH5PtlGB0eDlWpT10h/+MXCN3IOW2xxCWLvA6xv6kPbFd5CB/jEZ/Nh9/hoAgV14ltc1MaIbvvQAoIgCIIgCIL4D/kDMZSGMblBRfwAAAAASUVORK5CYII="}),Object(m.jsxs)("span",{className:"profile-deck__text",children:["\u041c\u0435\u0441\u0442\u043e \u0434\u043b\u044f \u043a\u043e\u043b\u043e\u0434.",Object(m.jsx)("br",{}),"\u0421\u043e\u0432\u0441\u0435\u043c \u0441\u043a\u043e\u0440\u043e \u0442\u0443\u0442 \u0447\u0442\u043e-\u0442\u043e \u043f\u043e\u044f\u0432\u0438\u0442\u0441\u044f"]})]}),Object(m.jsx)("div",{className:"profile-deck__history",children:Object(m.jsx)(u.g,{onClick:function(){i("statistic"),F()},appearance:"accent",size:"l",mode:"secondary",stretched:!0,before:Object(m.jsx)(ne.a,{className:"profile-deck__history_icon"}),children:Object(m.jsx)("span",{className:"profile-deck__history_text",children:"\u0418\u0441\u0442\u043e\u0440\u0438\u044f"})})})]})]})}i.p;var ce=i(651),ae=i(650),re=i(647),le=i(648),de=i(649);var he=function(e){var t=e.user,i=e.mode,n=void 0===i?"primary":i;return Object(m.jsxs)(m.Fragment,{children:[" ",Object(m.jsx)(u.g,{mode:n,after:Object(m.jsx)(re.a,{width:18,height:18}),onClick:function(){f.a.send("VKWebAppShowStoryBox",{background_type:"image",url:"https://i.ibb.co/FBpTSLs/story.png",app_id:"7958418",attachment:{text:"game",type:"url",url:"https://vk.com/app7958418#r=".concat(t._id)}})},children:"\u0412 \u0438\u0441\u0442\u043e\u0440\u0438\u044e"}),Object(m.jsx)("br",{}),Object(m.jsxs)("div",{style:{left:"4px",marginTop:"6px",marginBottom:"6px"},children:[Object(m.jsx)(u.g,{mode:n,after:Object(m.jsx)(le.a,{width:18,height:18}),onClick:function(){f.a.send("VKWebAppShare",{link:"https://vk.com/app7958418#r=".concat(t._id)})},children:"\u041f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f"}),Object(m.jsx)(u.g,{style:{top:"4px",marginLeft:"8px"},mode:n,after:Object(m.jsx)(de.a,{width:18,height:18}),onClick:function(){f.a.send("VKWebAppCopyText",{text:"https://vk.com/app7958418#r=".concat(t._id)})}})]})]})};window.innerWidth;function pe(e){var t=e.users,i=(e.sber_bar,e.href),n=e.open,s=e.start;return Object(m.jsx)(u.s,{children:t.map((function(e,t){var o=e._id,c=e.name,a=e.rating,r=e.photo_200;return Object(m.jsx)(u.F,{href:i(o),onClick:function(){n(o)},before:Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(u.Q,{weight:"semibold",style:{marginRight:"16px"},children:t+s}),Object(m.jsx)(u.e,{src:r})]}),description:Object(m.jsxs)("div",{style:{display:"flex"},children:[a,Object(m.jsx)("img",{src:z,style:{width:"16px",height:"16px",marginLeft:"4px"}})]}),style:{borderRadius:"12px"},children:c},t)}))})}function je(e){var t=e.users,i=(e.sber_bar,e.href),n=e.open;return Object(m.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-around",width:"100%",alignItems:"end",marginTop:"10px",marginBottom:"30px"},children:[t[1]&&Object(m.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(m.jsxs)("div",{style:{position:"relative"},children:[Object(m.jsx)("div",{style:{position:"absolute",borderRadius:"100%",width:"24px",height:"24px",backgroundColor:"#C0C0C0",textAlign:"center",zIndex:1,color:"white",fontWeight:"500",top:"4px",left:"1px"},children:"2"}),Object(m.jsx)(u.e,{size:90,src:t[1].photo_200,style:{border:"5px solid #C0C0C0",marginRight:"auto",marginLeft:"auto",cursor:"pointer"},href:i(t[1]._id),onClick:function(){n(t[1]._id)}})]}),Object(m.jsxs)("div",{style:{marginRight:"auto",marginLeft:"auto",maxHeight:"30px",fontSize:"14px",color:"grey"},children:[t[1].rating,Object(m.jsx)("img",{src:z,style:{width:"16px",height:"16px",marginLeft:"4px",top:"2.5px",position:"relative"}})]})]}),t[0]&&Object(m.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(m.jsxs)("div",{style:{position:"relative"},children:[Object(m.jsx)("div",{style:{position:"absolute",borderRadius:"100%",width:"24px",height:"24px",backgroundColor:"gold",textAlign:"center",zIndex:"1",color:"white",fontWeight:"500",fontSize:"16px",top:"4px",left:"2px"},children:"1"}),Object(m.jsx)(u.e,{size:100,src:t[0].photo_200,style:{border:"5px solid gold",marginRight:"auto",marginLeft:"auto",cursor:"pointer"},href:i(t[0]._id),onClick:function(){n(t[0]._id)}})]}),Object(m.jsx)("div",{style:{width:"80px",textAlign:"center",fontSize:"14px",fontWeight:"500",marginLeft:"auto",marginRight:"auto"},children:t[0].name.split(" ")[0]}),Object(m.jsxs)("div",{style:{marginRight:"auto",marginLeft:"auto",maxHeight:"30px",fontSize:"14px",color:"grey"},children:[t[0].rating,Object(m.jsx)("img",{src:z,style:{width:"16px",height:"16px",marginLeft:"4px",top:"2.5px",position:"relative"}})]})]}),t[2]&&Object(m.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(m.jsxs)("div",{style:{position:"relative"},children:[Object(m.jsx)("div",{style:{position:"absolute",borderRadius:"100%",width:"24px",height:"24px",backgroundColor:"#cd7f32",textAlign:"center",zIndex:"1",color:"white",fontWeight:"500"},children:"3"}),Object(m.jsx)(u.e,{size:80,src:t[2].photo_200,style:{border:"5px solid #cd7f32",marginRight:"auto",marginLeft:"auto",cursor:"pointer"},href:i(t[2]._id),onClick:function(){n(t[2]._id)}})]}),Object(m.jsxs)("div",{style:{marginRight:"auto",marginLeft:"auto",maxHeight:"30px",fontSize:"14px",color:"grey"},children:[t[2].rating,Object(m.jsx)("img",{src:z,style:{width:"16px",height:"16px",marginLeft:"4px",top:"2.5px",position:"relative"}})]})]})]})}function be(e){var t=e.user,i=(e.sber_bar,e.setIsToken,e.isToken),s=Object(n.useState)(0),o=Object(d.a)(s,2),c=o[0],a=o[1],r=Object(n.useState)([]),l=Object(d.a)(r,2),h=l[0],p=l[1],j=Object(n.useState)([]),b=Object(d.a)(j,2),x=b[0],g=b[1];console.log("toplist length",x.length);var O=function(e){var t=document.createElement("a");Object.assign(t,{href:"https://vk.com/id".concat(e),target:"_blank"}),t.click()},y=function(e){if(e)return""};return Object(n.useEffect)((function(){P.on("rating_data",(function(e){g(e),console.log(e)})),P.on("friends_rating_data",(function(e){p(e),console.log(e)}))}),[]),Object(m.jsxs)(n.Fragment,{children:[Object(m.jsx)(u.y,{separator:!1,children:"\u0420\u0435\u0439\u0442\u0438\u043d\u0433"}),Object(m.jsxs)(u.O,{style:{background:"var(--header_background)"},children:[Object(m.jsx)(u.P,{onClick:function(){return a(0)},selected:0===c,children:"\u041e\u0431\u0449\u0438\u0439"}),Object(m.jsx)(u.P,{onClick:function(){a(1),f.a.send("VKWebAppGetAuthToken",{app_id:7958418,scope:"friends"})},selected:1===c,children:"\u0414\u0440\u0443\u0437\u044c\u044f"})]}),Object(m.jsx)("div",{children:x[0]?Object(m.jsxs)(u.n,{slideIndex:c,onChange:a,isDraggable:!1,showArrows:!1,children:[Object(m.jsxs)("div",{style:{position:"relative",cursor:"default",overflowY:"scroll",height:"40vh"},children:[Object(m.jsx)(u.f,{style:{display:"none"},size:"m",mode:"image",header:"\u0421\u0442\u0438\u043a\u0435\u0440\u044b",imageTheme:"dark",subheader:"\u041a\u0430\u0436\u0434\u044b\u0439 \u0434\u0435\u043d\u044c \u0432 20:00 \u043e\u0431\u043d\u0443\u043b\u0435\u043d\u0438\u0435 \u0440\u0435\u0439\u0442\u0438\u043d\u0433\u0430 \u0438 \u0432\u044b\u0434\u0430\u0447\u0430 \u0441\u0442\u0438\u043a\u0435\u0440\u043f\u0430\u043a\u0430",background:Object(m.jsx)("div",{style:{backgroundColor:"#4287f5",backgroundImage:"url(https://i.ibb.co/6XphJ3p/Banner-14.png)",backgroundPosition:"right 100% top 25%",backgroundSize:"cover",backgroundRepeat:"no-repeat"}}),actions:Object(m.jsx)(u.g,{mode:"overlay_primary",onClick:function(){!function(e){var t=document.createElement("a");Object.assign(t,{href:"".concat(e),target:"_blank"}),t.click()}("https://vk.com/sheep_royale?w=wall-209019197_39")},children:"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435"})}),Object(m.jsx)(je,{users:x,open:O,href:y}),Object(m.jsx)(pe,{users:x.slice(3),start:4,open:O,href:y}),Object(m.jsx)(u.H,{size:156})]}),Object(m.jsxs)("div",{style:{position:"relative",cursor:"default",overflowY:"auto",height:"100vh"},children:[1==h.length&&i&&Object(m.jsxs)(u.B,{icon:Object(m.jsx)(ae.a,{}),header:"\u0423\u043f\u0441 :(",action:Object(m.jsx)(he,{user:t}),children:["\u0412\u0430\u0448\u0438\u0445 \u0434\u0440\u0443\u0437\u0435\u0439 \u043f\u043e\u043a\u0430 \u043d\u0435\u0442 \u0432 ",Object(m.jsx)("br",{}),"\u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0438, \u043d\u043e \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u0440\u0438\u0433\u043b\u0430\u0441\u0438\u0442\u044c \u0438\u0445!"]}),!h[0]&&i&&Object(m.jsx)(u.I,{size:"large",style:{marginTop:"48px"}}),!i&&Object(m.jsxs)(u.B,{icon:Object(m.jsx)(ce.a,{}),header:"\u041d\u0435\u0442 \u0434\u043e\u0441\u0442\u0443\u043f\u0430",action:Object(m.jsx)(u.g,{size:"s",onClick:function(){f.a.send("VKWebAppGetAuthToken",{app_id:7958418,scope:"friends"})},children:"\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c"}),children:["\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u0435 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044e \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c ",Object(m.jsx)("br",{})," \u0441\u043f\u0438\u0441\u043e\u043a \u0432\u0430\u0448\u0438\u0445 \u0434\u0440\u0443\u0437\u0435\u0439"]}),h.length>1&&i&&Object(m.jsx)(pe,{users:h,start:1,open:O,href:y}),Object(m.jsx)(u.H,{size:156})]})]}):Object(m.jsx)(u.E,{})})]})}var xe,ue,ge,fe,me=i(25),Oe=i(652),ye=i(634),we=i(653),ve=i(654),_e=i.p+"static/media/sheep.6dd264bd.png",ke=[{name:"Pasha",raiting:500,description:"\u0423\u0447\u0430\u0441\u0442\u043d\u0438\u043a"},(xe={name:"Sasha",raiting:900,description:"\u0423\u0447\u0430\u0441\u0442\u043d\u0438\u043a"},Object(me.a)(xe,"name","Pasha"),Object(me.a)(xe,"raiting",500),Object(me.a)(xe,"description","\u0423\u0447\u0430\u0441\u0442\u043d\u0438\u043a"),xe),{name:"Sasha",raiting:500,description:"\u0423\u0447\u0430\u0441\u0442\u043d\u0438\u043a"},(ue={name:"Pasha",raiting:900,description:"\u0423\u0447\u0430\u0441\u0442\u043d\u0438\u043a"},Object(me.a)(ue,"name","Sasha"),Object(me.a)(ue,"raiting",500),Object(me.a)(ue,"description","\u0423\u0447\u0430\u0441\u0442\u043d\u0438\u043a"),ue),{name:"Pasha",raiting:500,description:"\u0423\u0447\u0430\u0441\u0442\u043d\u0438\u043a"},(ge={name:"Sasha",raiting:900,description:"\u0423\u0447\u0430\u0441\u0442\u043d\u0438\u043a"},Object(me.a)(ge,"name","Pasha"),Object(me.a)(ge,"raiting",500),Object(me.a)(ge,"description","\u0423\u0447\u0430\u0441\u0442\u043d\u0438\u043a"),ge),{name:"Sasha",raiting:500,description:"\u0423\u0447\u0430\u0441\u0442\u043d\u0438\u043a"},(fe={name:"Pasha",raiting:900,description:"\u0423\u0447\u0430\u0441\u0442\u043d\u0438\u043a"},Object(me.a)(fe,"name","Sasha"),Object(me.a)(fe,"raiting",500),Object(me.a)(fe,"description","\u0423\u0447\u0430\u0441\u0442\u043d\u0438\u043a"),fe)];function Ce(e){e.user;var t=e.setActiveModal,i=Object(n.useState)(!1),s=Object(d.a)(i,2),o=s[0],c=s[1],a=Object(n.useState)(0),r=Object(d.a)(a,2),l=r[0],h=r[1];return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(u.y,{children:"\u041a\u043b\u0430\u043d\u044b"}),o?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)(u.O,{style:{height:"24px"},children:[Object(m.jsx)(u.P,{onClick:function(){h(0)},selected:0===l,children:"\u041a\u043b\u0430\u043d"}),Object(m.jsx)(u.P,{onClick:function(){h(1)},selected:1===l,children:"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435"})]}),Object(m.jsxs)(u.n,{slideIndex:l,onChange:h,isDraggable:!0,showArrows:!1,style:{height:"100%",overflow:"hidden",marginTop:"28px"},children:[Object(m.jsxs)("div",{children:[Object(m.jsx)(u.p,{children:Object(m.jsxs)("div",{style:{display:"flex",flexDirection:"row",minHeight:"85px",maxHeight:"85px",marginLeft:"12px"},children:[Object(m.jsx)(u.e,{size:85,src:"https://i.pinimg.com/474x/fb/bf/5a/fbbf5a6d1fb6fceca9bc025e93adf386.jpg"}),Object(m.jsx)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",minHeight:"85px",maxHeight:"85px"},children:Object(m.jsxs)(u.l,{style:{display:"block"},children:[Object(m.jsx)("div",{style:{fontWeight:"600",fontSize:"30px"},children:"\u041d\u0430\u0433\u0438\u0431\u0430\u0442\u043e\u0440\u044b"}),Object(m.jsx)("span",{style:{color:"grey"},children:"\u0423\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u043e\u0432 39/50"})]})})]})}),Object(m.jsxs)(u.p,{children:[Object(m.jsxs)(u.o,{mode:"tint",style:{background:"linear-gradient(0, #70B2FF, #5C9CE6)",borderRadius:"12px",border:"5px solid white",position:"relative"},children:[Object(m.jsx)("img",{style:{width:"100px",position:"absolute",right:"10px",top:"20px"},src:_e}),Object(m.jsxs)(u.l,{style:{color:"white",fontWeight:"450",fontSize:"20px"},children:["\u041e\u0447\u043a\u0438 \u043a\u043b\u0430\u043d\u0430: 1000",Object(m.jsx)("img",{src:z,style:{position:"relative",height:"18px",top:"2px",left:"2px"}}),Object(m.jsx)("br",{})," \u0420\u0435\u0439\u0442\u0438\u043d\u0433 \u043a\u043b\u0430\u043d\u0430: #120"]}),Object(m.jsxs)(u.l,{style:{display:"flex",flexDirection:"row",justifyContent:"left"},children:[Object(m.jsx)(u.g,{size:"m",mode:"secondary",style:{marginRight:"8px",backgroundColor:"white"},before:Object(m.jsx)(C.a,{})}),Object(m.jsx)(u.g,{size:"m",style:{backgroundColor:"white"},mode:"secondary",before:Object(m.jsx)(k.a,{})})]})]}),Object(m.jsxs)(u.l,{style:{display:"flex",flexDirection:"row",justifyContent:"left"},children:[Object(m.jsx)(u.g,{stretched:!0,size:"m",before:Object(m.jsx)(Oe.a,{}),style:{marginRight:"8px"},children:"\u041f\u0440\u0438\u0433\u043b\u0430\u0441\u0438\u0442\u044c"}),Object(m.jsx)(u.g,{stretched:!0,size:"m",before:Object(m.jsx)(ye.a,{}),mode:"secondary",children:"\u0412\u044b\u0439\u0442\u0438 \u0438\u0437 \u043a\u043b\u0430\u043d\u0430"})]})]}),Object(m.jsx)(u.p,{children:ke.map((function(e,t){return Object(m.jsx)(u.F,{before:Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(u.Q,{weight:"semibold",style:{marginRight:"16px",marginTop:"0px"},children:t+1}),Object(m.jsx)(u.e,{size:48})]}),description:"".concat(ke[t].description),after:Object(m.jsxs)("div",{style:{position:"relative",right:"8px",fontSize:"17px",color:"black",fontWeight:"500"},children:[Object(m.jsx)("span",{children:ke[t].raiting}),Object(m.jsx)("img",{src:z,style:{position:"relative",height:"16px",top:"2px",left:"2px"}})]}),children:ke[t].name})}))})]}),Object(m.jsx)("div",{children:Object(m.jsx)(u.B,{icon:Object(m.jsx)(we.a,{}),header:"\u0423\u043f\u0441 :(",children:"\u041c\u044b \u0435\u0449\u0435 \u0441\u0442\u0443\u0447\u0438\u043c \u043b\u0430\u043f\u043a\u0430\u043c\u0438 \u043d\u0430\u0434 \u044d\u0442\u0438\u043c"})})]})]}):Object(m.jsx)(u.B,{icon:Object(m.jsx)(ve.a,{}),header:"\u0412\u044b \u043d\u0435 \u0441\u043e\u0441\u0442\u043e\u0438\u0442\u0435 \u0432 \u043a\u043b\u0430\u043d\u0435",style:{height:"100%",position:"absolute",left:"0",right:"0",margin:"auto"},action:Object(m.jsxs)("div",{children:[Object(m.jsx)(u.g,{onClick:function(){c(!0)},children:"\u0412\u0441\u0442\u0443\u043f\u0438\u0442\u044c \u0432 \u043a\u043b\u0430\u043d"}),Object(m.jsx)("br",{}),Object(m.jsx)(u.g,{mode:"secondary",style:{marginTop:"6px"},onClick:function(){t("create")},children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043a\u043b\u0430\u043d"})]}),children:"\u041a\u043b\u0430\u043d\u044b \u043f\u0440\u0438\u0432\u044f\u0437\u0430\u043d\u044b \u043a \u0441\u043e\u043e\u0431\u0449\u0435\u0441\u0442\u0432\u0430\u043c \u0412\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u0435"})]})}i.p;var Ae=i(655),Se=i(656),ze=(i.p,i.p+"static/media/line.4304bce5.svg"),Ne=i.p+"static/media/BlackSheep.4de06083.svg",Te=i.p+"static/media/SmokeSheep.16669673.svg";function Ee(e){var t,i,n,s=e.setActiveProfilePanel;e.user;return Object(m.jsxs)("body",{children:[Object(m.jsx)(u.y,{left:Object(m.jsx)(u.z,{onClick:function(){return s("home")},label:void 0}),children:"\u041c\u0430\u0433\u0430\u0437\u0438\u043d"}),Object(m.jsx)(u.p,{children:Object(m.jsx)(u.i,{size:"l",children:Object(m.jsx)(u.h,{mode:"outline",children:Object(m.jsxs)("div",{style:{width:"100%",display:"flex",flexDirection:"row",justifyContent:"space-between"},children:[Object(m.jsx)("div",{style:{height:"96px",display:"flex",flexDirection:"column",justifyContent:"center"},children:Object(m.jsxs)("div",{style:{position:"relative",left:"30px"},children:[Object(m.jsx)("span",{style:{position:"relative",fontSize:"25px",top:"-6px",fontWeight:"500"},children:"31123123"}),Object(m.jsx)("img",{src:N,style:{width:"30px",height:"30px",marginTop:"3px",marginLeft:"3px",justifyContent:"center"}})]})}),Object(m.jsx)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center"},children:Object(m.jsxs)("div",{style:{right:"20px",position:"relative",display:"flex",flexDirection:"row"},children:[Object(m.jsxs)("div",{style:{right:"3px",position:"relative"},children:[Object(m.jsx)(u.g,{size:"s",before:Object(m.jsx)(Ae.a,{fill:"#FFFFFF"})}),Object(m.jsxs)("div",{children:["+3",Object(m.jsx)("img",{style:{position:"relative",top:"4px",left:"3px"},src:N})]})]}),Object(m.jsxs)("div",{style:{left:"3px",position:"relative"},children:[Object(m.jsx)(u.g,{size:"s",before:Object(m.jsx)(Se.a,{fill:"#FFFFFF"})}),Object(m.jsxs)("div",{children:["+1",Object(m.jsx)("img",{style:{position:"relative",top:"4px",left:"3px"},src:N})]})]}),Object(m.jsx)("img",{src:ze,style:{height:"66px",widht:"0.3px",marginTop:"3px",marginLeft:"3px",color:"grey",position:"relative",right:"140px"}})]})})]})})})}),Object(m.jsx)(u.j,{size:"m",style:{marginTop:"1px",display:"flex",flexDirection:"column"},children:Object(m.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(m.jsx)("p",{}),Object(m.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[Object(m.jsxs)(u.h,{mode:"shadow",style:{width:"135px",height:"150px",paddingBottom:"80px"},children:[Object(m.jsx)("div",{style:{wight:"100%",color:"grey",fontSize:"14px",position:"relative",left:"8px",top:"5px"},children:"\u041e\u0432\u0446\u044b"}),Object(m.jsx)("div",{style:{wight:"100%",fontSize:"12px",fontWeight:"700",position:"relative",left:"8px",top:"5px"},children:"\u0427\u0435\u0440\u043d\u0430\u044f \u043e\u0432\u0435\u0447\u043a\u0430"}),Object(m.jsx)("div",{style:{wight:"100%",display:"flex",justifyContent:"center",paddingTop:"40px"},children:Object(m.jsx)("img",{src:Ne,style:{width:"60px"}})}),Object(m.jsxs)("div",{style:{width:"100%"},children:[Object(m.jsxs)("div",{style:(t={height:"96px",display:"flex",flexDirection:"row",justifyContent:"center"},Object(me.a)(t,"height","30px"),Object(me.a)(t,"position","relative"),Object(me.a)(t,"top","30px"),t),children:[Object(m.jsx)("span",{style:Object(me.a)({fontSize:"20px",position:"relative",fontWeight:"500"},"position","relative"),children:"123"}),Object(m.jsx)("img",{src:N,style:{width:"22px",height:"22px",marginTop:"3px",marginLeft:"3px",justifyContent:"center"}})]}),Object(m.jsx)("div",{style:{justifyContent:"center",display:"flex",flexDirection:"row",paddingTop:"30px"},children:Object(m.jsx)(u.g,{children:"\u041a\u0443\u043f\u0438\u0442\u044c"})}),Object(m.jsx)("div",{style:{height:"10px"}})]})]}),Object(m.jsxs)(u.h,{mode:"shadow",style:{width:"135px",height:"150px",paddingBottom:"80px"},children:[Object(m.jsx)("div",{style:{wight:"100%",color:"grey",fontSize:"14px",position:"relative",left:"8px",top:"5px"},children:"\u041e\u0432\u0446\u044b"}),Object(m.jsx)("div",{style:{wight:"100%",fontSize:"12px",fontWeight:"700",position:"relative",left:"8px",top:"5px"},children:"\u041e\u0432\u0435\u0447\u043a\u0430 \u041a\u0443\u0440\u0438\u043b\u044c\u0449\u0438\u043a\u0430"}),Object(m.jsx)("div",{style:{wight:"100%",display:"flex",justifyContent:"center",paddingTop:"40px"},children:Object(m.jsx)("img",{src:Te,style:{width:"60px"}})}),Object(m.jsxs)("div",{style:{width:"100%"},children:[Object(m.jsx)("div",{style:(i={height:"96px",display:"flex",flexDirection:"row",justifyContent:"center"},Object(me.a)(i,"height","30px"),Object(me.a)(i,"position","relative"),Object(me.a)(i,"top","30px"),i),children:Object(m.jsx)("span",{style:Object(me.a)({fontSize:"13px",position:"relative",fontWeight:"500"},"position","relative"),children:"\u041a\u0443\u043f\u043b\u0435\u043d\u043e"})}),Object(m.jsx)("div",{style:{justifyContent:"center",display:"flex",flexDirection:"row",paddingTop:"30px"},children:Object(m.jsx)(u.g,{mode:"secondary",children:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c"})}),Object(m.jsx)("div",{style:{height:"10px"}})]})]}),Object(m.jsxs)(u.h,{mode:"shadow",style:{width:"135px",height:"150px",paddingBottom:"80px"},children:[Object(m.jsx)("div",{style:{wight:"100%",color:"grey",fontSize:"14px",position:"relative",left:"8px",top:"5px"},children:"\u041e\u0432\u0446\u044b"}),Object(m.jsx)("div",{style:{wight:"100%",fontSize:"12px",fontWeight:"700",position:"relative",left:"8px",top:"5px"},children:"\u041e\u0432\u0435\u0447\u043a\u0430 \u041a\u0443\u0440\u0438\u043b\u044c\u0449\u0438\u043a\u0430"}),Object(m.jsx)("div",{style:{wight:"100%",display:"flex",justifyContent:"center",paddingTop:"40px"},children:Object(m.jsx)("img",{src:Te,style:{width:"60px"}})}),Object(m.jsxs)("div",{style:{width:"100%"},children:[Object(m.jsxs)("div",{style:(n={height:"96px",display:"flex",flexDirection:"row",justifyContent:"center"},Object(me.a)(n,"height","30px"),Object(me.a)(n,"position","relative"),Object(me.a)(n,"top","30px"),n),children:[Object(m.jsx)("span",{style:Object(me.a)({fontSize:"20px",position:"relative",fontWeight:"500"},"position","relative"),children:"123"}),Object(m.jsx)("img",{src:N,style:{width:"22px",height:"22px",marginTop:"3px",marginLeft:"3px",justifyContent:"center"}})]}),Object(m.jsx)("div",{style:{justifyContent:"center",display:"flex",flexDirection:"row",paddingTop:"30px"},children:Object(m.jsx)(u.g,{children:"\u041a\u0443\u043f\u0438\u0442\u044c"})}),Object(m.jsx)("div",{style:{height:"10px"}})]})]}),Object(m.jsx)("div",{style:{wight:"100%",height:"180px",paddingBottom:"80px"}})]})]})})]})}var Fe,Pe,Be,De,He,Ie=i(10),Re=i(82),Le=i(29),We=i(37),Me=i(36),Ke=function(e){Object(We.a)(i,e);var t=Object(Me.a)(i);function i(e){e.elementId;var n,s=e.opts;Object(Le.a)(this,i);var o=window.innerWidth,c=window.innerHeight;return(n=t.call(this,Object(Re.a)(Object(Re.a)({width:o,height:c},s),{},{resolution:window.devicePixelRatio||1}))).stage.sortableChildren=!0,n.width=o,n.height=c,n.backgroundColor=0,n.resolution=window.devicePixelRatio||1,n.transparent=!0,n.stage.sortableChildren=!0,document.body.appendChild(n.view),document.getElementsByTagName("canvas")[0].style.position="fixed",document.getElementsByTagName("canvas")[0].style.display="block",document.getElementsByTagName("canvas")[0].style.left="0px",document.getElementsByTagName("canvas")[0].style.top="0px",document.getElementsByTagName("canvas")[0].style.height="100%",document.getElementsByTagName("canvas")[0].style.width="100%",document.getElementsByTagName("canvas")[0].style.border="0px",document.getElementsByTagName("canvas")[0].style.zIndex="-1",n}return i}(y.a),Ve=i(69),Ue=function e(t){var i=t.x,n=void 0===i?0:i,s=t.y,o=void 0===s?0:s,c=t.size,a=void 0===c?2:c,r=t.pixi,l=t.width,d=t.height,h=t.type,p=t.anchor,j=t.interactive,b=t.buttonMode;return Object(Le.a)(this,e),this.obj=r,p&&(this.obj.anchor.x=p,this.obj.anchor.y=p),this.obj.x=n,this.obj.y=o,this.obj.width/=a,this.obj.height/=a,l&&(this.obj.width=l),d&&(this.obj.height=d),h&&(this.obj.type=h),j&&(this.obj.interactive=j),b&&(this.obj.buttonMode=b),this.obj},Ge=function(){function e(t){var i=t.sprites,n=t.setScene,s=t.app;Object(Le.a)(this,e),this.app=s,this.sprites=i,this.container=new y.b,this.container=new y.b,this.scaleble_s=window.innerHeight/550,this.setScene=n,this.setUpScene(),document.getElementsByTagName("canvas")[0].style.zIndex="0"}return Object(Ve.a)(e,[{key:"setUpScene",value:function(){var e;if(console.log("IS WEB GL test"),console.log(Object(Ie.q)()),null===(e=this.container.children)||void 0===e?void 0:e.length)this.app.stage.addChild(this.container);else{var t=new y.h(this.sprites.main_bg,window.innerWidth+10,window.innerHeight);t.scale.set(window.innerHeight/548),t.tileScale.x=.5/this.scaleble_s,t.tileScale.y=.5/this.scaleble_s,this.container.addChild(t),this.container.scale.x=this.scaleble_s,this.container.scale.y=this.scaleble_s,this.container.x=0,function e(){t.tilePosition.x-=2,t.tilePosition.x<=-2428*t.tileScale.x&&(t.tilePosition.x=0),requestAnimationFrame(e)}()}}}]),e}(),Ye=i(220),Je=i(45),qe=i(44),Qe=function(e){Object(We.a)(i,e);var t=Object(Me.a)(i);function i(e){var n,s=e.x,o=void 0===s?0:s,c=e.y,a=void 0===c?0:c,r=e.size,l=void 0===r?2:r,d=e.width,h=e.height,p=e.anchor,j=void 0===p?.5:p,b=e.command,x=e.sprites,u=e.type,g=void 0===u?"sheep":u;return Object(Le.a)(this,i),(n=t.call(this,{pixi:new y.e(x.sheep),x:o,y:a,anchor:j,size:l})).start_y=a,n.spawn_time=Date.now(),n.type=g,n.command=b,n.zIndex=10,2==b&&(n.rotation=3.1415926535),d&&(n.width=d),h&&(n.height=h),n.update=function(e){var t=e.line;1==n.command?(n.y=n.start_y-(Date.now()-n.spawn_time)/100*10,n.y<t.y+13&&(t.y-=5,n.delete=!0)):(n.y=n.start_y+(Date.now()-n.spawn_time)/100*10,n.y>t.y-13&&(t.y+=5,n.delete=!0))},Object(Je.a)(n,Object(qe.a)(n))}return i}(Ue),Xe=function(e){Object(We.a)(i,e);var t=Object(Me.a)(i);function i(e){var n,s=e.x,o=void 0===s?0:s,c=e.y,a=void 0===c?0:c,r=e.size,l=void 0===r?2:r,d=e.width,h=e.height,p=e.anchor,j=void 0===p?0:p,b=e.command,x=e.my_command,u=e.building,g=void 0===u||u,f=e.last_earn,m=e.sprites;return Object(Le.a)(this,i),(n=t.call(this,{pixi:new y.e(m.farm),x:o,y:a,size:l,anchor:j,zIndex:1,width:d,height:h})).last_earn=f,n.command=b,n.building=g,n.update=function(e){var t=e.users;return x==n.command&&Date.now()-n.last_earn>5e3&&(n.last_earn=Date.now(),t.find((function(e){return e.command==n.command})).balance+=4),0},2==x&&(n.rotation=3.1415926535,n.x+=50,n.y+=50),Object(Je.a)(n,Object(qe.a)(n))}return i}(Ue),Ze=function(e){Object(We.a)(i,e);var t=Object(Me.a)(i);function i(e){var n,s=e.x,o=void 0===s?0:s,c=e.y,a=void 0===c?0:c,r=e.size,l=void 0===r?2:r,d=e.width,h=e.height,p=e.anchor,j=void 0===p?0:p,b=e.command,x=e.my_command,u=e.building,g=void 0===u||u,f=e.last_spawn,m=e.sprites;return Object(Le.a)(this,i),(n=t.call(this,{pixi:new y.e(m.corral),x:o,y:a,size:l,anchor:j,zIndex:1,width:d,height:h})).last_spawn=f,n.command=b,n.building=g,2==x&&(n.rotation=3.1415926535,n.x+=50,n.y+=50),Object(Je.a)(n,Object(qe.a)(n))}return i}(Ue),$e=function(e){Object(We.a)(i,e);var t=Object(Me.a)(i);function i(e){var n,s=e.x,o=void 0===s?0:s,c=e.y,a=void 0===c?0:c,r=e.size,l=void 0===r?2:r,d=e.width,h=e.height,p=e.anchor,j=void 0===p?.5:p,b=e.command,x=e.sprites;return Object(Le.a)(this,i),(n=t.call(this,{pixi:new y.e(x.balloon),x:o,y:a,anchor:j,size:l})).start_y=a,n.spawn_time=Date.now(),n.command=b,n.zIndex=10,2==b&&(n.rotation=3.1415926535),d&&(n.width=d),h&&(n.height=h),n.update=function(e){var t=e.line;1==n.command?(n.y=n.start_y-(Date.now()-n.spawn_time)/100*5,n.y-13<t.y+13&&(t.y-=2.5,n.delete=!0)):(n.y=n.start_y+(Date.now()-n.spawn_time)/100*5,n.y+13>t.y-13&&(t.y+=2.5,n.delete=!0))},Object(Je.a)(n,Object(qe.a)(n))}return i}(Ue),et=function(e){Object(We.a)(i,e);var t=Object(Me.a)(i);function i(e){var n,s=e.x,o=void 0===s?0:s,c=e.y,a=void 0===c?0:c,r=e.size,l=void 0===r?2:r,d=e.width,h=e.height,p=e.anchor,j=void 0===p?0:p,b=e.command,x=e.my_command,u=e.building,g=void 0===u||u,f=e.last_earn,m=e.sprites;return Object(Le.a)(this,i),(n=t.call(this,{pixi:new y.e(m.balloon_farm),x:o,y:a,size:l,anchor:j,zIndex:1,width:d,height:h})).last_earn=f,n.command=b,n.building=g,n.update=function(e){var t=e.users;return x==n.command&&Date.now()-n.last_earn>3e3&&(n.last_earn=Date.now(),t.find((function(e){return e.command==n.command})).balance+=2),0},2==x&&(n.rotation=3.1415926535,n.x+=50,n.y+=50),Object(Je.a)(n,Object(qe.a)(n))}return i}(Ue),tt=(null===(Fe=window.location)||void 0===Fe||null===(Pe=Fe.search)||void 0===Pe||null===(Be=Pe.slice(1))||void 0===Be||null===(De=Be.split("user_id=")[1])||void 0===De?void 0:De.split("&")[0])||window.sber_id,it={sheep:Qe,farm:Xe,corral:Ze,balloon:$e,balloon_farm:et},nt=new Ye.a;function st(e){var t=e.app,i=(e.game_containter,e.balance),n=e.sprites,s=e.units,o=(e.card_1,e.card_2),c=e.card_3,a=e.card_4,r=e.timer,l=e.line,d=e.users,h=e.mobs;h.filters=[nt];var p,j=100,b=Date.now(),x=100,u=Date.now();a.on("pointerdown",(function(){P.emit("spawn_unit","sheep"),E()})),o.on("pointerdown",(function(){P.emit("spawn_building","farm"),E()})),c.on("pointerdown",(function(){P.emit("spawn_building","corral"),E()}));Date.now();t.ticker.add((function(){var e=function(e,t,i){var o=t[e];o.update&&(o.update({line:l,users:d,units:s,sprites:n,mobs:h}),o.delete&&("mobs"==i?f.push(o):g.push(o)))};Date.now(),x=Number(String(d.find((function(e){return e._id==tt})).balance).split(".")[0]),j=Number(String(x+(Date.now()-b)/1e3).split(".")[0]),i.text=Number(j);var o=Math.floor(180-(Date.now()-u)/1e3);o<0&&(o=0),o<=60?He?60==o&&He.fade(.2,.4,5e3):((He=new w.Howl({src:["https://mitursky.github.io/SHEEP-ROYALE-BUILD/sounds/drums.mp3"],autoplay:!0,volume:.4})).seek(178-o),He.fade(0,.4,3e3)):He||((He=new w.Howl({src:["https://mitursky.github.io/SHEEP-ROYALE-BUILD/sounds/drums.mp3"],autoplay:!0,volume:.2})).seek(178-o),He.fade(0,.2,3e3));var c=Math.floor(o/60),a=o-60*c;a<10&&(a="0"+a),r.text=c+":"+a;var g=[],f=[];for(var m in s.children)e(m,s.children);for(var O in h.children)e(O,h.children,"mobs");for(var y in s.children){var v=s.children[y];if(v.building)if(2===v.command){var _=0;2!=p&&(_=50),v.y+_>l.y-13&&g.push(v)}else{var k=0;1!=p&&(k=50),v.y-k<l.y+13&&g.push(v)}}for(var C in g)s.removeChild(g[C]);for(var A in f)h.removeChild(f[A]);window.isBattle||t.ticker.remove()}));P.on("lobby_finish",(function(){console.log("ticker stopped")})),P.on("update_scene",(function(e,t){var i=e.new_units,o=e.new_users,c=e.time,a=e.req_time,r=e.new_obj,g=e.time_start+(Date.now()-a);u=g,t=!!t,a,o&&(p=o.find((function(e){return e._id==(tt||window.sber_id)})).command),c,function(e,t){var i=e.lobby;j=Number(String(i.users.find((function(e){return e._id==tt})).balance).split(".")[0]),d=i.users;var o=[];x=j,console.log(i),t?(o=i.units,s.removeChildren(0,s.children.length),s.addChild(h),h.removeChildren(0,h.children.length)):o=i.new_obj;for(var c=0;c<o.length;c++){var a=o[c];if(a&&a.type&&it[a.type]){var r=new it[a.type](Object(Re.a)(Object(Re.a)({},a),{},{sprites:n,my_command:p}));"sheep"==a.type||"balloon"==a.type?h.addChild(r):s.addChild(r)}}l.y=i.units.find((function(e){return"line"==e.type})).y,b=Date.now()}({lobby:{units:i,users:o,refresh:c,new_obj:r}},t)}))}nt.color=32,nt.alpha=.4,nt.blur=0,nt.distance=25,nt.rotation=-45,nt.resolution=window.devicePixelRatio,nt.blur=1;var ot,ct,at,rt,lt,dt,ht,pt=function(e){Object(We.a)(i,e);var t=Object(Me.a)(i);function i(){var e;return Object(Le.a)(this,i),(e=t.call(this)).sprites={},e}return Object(Ve.a)(i,[{key:"loadJson",value:function(){var e=Object(l.a)(a.a.mark((function e(t,i,n){var s,o=this;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=JSON.stringify(t),JSON.parse(s).files.forEach((function(e){i?o.add(e.name,"."+i+e.file):o.add(e.name,"."+e.file)})),this.load((function(e,t){for(var i in t)o.sprites[i]=t[i].texture;console.log("LOADED"),n()}));case 4:case"end":return e.stop()}}),e,this)})));return function(t,i,n){return e.apply(this,arguments)}}()}]),i}(y.d),jt={menu:Ge,game:function(){function e(t){var i=t.sprites,n=t.users,s=t.setScene,o=t.app;Object(Le.a)(this,e),this.app=o,this.sprites=i,this.users=n,this.container=new y.b,this.play_container=new y.b,this.interface_container=new y.b,this.setScene=s,this.setUpScene(),document.getElementsByTagName("canvas")[0].style.zIndex="10"}return Object(Ve.a)(e,[{key:"setUpScene",value:function(){var e,t,i,n,s=this,o=window.isIos?-80:-25,c=(window.innerHeight+o)/700,a=(window.innerHeight,(null===(e=window.location)||void 0===e||null===(t=e.search)||void 0===t||null===(i=t.slice(1))||void 0===i||null===(n=i.split("user_id=")[1])||void 0===n?void 0:n.split("&")[0])||window.sber_id);console.log(a);var r=this.users.find((function(e){return e._id==(a||window.sber_id)})).command,l=new y.g({fill:"white",fontFamily:"Arial",fontSize:32,fontWeight:"550"}),d=new y.g({fill:"white",fontFamily:"Arial",fontSize:16});this.app.stage.addChild(this.container);var h=new y.e(this.sprites.bg_forest),p=new y.e(this.sprites.bg_forest),j=new y.e(this.sprites.line),b=new y.e(this.sprites.map_bg),x=new y.e(this.sprites.over_bg),u=new y.e(this.sprites.under_bg),g=new y.e(this.sprites.time_left),f=new y.f("x100",l),m=new y.f("3:00",d),O=new y.b,w=new y.b;O.width=300,O.height=550,O.sortableChildren=!0,w.sortableChildren=!0,w.zIndex=100,O.addChild(w);var v=new y.b;2==r&&(console.log("flip"),O.rotation=3.1415926535,j.rotation=3.1415926535,O.y=550,O.x=300,v.rotation=3.1415926535,v.y=550,v.x=300),f.resolution=window.devicePixelRatio,f.scale.set(.5,.5),f.anchor.x=.5,m.anchor.x=.5;var _=new y.e(this.sprites.card_balance),k=new y.e(this.sprites.card_farm),C=new y.e(this.sprites.card_corral),A=new y.e(this.sprites.card_sheep),S=new pt;S.add("user1",this.users.find((function(e){return e._id!=(a||window.sber_id)})).photo_200).add("user2",this.users.find((function(e){return e._id==(a||window.sber_id)})).photo_200),S.load((function(e,t){for(var i in t){var n=new y.b,o=new y.b,c=new y.e(t[i].texture);c=new Ue({pixi:c,width:50,height:50});var a=new y.c;a.beginFill(16777215),a.drawCircle(25,25,25),a.endFill(),o.addChild(c),o.addChild(a),o.mask=a,n.x=125,n.y="user2"==i?492:8;var r=new y.c;r.beginFill("user1"==i?"0xF28F8F":"0x8FABF2"),r.drawCircle(25,25,28),r.endFill(),n.addChild(r),n.addChild(o),s.container.addChild(n)}e.destroy()})),b.zIndex=0,this.play_container.addChild(b),f.x=37.5,f.y=647.5,this.interface_container.addChild(f),this.container.addChild(this.play_container,x,u,g,_,k,C,A,m,h,p,this.interface_container,O,v),v.addChild(j),h=new Ue({pixi:h,x:300}),p=new Ue({pixi:p,x:-300}),b=new Ue({pixi:b}),j=new Ue({pixi:j,y:275,x:150,type:"line",anchor:.5}),x=new Ue({pixi:x,y:-150,x:-450}),g=new Ue({pixi:g,y:550,x:112.5}),u=new Ue({pixi:u,y:700,x:-300}),_=new Ue({pixi:_,y:575,size:2}),k=new Ue({pixi:k,y:575,x:75,size:2,interactive:!0,buttonMode:!0}),C=new Ue({pixi:C,y:575,x:150,size:2,interactive:!0,buttonMode:!0}),A=new Ue({pixi:A,y:575,x:225,size:2,interactive:!0,buttonMode:!0}),m=new Ue({pixi:m,y:555,x:150,size:1}),this.container.scale.x=c,this.container.scale.y=c,this.container.x=(window.innerWidth-300*c)/2,this.container.y=window.isIos?50:0,st({app:this.app,container:this.container,balance:f,timer:m,sprites:this.sprites,units:O,card_1:_,mobs:w,card_2:k,card_3:C,card_4:A,line:j,static_units:v,users:this.users})}}]),e}()},bt=function(){function e(t,i){Object(Le.a)(this,e),this.active_scene=void 0,this.app=t,this.sprites=i,this.users=NaN,this.scenes_container=new y.b,this.app.stage.addChild(this.scenes_container)}return Object(Ve.a)(e,[{key:"setScene",value:function(e){var t;(null===(t=this.active_scene)||void 0===t?void 0:t.container)&&this.scenes_container.removeChild(this.active_scene.container);var i=this.sprites,n=this.users,s=this.setScene,o=this.app;this.active_scene=new jt[e]({sprites:i,users:n,func:s,app:o}),this.scenes_container.addChild(this.active_scene.container)}},{key:"setUsers",value:function(e){this.users=e}}]),e}(),xt=i(219),ut={},gt=!1;window.isLoad=gt;var ft=new pt,mt=new Ke({transparent:!0}),Ot=(null===(ot=window.location)||void 0===ot||null===(ct=ot.search)||void 0===ct||null===(at=ct.slice(1))||void 0===at||null===(rt=at.split("user_id=")[1])||void 0===rt?void 0:rt.split("&")[0])||window.sber_id;console.log(Ot);null===(lt=window.location)||void 0===lt||null===(dt=lt.search)||void 0===dt||null===(ht=dt.split("platform=")[1])||void 0===ht||ht.split("&")[0];var yt=new y.i.BlurFilter;function wt(){return(wt=Object(l.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.isLoad){e.next=2;break}return e.abrupt("return");case 2:ft.loadJson(xt,!1,vt),ft.onProgress.add((function(e){console.log(e.progress)}));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vt(){gt=!0,ut=ft.sprites,window.scene=new bt(mt,ut),window.scene.setScene("menu"),R({})}function _t(e){return!!gt&&(window.scene&&(window.scene.setUsers(e),window.scene.setScene("game")),!1)}yt.blur=1,yt.resolution=window.devicePixelRatio,function(){wt.apply(this,arguments)}();var kt=new y.b;kt.zIndex=1001,mt.stage.addChild(kt);window.innerHeight,window.innerHeight;var Ct=i(657),At=u.a,St=window.innerWidth>=800;function zt(e){e.setActiveProfilePanel;var t=e.user,i=e.setActiveModal,s=e.sber_bar;return Object(m.jsxs)(u.u,{style:{overflow:"scroll"},id:"statistic",onClose:function(){i(null)},children:[Object(m.jsx)(u.v,{right:Object(m.jsx)(n.Fragment,{children:At===u.a&&!St&&Object(m.jsx)(u.A,{onClick:function(){i(null),F()},children:Object(m.jsx)(ye.a,{})})}),children:Object(m.jsx)("div",{style:{fontSize:"21px",fontWeight:"500",width:"100%",textAlign:"center"},children:"\u0418\u0441\u0442\u043e\u0440\u0438\u044f"})}),Object(m.jsxs)(u.p,{children:[t.history.length>=1?t.history.map((function(e){var t="victory"==e.type?"green":"defeat"==e.type?"red":"grey";return Object(m.jsx)(u.D,{onClick:function(){e._id&&function(e){if(e.includes("-"))s();else{var t=document.createElement("a");Object.assign(t,{href:"https://vk.com/id".concat(e),target:"_blank"}),t.click()}}(e._id)},before:Object(m.jsx)(u.e,{src:e.photo_200,style:{size:"48px",border:"0px solid #7C9371"}}),caption:Object(m.jsx)("div",{style:{color:t,fontSize:"13px"},children:"victory"==e.type?"\u041f\u043e\u0431\u0435\u0434\u0430":"defeat"==e.type?"\u041f\u043e\u0440\u0430\u0436\u0435\u043d\u0438\u0435":"\u041d\u0438\u0447\u044c\u044f"}),after:Object(m.jsxs)("div",{children:[Object(m.jsxs)("div",{style:{position:"absolute",right:"20px",color:t,fontSize:"17"},children:["victory"==e.type?"+":"defeat"==e.type?"-":"+",e.rating]}),Object(m.jsx)("img",{src:z,style:{width:"16px",height:"16px"}}),Object(m.jsx)("div",{style:{position:"absolute",right:"0px",color:"grey",fontSize:"13px",fontWeight:"400"},children:new Date(e.date).toLocaleString("default",{month:"long",day:"2-digit",hour:"2-digit",minute:"2-digit"})})]}),children:Object(m.jsx)("div",{style:{fontSize:"15px"},children:e.name})})})):Object(m.jsx)(u.B,{icon:Object(m.jsx)(Ct.a,{}),children:"\u0417\u0434\u0435\u0441\u044c \u0431\u0443\u0434\u0435\u0442 \u0438\u0441\u0442\u043e\u0440\u0438\u044f \u0432\u0430\u0448\u0438\u0445 \u043c\u0430\u0442\u0447\u0435\u0439"}),window.sber_id?Object(m.jsx)("div",{style:{height:"92px"}}):""]})]})}var Nt=i(658),Tt=i(659),Et=i(660),Ft=i(661),Pt=i(662),Bt=i(663),Dt=i(664),Ht=i(665);i.p;function It(e){var t=e.setActiveModal,i=e.user,s=Object(u.V)().viewWidth;return Object(m.jsx)(u.u,{id:"bonuses",onClose:function(){t(null),F()},header:Object(m.jsx)(u.v,{right:Object(m.jsx)(n.Fragment,{children:s<=u.U.MOBILE&&Object(m.jsx)(u.A,{onClick:function(){t(null),console.log(s,u.U.DESKTOP),F()},children:Object(m.jsx)(ye.a,{})})}),children:"\u0411\u043e\u043d\u0443\u0441\u044b"}),children:Object(m.jsxs)(u.p,{children:[Object(m.jsx)(u.F,{description:Object(m.jsxs)("div",{children:["\u0412\u0430\u0448 \u0440\u0435\u0439\u0442\u0438\u043d\u0433: ",i.rating," ",Object(m.jsx)("img",{src:z,width:13,height:13,style:{marginBottom:"-1px"}})]}),before:Object(m.jsx)(u.e,{size:40,src:i.photo_200}),children:i.name}),Object(m.jsx)(u.f,{before:Object(m.jsx)(Nt.a,{}),mode:"image",header:"\u0412\u0441\u0442\u0443\u043f\u0438\u0442\u044c \u0432 \u0441\u043e\u043e\u0431\u0449\u0435\u0441\u0442\u0432\u043e",imageTheme:"dark",subheader:"+50 \u0440\u0435\u0439\u0442\u0438\u043d\u0433\u0430",background:Object(m.jsx)("div",{style:{backgroundColor:"#3dba56",backgroundPosition:"right bottom 25%",backgroundSize:57,backgroundImage:"url(https://i.ibb.co/h19H6jL/2.png)",backgroundRepeat:"no-repeat"}}),actions:Object(m.jsx)(u.g,{mode:"overlay_primary",disabled:i.sub_bonus,onClick:function(){f.a.send("VKWebAppJoinGroup",{group_id:209019197})},after:i.sub_bonus?Object(m.jsx)(Tt.a,{width:20,height:20}):Object(m.jsx)(Et.a,{width:20,height:20}),children:i.sub_bonus?"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043e":"\u0412\u0441\u0442\u0443\u043f\u0438\u0442\u044c"})}),Object(m.jsx)(u.f,{before:Object(m.jsx)(Ft.a,{}),mode:"image",header:"\u0412\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f \u043e\u0442 \u0447\u0430\u0442-\u0431\u043e\u0442\u0430",imageTheme:"dark",subheader:"+50 \u0440\u0435\u0439\u0442\u0438\u043d\u0433\u0430",background:Object(m.jsx)("div",{style:{backgroundColor:"#3dba56",backgroundPosition:"right bottom 5%",backgroundSize:77,backgroundImage:"url(https://i.ibb.co/10kK6fm/Group-107-1.png)",backgroundRepeat:"no-repeat"}}),actions:Object(m.jsx)(u.g,{mode:"overlay_primary",disabled:i.notify_msg,onClick:function(){f.a.send("VKWebAppAllowMessagesFromGroup",{group_id:209019197})},after:i.notify_msg?Object(m.jsx)(Tt.a,{width:20,height:20}):Object(m.jsx)(Pt.a,{width:18,height:18}),children:i.notify_msg?"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043e":"\u0412\u043a\u043b\u044e\u0447\u0438\u0442\u044c"})}),Object(m.jsx)(u.f,{before:Object(m.jsx)(Bt.a,{}),mode:"image",header:"\u0412\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f \u043e\u0442 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f",imageTheme:"dark",subheader:"+50 \u0440\u0435\u0439\u0442\u0438\u043d\u0433\u0430",background:Object(m.jsx)("div",{style:{backgroundColor:"#3dba56",backgroundPosition:"right 3% bottom 15%",backgroundSize:66,backgroundImage:"url(https://i.ibb.co/HhXD18K/Group-105.png)",backgroundRepeat:"no-repeat"}}),actions:Object(m.jsx)(u.g,{mode:"overlay_primary",disabled:i.notify_default,after:i.notify_default?Object(m.jsx)(Tt.a,{width:20,height:20}):Object(m.jsx)(Dt.a,{width:20,height:20}),onClick:function(){f.a.send("VKWebAppAllowNotifications")},children:i.notify_default?"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043e":"\u0412\u043a\u043b\u044e\u0447\u0438\u0442\u044c"})}),Object(m.jsx)(u.f,{before:Object(m.jsx)(Ht.a,{}),mode:"image",header:"\u041f\u0440\u0438\u0433\u043b\u0430\u0441\u0438\u0442\u044c \u0434\u0440\u0443\u0437\u0435\u0439 ".concat(i.refs_data.referals_count,"/5"),imageTheme:"dark",subheader:"20 \u0440\u0435\u0439\u0442\u0438\u043d\u0433\u0430 \u0437\u0430 \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u0434\u0440\u0443\u0433\u0430, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0441\u044b\u0433\u0440\u0430\u0435\u0442 \u0445\u043e\u0442\u044f \u0431\u044b \u043e\u0434\u043d\u0443 \u0438\u0433\u0440\u0443.",background:Object(m.jsx)("div",{style:{backgroundColor:"#3dba56",backgroundPosition:"right bottom",backgroundSize:54,backgroundImage:"url(https://i.ibb.co/BNHK0Ww/Group-131.png)",backgroundRepeat:"no-repeat"}}),actions:Object(m.jsx)("div",{style:{marginTop:"14px",marginBottom:"6px"},children:Object(m.jsx)(he,{user:i,mode:"overlay_primary"})})})]})})}var Rt=i(666),Lt=[],Wt=[],Mt=[],Kt=[];function Vt(e){var t=e.users,i=e.user,n=(e.sber_bar,e.href),s=(e.open,e.start),o=e.opacity,c=e.disabled;return Object(m.jsx)(u.s,{children:t.map((function(e,t){var a=e._id,r=e.name,l=e.rating,d=e.photo_200,h=e.first_name,p=e.last_name,j=e.online_status;return Object(m.jsxs)(u.F,{disabled:c,onClick:function(){void 0==j&&f.a.send("VKWebAppShare",{link:"https://vk.com/app7958418#r=".concat(i._id)})},href:n(a),before:Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(u.Q,{weight:"semibold",style:{marginRight:"16px",opacity:o},children:t+s}),Object(m.jsx)(u.e,{src:d,style:{opacity:o},badge:"pc"==j?"online":"mobile"==j?"online-mobile":""})]}),after:Object(m.jsx)(u.g,{mode:void 0==j?"secondary":"primary",style:{right:-10},onClick:function(){if(j&&("mobile"==i.online_status&&f.a.send("VKWebAppShare",{link:"https://vk.com/app7958418#r=".concat(i._id)}),"pc"==i.online_status)){var e=document.createElement("a");Object.assign(e,{href:"https://vk.com/im?sel=".concat(a),target:"_blank"}),e.click()}},children:void 0==j?Object(m.jsx)(Rt.a,{}):"offline"==j?"\u041f\u043e\u0437\u0432\u0430\u0442\u044c":"\u0412 \u0431\u043e\u0439!"}),description:Object(m.jsxs)("div",{style:{display:"flex",opacity:o},children:[l,void 0==j?"":Object(m.jsx)("img",{src:z,style:{width:"16px",height:"16px",marginLeft:"4px",opacity:o}})]}),style:{borderRadius:"12px"},children:[Object(m.jsx)("span",{style:{opacity:o},children:r}),p?Object(m.jsx)("span",{style:{opacity:o},children:h+" "+p}):Object(m.jsx)(m.Fragment,{})]},t)}))})}function Ut(e){var t=e.setActiveModal,i=e.user,s=e.isToken,o=e.friends;Wt=o;var c=Object(u.V)().viewWidth,a=function(e){var t=document.createElement("a");Object.assign(t,{href:"https://vk.com/id".concat(e),target:"_blank"}),t.click()},l=function(e){if(e)return e.includes("-")?"":window.sber_id?"https://vk.com/id".concat(e):""};Object(n.useEffect)((function(){P.on("friends_list_data",(function(e){Lt=e;var t,i=[],n=Object(r.a)(Wt);try{for(n.s();!(t=n.n()).done;){var s,o=t.value,c=!0,a=Object(r.a)(Lt);try{for(a.s();!(s=a.n()).done;){var l=s.value;o.id==l.id&&(c=!1)}}catch(p){a.e(p)}finally{a.f()}c&&i.push(o)}}catch(p){n.e(p)}finally{n.f()}var d=[],h=[];e.forEach((function(e){"offline"!=e.online_status?d.push(e):h.push(e)})),Wt=i,Mt=d,Kt=h,b(null)}))}),[]);var h=Object(n.useState)(Object(m.jsx)(u.I,{size:"large"})),p=Object(d.a)(h,2),j=p[0],b=p[1],x=Object(m.jsx)(n.Fragment,{children:c<=u.U.MOBILE&&Object(m.jsx)(u.A,{onClick:function(){t(null),F()},children:Object(m.jsx)(ye.a,{})})});function g(e){var t=e.user,i=e.mode,n=void 0===i?"primary":i;return Object(m.jsxs)(u.l,{style:{display:"flex",flexDirection:"row",marginBottom:"-20px"},children:[Object(m.jsx)(u.g,{style:{display:"flex",marginRight:"5px"},mode:n,after:Object(m.jsx)(re.a,{width:18,height:18}),onClick:function(){f.a.send("VKWebAppShowStoryBox",{background_type:"image",url:"https://i.ibb.co/FBpTSLs/story.png",app_id:"7958418",attachment:{text:"game",type:"url",url:"https://vk.com/app7958418#r=".concat(t._id)}})},children:"\u0412 \u0438\u0441\u0442\u043e\u0440\u0438\u044e"}),Object(m.jsx)(u.g,{style:{display:"flex"},mode:n,after:Object(m.jsx)(le.a,{width:18,height:18}),onClick:function(){f.a.send("VKWebAppShare",{link:"https://vk.com/app7958418#r=".concat(t._id)})},children:"\u041f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f"}),Object(m.jsx)(u.g,{style:{marginLeft:"5px",display:"flex"},mode:n,after:Object(m.jsx)(de.a,{width:18,height:18}),onClick:function(){f.a.send("VKWebAppCopyText",{text:"https://vk.com/app7958418#r=".concat(t._id)})}})]})}var O=Object(m.jsx)(u.v,{right:x,children:"\u0414\u0440\u0443\u0437\u044c\u044f"}),y=Object(m.jsxs)(u.p,{children:[Object(m.jsx)(u.q,{children:"\u0412 \u0438\u0433\u0440\u0435"}),Object(m.jsx)(Vt,{users:Mt.slice(0,100),start:1,open:a,href:l,user:i,disabled:!1}),Object(m.jsx)(Vt,{users:Kt.slice(0,100),start:1,open:a,href:l,user:i,disabled:!0,opacity:.5})]}),w=Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(u.q,{children:"\u041d\u0435 \u0432 \u0438\u0433\u0440\u0435"}),Object(m.jsx)(Vt,{users:Wt,start:1,open:a,href:l,user:i}),Object(m.jsx)(u.l,{children:Object(m.jsx)(g,{user:i})})]}),v=Object(m.jsxs)(u.B,{icon:Object(m.jsx)(ae.a,{}),header:"\u041d\u0435 \u0441 \u043a\u0435\u043c \u0441\u044b\u0433\u0440\u0430\u0442\u044c?",action:Object(m.jsx)(he,{user:i}),children:["\u041f\u0440\u0438\u0433\u043b\u0430\u0441\u0438\u0442\u0435 \u0434\u0440\u0443\u0437\u0435\u0439 \u0432 \u0438\u0433\u0440\u0443, ",Object(m.jsx)("br",{}),"\u0447\u0442\u043e\u0431\u044b \u0438\u0433\u0440\u0430\u0442\u044c \u0441 \u043d\u0438\u043c\u0438!"]}),_=Object(m.jsxs)(m.Fragment,{children:[j,Lt.length>0&&y,Object(m.jsxs)(u.p,{children:[0===Lt.length&&!j&&v,Wt.length>0&&w]})]}),k=Object(m.jsxs)(u.B,{style:{cursor:"default",overflow:"hidden"},icon:Object(m.jsx)(ce.a,{}),header:"\u041d\u0435\u0442 \u0434\u043e\u0441\u0442\u0443\u043f\u0430",action:Object(m.jsx)(u.g,{size:"s",onClick:function(){f.a.send("VKWebAppGetAuthToken",{app_id:7958418,scope:"friends"})},children:"\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c"}),children:["\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u0435 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044e \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c ",Object(m.jsx)("br",{})," \u0441\u043f\u0438\u0441\u043e\u043a \u0432\u0430\u0448\u0438\u0445 \u0434\u0440\u0443\u0437\u0435\u0439"]});return Object(m.jsx)(u.u,{id:"friends",onClose:function(){t(null),F()},header:O,children:Object(m.jsx)(u.l,{children:s?_:k})})}var Gt=i.p+"static/media/logo.fc0acce4.png";function Yt(e){var t=e.setActiveModal;Object(u.V)().viewWidth;return Object(m.jsx)(u.t,{dynamicContentHeight:!0,id:"join",onClose:function(){t(null),F()},actions:Object(m.jsx)(u.g,{size:"l",onClick:function(){t(null)},children:"\u041f\u043e\u043d\u044f\u0442\u043d\u043e"}),icon:Object(m.jsx)(ve.a,{style:{margin:"auto",color:"#0077FF"}}),header:"\u0412\u0441\u0442\u0443\u043f\u0438\u0442\u044c \u0432 \u043a\u043b\u0430\u043d",subheader:'\u0427\u0442\u043e\u0431\u044b \u043f\u0440\u0438\u0441\u043e\u0435\u0434\u0438\u043d\u0438\u0442\u044c\u0441\u044f \u043a \u043a\u043b\u0430\u043d\u0443, \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0432\u044b\u0431\u0440\u0430\u0442\u044c \u043a\u043b\u0430\u043d \u0438\u0437 \u0442\u043e\u043f\u0430 \u0438 \u043d\u0430\u0436\u0430\u0442\u044c:\r "\u041f\u0440\u0438\u0441\u043e\u0435\u0434\u0438\u043d\u0438\u0442\u044c\u0441\u044f" \u0438\u043b\u0438 \u043d\u0430\u0439\u0442\u0438 \u0441\u043e\u043e\u0431\u0449\u0435\u0441\u0442\u0432\u043e \u043a\u043b\u0430\u043d\u0430 \u0412\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u0435 \u0438 \u043f\u0435\u0440\u0435\u0439\u0442\u0438 \u0447\u0435\u0440\u0435\u0437\r \u043c\u0435\u043d\u044e \u0438\u0445 \u0433\u0440\u0443\u043f\u043f\u044b'})}var Jt=i(667);function qt(e){var t=e.setActiveModal;Object(u.V)().viewWidth;return Object(m.jsx)(u.t,{dynamicContentHeight:!0,id:"create",onClose:function(){t(null),F()},icon:Object(m.jsx)(Jt.a,{}),actions:Object(m.jsx)(u.g,{size:"l",onClick:function(){f.a.send("VKWebAppAddToCommunity")},children:"\u041f\u043e\u0434\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0441\u043e\u043e\u0431\u0449\u0435\u0441\u0442\u0432\u043e"}),header:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043a\u043b\u0430\u043d",subheader:"\u041a\u043b\u0430\u043d\u044b \u044d\u0442\u043e \u0441\u043e\u043e\u0431\u0449\u0435\u0441\u0442\u0432\u0430 \u0412\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u0435. \u0412\u0430\u043c \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0438\u0433\u0440\u0443 \u0432 \u043c\u0435\u043d\u044e \u0441\u043e\u043e\u0431\u0449\u0435\u0441\u0442\u0432\u0430, \u0430 \u043f\u043e\u0441\u043b\u0435 \u043f\u0435\u0440\u0435\u0439\u0442\u0438 \u0447\u0435\u0440\u0435\u0437 \u043c\u0435\u043d\u044e \u0441\u043e\u043e\u0431\u0449\u0435\u0441\u0442\u0432\u0430 \u0432 \u0441\u0430\u043c \u043a\u043b\u0430\u043d."})}var Qt=function(e){var t=e.setActivePlayPanel,i=(e.setActivePanel,e.setShow),n=e.logo,s=e.name;return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(u.B,{style:{background:"white",display:"flex",justifyContent:"center"},icon:Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(u.e,{mode:"app",src:n,size:112})}),header:s,action:Object(m.jsxs)("div",{children:[Object(m.jsx)(u.g,{style:{marginRight:"3%"},size:"m",children:"\u0412\u0441\u0442\u0443\u043f\u0438\u0442\u044c"}),Object(m.jsx)(u.g,{size:"m",mode:"secondary",onClick:function(){t("main"),i(!0)},children:"\u041e\u0442\u043c\u0435\u043d\u0430"})]}),stretched:!0,children:"\u0412\u0430\u0441 \u043f\u0440\u0438\u0433\u043b\u0430\u0448\u0430\u044e\u0442 \u0432\u0441\u0442\u0443\u043f\u0438\u0442\u044c \u0432 \u043a\u043b\u0430\u043d"})})},Xt=(i(630),i(668)),Zt=i.p+"static/media/apple_icon.0dcaea07.svg";i(631);function $t(e){var t=e.className,i=void 0===t?"":t,n=e.rating,s=e.apples;return Object(m.jsxs)("span",{className:"".concat(i," balance").trim(),children:[void 0!==n&&Object(m.jsxs)("span",{className:"balance__item",children:[Object(m.jsx)("img",{src:z,alt:"\u0420\u0435\u0439\u0442\u0438\u043d\u0433",className:"balance__item__icon"}),n]}),void 0!==s&&Object(m.jsxs)("span",{className:"balance__item",children:[Object(m.jsx)("img",{src:Zt,alt:"\u042f\u0431\u043b\u043e\u043a\u0438",className:"balance__item__icon"}),s]})]})}var ei,ti,ii,ni,si,oi,ci,ai;i(632);function ri(e){var t=e.user,i=e.userRating,n=e.opponent,s=e.isWin,o=e.isDraw,c=e.onClick,a=Object(u.V)().viewWidth<u.U.SMALL_TABLET,r=s?"\u041f\u043e\u0431\u0435\u0434\u0430":o?"\u041d\u0438\u0447\u044c\u044f":"\u041f\u043e\u0440\u0430\u0436\u0435\u043d\u0438\u0435",l=s?"\u041f\u043e\u0437\u0434\u0440\u0430\u0432\u043b\u044f\u044e, \u0432\u044b \u0432\u044b\u0438\u0433\u0440\u0430\u043b\u0438!\n\u0412\u043e\u0442 \u0432\u0430\u0448\u0430 \u043d\u0430\u0433\u0440\u0430\u0434\u0430":o?"\u041d\u0438\u0447\u044c\u044f \u044d\u0442\u043e \u0442\u043e\u0436\u0435 \u043d\u0435\u043f\u043b\u043e\u0445\u043e.\n\u041f\u043e \u043a\u0440\u0430\u0439\u043d\u0435\u0439 \u043c\u0435\u0440\u0435, \u0432\u044b \u043d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043f\u043e\u0442\u0435\u0440\u044f\u043b\u0438.":"\u041a \u0441\u043e\u0436\u0430\u043b\u0435\u043d\u0438\u044e, \u0432\u044b \u043f\u0440\u043e\u0438\u0433\u0440\u0430\u043b\u0438...\n\u041d\u043e \u0443 \u0432\u0430\u0441 \u0432\u0441\u0435\u0433\u0434\u0430 \u0435\u0441\u0442\u044c \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u043e\u0442\u044b\u0433\u0440\u0430\u0442\u044c\u0441\u044f!",d=s?"+":o?"":"-";function h(e){var t=document.createElement("a");Object.assign(t,{href:e,target:"_blank"}).click()}return Object(m.jsx)(u.C,{className:"final-screen",alignY:"center",alignX:"center",ismobile:a.toString(),children:Object(m.jsxs)(u.l,{children:[Object(m.jsx)(u.p,{className:"final-screen__container",separator:"show",children:Object(m.jsxs)("div",{className:"final-screen__result",children:[Object(m.jsx)(u.e,{size:68,src:t.photo_200,className:"final-screen__avatar"}),Object(m.jsx)(u.R,{className:"final-screen__title",level:"2",weight:"semibold",children:r}),Object(m.jsx)(u.L,{className:"final-screen__desc",weight:"regular",children:l}),Object(m.jsx)($t,{className:"final-screen__balance",rating:d+i})]})}),Object(m.jsx)(u.p,{className:"final-screen__container",separator:"show",children:Object(m.jsx)(u.F,{className:"final-screen__opponent",before:Object(m.jsx)(u.e,{size:48,src:n.photo_200}),after:Object(m.jsxs)("div",{className:"final-screen__opponent__buttons",children:[Object(m.jsx)(u.g,{mode:"secondary",onClick:function(){return h("https://vk.me/id"+n._id)},children:Object(m.jsx)(Xt.a,{})}),Object(m.jsx)(u.g,{mode:"secondary",onClick:function(){return h("https://vk.com/id"+n._id)},children:Object(m.jsx)(Rt.a,{})})]}),description:"\u0412\u0430\u0448 \u0441\u043e\u043f\u0435\u0440\u043d\u0438\u043a",children:n.name})}),Object(m.jsx)(u.g,{className:"final-screen__button",size:"l",mode:"overlay_primary",onClick:c,children:"\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c"})]})})}var li,di="desktop_web"==(null===(ei=window)||void 0===ei||null===(ti=ei.location)||void 0===ti||null===(ii=ti.search)||void 0===ii||null===(ni=ii.split("vk_platform=")[1])||void 0===ni?void 0:ni.split("&")[0]);window.isDesktop=di;var hi=(null===(si=window.location)||void 0===si||null===(oi=si.search)||void 0===oi||null===(ci=oi.slice(1))||void 0===ci||null===(ai=ci.split("user_id=")[1])||void 0===ai?void 0:ai.split("&")[0])||window.sber_id;function pi(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}f.a.send("VKWebAppInit"),f.a.send("VKWebAppSetViewSettings",{status_bar_style:"dark",action_bar_color:"white",navigation_bar_color:"white"});var ji=pi(),bi=!1;window.isIos=ji;var xi=function(){var e=Object(n.useState)(!1),t=Object(d.a)(e,2),i=t[0],s=t[1],o=Object(n.useState)("loading"),c=Object(d.a)(o,2),g=c[0],O=c[1],y=Object(n.useState)("play"),v=Object(d.a)(y,2),_=v[0],k=v[1],C=Object(n.useState)("home"),A=Object(d.a)(C,2),S=A[0],z=A[1],N=Object(n.useState)({}),T=Object(d.a)(N,2),F=T[0],B=T[1],D=Object(n.useState)(!1),H=Object(d.a)(D,2),I=H[0],L=H[1],W=Object(n.useState)(!1),K=Object(d.a)(W,2),V=K[0],U=K[1],G=Object(n.useState)(0),Y=Object(d.a)(G,2),J=(Y[0],Y[1]);window.user=F;var q=Object(n.useState)(null),Q=Object(d.a)(q,2),X=Q[0],Z=Q[1],$=Object(n.useState)(null),ee=Object(d.a)($,2),te=ee[0],ne=ee[1],se=Object(n.useState)(!1),ce=Object(d.a)(se,2),ae=ce[0],re=ce[1],le=Object(n.useState)(!1),de=Object(d.a)(le,2),he=de[0],pe=de[1],je=Object(n.useState)(null),xe=Object(d.a)(je,2),ue=xe[0],ge=xe[1],fe=Object(n.useState)(null),me=Object(d.a)(fe,2),Oe=(me[0],me[1],Object(n.useState)(null)),ye=Object(d.a)(Oe,2),we=ye[0],ve=ye[1],_e=Object(n.useState)(!1),ke=Object(d.a)(_e,2),Ae=(ke[0],ke[1],Object(n.useState)(!1)),Se=Object(d.a)(Ae,2),ze=Se[0],Ne=Se[1],Te=Object(n.useState)(!1),Fe=Object(d.a)(Te,2),Pe=(Fe[0],Fe[1],Object(n.useState)(1==w.Howler.volume())),Be=Object(d.a)(Pe,2),De=Be[0],Ie=Be[1],Re=Object(n.useState)(!0),Le=Object(d.a)(Re,2),We=Le[0],Me=Le[1],Ke=Object(n.useState)([]),Ve=Object(d.a)(Ke,2),Ue=Ve[0],Ge=Ve[1];ji=pi(),window.isIos=ji,"http://localhost:3000/"==window.location.href&&window.location.replace("https://vk.com/app7958418");var Ye=Object(m.jsxs)(u.w,{activeModal:ue,onClose:function(){ge(null)},children:[Object(m.jsx)(zt,{sber_bar:qe,setActiveModal:ge,user:F,id:"statistic"}),Object(m.jsx)(It,{setActiveModal:ge,user:F,id:"bonuses"}),Object(m.jsx)(Yt,{setActiveModal:ge,id:"join"}),Object(m.jsx)(qt,{setActiveModal:ge,id:"create"}),Object(m.jsx)(Ut,{setActiveModal:ge,user:F,friends:Ue,isToken:i,id:"friends",dynamicContentHeight:!0})]});window.isBattle=he;var Je=function(e){var t=e.currentTarget.dataset.story;"rating"!=_&&"rating"==t&&setTimeout((function(){P.emit("get_rating"),console.log("get_rating")}),200),k(t)};function qe(){ne(Object(m.jsx)(u.G,{onClose:function(){ne(null)},style:{marginBottom:window.sber_id?"80px":""},before:Object(m.jsx)(u.e,{size:24,src:"https://sun9-13.userapi.com/s/v1/ig2/aPcuDKaV_Mr8GoTAvFCzVWZbce1yopbQhJKZ-BFfm-4ikqAMAIgvN4Zk4BQxQGsZhb2emZwGRGJeuo8OcfoLiXNU.jpg?size=400x400&quality=95&crop=0,0,400,400&ava=1"}),children:'\u042d\u0442\u043e\u0442 \u0438\u0433\u0440\u043e\u043a \u0432\u043e\u0448\u0435\u043b \u0447\u0435\u0440\u0435\u0437 "\u0421\u0431\u0435\u0440 \u0421\u0430\u043b\u044e\u0442", \u043e\u0442\u043a\u0440\u044b\u0442\u044c \u043f\u0440\u043e\u0444\u0438\u043b\u044c \u0412\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u0435 - \u043d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e.'}))}function Qe(e,t){Z(Object(m.jsxs)(u.G,{style:{marginBottom:window.sber_id?"80px":""},onClose:function(){Z(null)},before:Object(m.jsx)(p.a,{width:24,height:24}),children:["+",e," \u0440\u0435\u0439\u0442\u0438\u043d\u0433\u0430 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u043e. \u0421\u043f\u0430\u0441\u0438\u0431\u043e, \u0442\u044b \u043f\u043e\u043c\u043e\u0433\u0430\u0435\u0448\u044c \u043d\u0430\u043c \u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0441\u044f \u043b\u0443\u0447\u0448\u0435!"]}))}var Xe=!1,Ze=function(e){for(var t in e)window.user[t]=e[t];B(window.user)};return window.rcon_script=function(){ze&&(Ne(!1),ve(null))},Object(n.useEffect)(Object(l.a)(a.a.mark((function e(){var t,i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=function(){P.on("userData",(function(e,i){i&&J(Date.now()-i),e.notify_msg&&U(!0),"loading"==g&&L(!0),t=e,B(e),re(e.search)})),P.on("dataUpdate",(function(e){console.log("dataupdate",e),Ze(e)})),P.on("ads_nice",(function(e,t){Qe(e)})),P.on("lobby_started",(function(e){if(li){li.stop();new w.Howl({src:["https://mitursky.github.io/SHEEP-ROYALE-BUILD/sounds/start.mp3"],autoplay:!0,volume:.5})}_t(e),k("battle"),O("main"),pe(!0),re(!1),Z(null),ge(null)})),P.on("reconnect_to",(function(e){var t=e.port,i=e.adress;console.log("RCON TO PORT "+i+" : "+t),R({port:t,adress:i})})),P.on("disconnect",(function(){setTimeout((function(){P.connected||(Ne(!0),ve(Object(m.jsxs)(u.c,{style:{pointerEvents:"none"},className:"offAlert",actionsLayout:"vertical",onClose:function(){ve(null)},header:"\u0423\u043f\u0441 :(",children:["\u041f\u043e\u0442\u0435\u0440\u044f\u043d\u043e \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435 \u0441 \u0438\u043d\u0442\u0435\u0440\u043d\u0435\u0442\u043e\u043c",Object(m.jsx)("div",{style:{height:"20px"}}),Object(m.jsx)(u.I,{})]})))}),1e3)})),P.on("lobby_undefined",(function(){console.log("und"),"loading"==g&&window.scene?(li?li.playing()||li.play():li=new w.Howl({src:["https://mitursky.github.io/SHEEP-ROYALE-BUILD/sounds/bg.mp3"],autoplay:!0,loop:!0,volume:.2}),L(!0),console.log("battle end")):"rating"!=_&&"profile"!=_&&window.scene&&console.log("end game")})),P.on("lobby_finish",(function(e,t,i,n){var s=e.find((function(e){return e._id!=(hi||window.sber_id)})),o=e.find((function(e){return e._id===(hi||window.sber_id)})),c=i.find((function(e){return e._id==hi||window.sber_id})).rating;if(window.scene){He&&(He.stop(),He.seek(0),He=!1),new w.Howl({src:["https://mitursky.github.io/SHEEP-ROYALE-BUILD/sounds/end.mp3"],autoplay:!0,volume:.5}),"loading"==g&&L(!0);var a=s.command!==t;ve(Object(m.jsx)(ri,{user:o,userRating:c,opponent:s,isWin:a,isDraw:n,onClick:function(){pe(!1),k("play"),O("main"),ve(null),window.scene.setScene("menu"),window.isBattle=!1}})),R({})}})),console.log("go_con")},f.a.subscribe(function(){var e=Object(l.a)(a.a.mark((function e(i){var n,o,c,l,d,h,p;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.detail,o=n.type,c=n.data,console.log(o,c),"VKWebAppAllowMessagesFromGroupResult"==o&&c.result&&(P.emit("notify_msg"),U(!0)),"VKWebAppAllowNotificationsResult"==o&&c.result&&P.emit("notify_default"),"VKWebAppViewRestore"==o&&(bi?(bi=!1,w.Howler.volume(0),Ie(!1)):(Ie(!0),w.Howler.volume(1)),setTimeout((function(){R({})}),1e3)),"VKWebAppShowStoryBoxResult"==o&&(P.emit("story_publish"),ve(null)),"VKWebAppViewHide"==o&&li&&(li.stop(),0==w.Howler.volume()&&(bi=!0),w.Howler.volume(0)),"VKWebAppJoinGroupResult"==o&&c.result&&P.emit("sub_bonus"),"VKWebAppAccessTokenReceived"==o&&c.access_token&&(f.a.send("VKWebAppCallAPIMethod",{method:"friends.search",request_id:"32test",params:{user_id:Number(t._id),v:5.81,access_token:c.access_token,fields:"photo_200"}}),s(!0)),"VKWebAppAccessTokenFailed"==o&&s(!1),"VKWebAppCallAPIMethodResult"===o&&"48test"!=c.request_id){l=[],d=Object(r.a)(c.response.items);try{for(d.s();!(h=d.n()).done;)p=h.value,l.push(p.id)}catch(a){d.e(a)}finally{d.f()}Ge(c.response.items),P.emit("get_friends_rating",l.map(String)),P.emit("get_friends_list",l.map(String))}case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),window.start_socket_on=i,window.auto_start_socket&&i();case 4:case"end":return e.stop()}}),e)}))),[]),Object(m.jsx)(u.K,{modal:Ye,popout:we,header:!1,style:{justifyContent:"center"},children:Object(m.jsx)(u.J,{animate:!0,spaced:Xe,width:"100%",maxWidth:"100%",children:Object(m.jsxs)(u.m,{activeStory:_,tabbar:he||"loading"==g?"":We?Object(m.jsxs)(u.M,{onClick:function(){E()},style:{height:window.sber_id?ji?"43px":"130px":"",alignItems:window.sber_id?"baseline":"",borderRadius:window.sber_id?"20px 20px 0px 0px":"",bottom:window.sber_id?ji?"profile"==_?window.reloaded?"68px":"-68px":(window.reloaded,"0px"):"0px":"0x"},children:[Object(m.jsx)(u.N,{onClick:Je,selected:"profile"===_,"data-story":"profile",text:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c",children:Object(m.jsx)(j.a,{})}),Object(m.jsx)(u.N,{onClick:Je,selected:"play"===_,"data-story":"play",text:"\u0418\u0433\u0440\u0430\u0442\u044c",children:Object(m.jsx)(b.a,{})}),Object(m.jsx)(u.N,{owerflow:"show",onClick:Je,selected:"rating"===_,"data-story":"rating",text:"\u0420\u0435\u0439\u0442\u0438\u043d\u0433",children:Object(m.jsx)(x.a,{})})]}):null,children:[Object(m.jsxs)(u.T,{id:"play",activePanel:g,children:[Object(m.jsxs)(u.x,{id:"main",className:"rePanel",children:[Object(m.jsx)(M,{user:F,lobby_bar:function(){Z(Object(m.jsx)(u.G,{style:{marginBottom:window.sber_id?"80px":""},duration:999999999,id:"play",onClose:function(){Z(null),re(!1)},action:"\u041e\u0442\u043c\u0435\u043d\u0430",onActionClick:function(){Z(null),re(!1),P.emit("cancel")},before:Object(m.jsx)(u.e,{size:24,style:{background:"var(--accent)"},children:Object(m.jsx)(h.a,{fill:"#fff",width:14,height:14})}),children:"\u0418\u0434\u0451\u0442 \u043f\u043e\u0438\u0441\u043a \u0441\u043e\u043f\u0435\u0440\u043d\u0438\u043a\u043e\u0432"}))},mutedStatus:De,setMutedStatus:Ie,setActiveModal:ge,notify:V,notifyAlert:function(){var e=!1;ve(Object(m.jsx)(u.c,{actions:[{title:"\u041e\u0442\u043c\u0435\u043d\u0430",autoclose:!0,mode:"cancel"},{title:"\u0412\u043a\u043b\u044e\u0447\u0438\u0442\u044c",autoclose:!0,action:function(){e||(e=!0,f.a.send("VKWebAppAllowMessagesFromGroup",{group_id:209019197,key:"123"}))}}],actionsLayout:"horizontal",onClose:function(){ve(null)},header:"\u0422\u0443\u0440\u043d\u0438\u0440\u044b",children:"\u0422\u0443\u0440\u043d\u0438\u0440\u044b \u043d\u0430\u0447\u043d\u0443\u0442\u0441\u044f \u0441\u043e\u0432\u0441\u0435\u043c \u0441\u043a\u043e\u0440\u043e! \u0412\u043a\u043b\u044e\u0447\u0430\u0439 \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f, \u0447\u0442\u043e\u0431\u044b \u043d\u0435 \u043f\u0440\u043e\u043f\u0443\u0441\u0442\u0438\u0442\u044c."}))},socket:P,loading:ae,setLoading:re,setActivePlayPanel:O}),X]}),Object(m.jsxs)(u.x,{id:"loading",style:{backgroundColor:"white"},onClick:function(){I&&(window.location.href.indexOf("clan=")>-1?(O("clanplaceholder"),Me(!1)):O("main"))},children:[Object(m.jsx)("img",{src:Gt,style:{width:.75*window.innerWidth,top:"0",bottom:"0",margin:"auto",left:"0",right:"0",position:"absolute"}}),I?Object(m.jsx)("dev",{style:{textAlign:"center",fontSize:"1.25rem",position:"absolute",bottom:"70px",left:"0",right:"0",margin:"auto"},className:"blink1",children:"\u041d\u0430\u0436\u043c\u0438\u0442\u0435, \u0447\u0442\u043e\u0431\u044b \u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c"}):Object(m.jsx)(u.I,{size:"medium",style:{top:"0",bottom:"0",margin:"auto",left:"0",right:"0",marginTop:di?250:.75*window.innerWidth/2+25,position:"absolute",color:"black"}})]}),Object(m.jsx)(u.x,{id:"clanplaceholder",children:Object(m.jsx)(Qt,{setActivePlayPanel:O,setShow:Me,name:"\u041a\u043e\u0442\u0431\u0440\u0435\u0434",logo:"https://sun9-54.userapi.com/impg/quVBs-qyS15mxDzUTA2R_9RdQ36xiYlxaDvXCg/Ij6QLHMppw8.jpg?size=1000x1000&quality=95&sign=b03a59a4fbefc265e90b410d63e1bd24&type=album"})}),Object(m.jsx)(u.x,{id:"learn",style:{backgroundColor:"white"},children:Object(m.jsx)(ie,{setActivePlayPanel:O})})]}),Object(m.jsxs)(u.T,{id:"profile",activePanel:S,children:[Object(m.jsx)(u.x,{id:"home",style:{overflow:"hidden"},className:"rePanel",children:Object(m.jsx)(oe,{setActiveProfilePanel:z,setActiveModal:ge,user:F})}),Object(m.jsx)(u.x,{id:"market",children:Object(m.jsx)(Ee,{setActiveProfilePanel:z,user:F})})]}),Object(m.jsx)(u.T,{id:"rating",activePanel:"rating",children:Object(m.jsxs)(u.x,{id:"rating",style:{overflow:"hidden",backgroundColor:"var(--background_content)"},children:[Object(m.jsx)(be,{user:F,sber_bar:qe,isToken:i,setIsToken:s}),te]})}),Object(m.jsx)(u.T,{id:"battle",activePanel:"battle",children:Object(m.jsx)(u.x,{id:"battle"})}),Object(m.jsx)(u.T,{id:"clans",activePanel:"clans",children:Object(m.jsx)(u.x,{id:"clans",style:{overflow:"scroll",backgroundColor:"white"},children:Object(m.jsx)(Ce,{setActiveModal:ge,user:F})})})]})})})},ui=function(e){e&&e instanceof Function&&i.e(3).then(i.bind(null,674)).then((function(t){var i=t.getCLS,n=t.getFID,s=t.getFCP,o=t.getLCP,c=t.getTTFB;i(e),n(e),s(e),o(e),c(e)}))};console.log(Object({NODE_ENV:"production",PUBLIC_URL:"https://mitursky.github.io/SHEEP-ROYALE-BUILD/build",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_CLIENT_ENV:"prod",REACT_APP_MUSIC_ENV:"true"}));var gi=document.createElement("canvas"),fi=gi.getContext("webgl")||gi.getContext("experimental-webgl");fi&&fi instanceof WebGLRenderingContext?console.log("Congratulations! Your browser supports WebGL."):console.log("Failed to get WebGL context. Your browser or device may not support WebGL."),o.a.render(Object(m.jsx)(u.k,{children:Object(m.jsx)(u.b,{children:Object(m.jsx)(u.d,{children:Object(m.jsx)(xi,{})})})}),document.getElementById("root")),ui()}},[[633,1,2]]]);