(this.webpackJsonpclose=this.webpackJsonpclose||[]).push([[0],{220:function(e){e.exports=JSON.parse('{"files":[{"name":"bg_forest","file":"/img/spring_pack/bg_forest.png","format":"png"},{"name":"card_balance","file":"/img/spring_pack/interface/cards/card_balance.png","format":"png"},{"name":"card_corral","file":"/img/spring_pack/interface/cards/card_corral.png","format":"png"},{"name":"card_farm","file":"/img/spring_pack/interface/cards/card_farm.png","format":"png"},{"name":"card_sheep","file":"/img/spring_pack/interface/cards/card_sheep.png","format":"png"},{"name":"over_bg","file":"/img/spring_pack/interface/cards/over_bg.png","format":"png"},{"name":"under_bg","file":"/img/spring_pack/interface/cards/under_bg.png","format":"png"},{"name":"map_bg","file":"/img/spring_pack/interface/map_bg.png","format":"png"},{"name":"time_left","file":"/img/spring_pack/interface/time_left.png","format":"png"},{"name":"line","file":"/img/spring_pack/line.png","format":"png"},{"name":"main_bg","file":"/img/spring_pack/main_bg.png","format":"png"},{"name":"balloon","file":"/img/spring_pack/units/balloon.png","format":"png"},{"name":"balloon_farm","file":"/img/spring_pack/units/balloon_farm.png","format":"png"},{"name":"corral","file":"/img/spring_pack/units/corral.png","format":"png"},{"name":"farm","file":"/img/spring_pack/units/farm.png","format":"png"},{"name":"sheep","file":"/img/spring_pack/units/sheep.png","format":"png"}]}')},286:function(e,t,i){},299:function(e,t,i){},629:function(e,t,i){},632:function(e,t,i){},633:function(e,t,i){},634:function(e,t,i){},635:function(e,t,i){"use strict";i.r(t);var n=i(1),s=i(98),o=i.n(s),c=(i(286),i(46)),a=i.n(c),r=i(100),l=i(74),d=i(22),p=i(671),h=(i(672),i(638)),j=i(673),b=i(674),u=i(675),x=i(4),g=i(23),f=i.n(g),m=i(0),O=window.innerWidth/5;O>80&&(O=80);i(58),i(299);var w=i(17),v=i(29),y=i(637),_=i(639),k=i(640),C=i(641),A=i(642),S=i(643),z=i.p+"static/media/Fire.8c4394a2.svg",N=(i(159),i.p+"static/media/Apple.9169d479.svg"),E=i.p+"static/media/SheepRoyaleText.6310a86a.svg";function T(){new v.Howl({src:["https://mitursky.github.io/SHEEP-ROYALE-BUILD/sounds/panels/tab.m4a"],autoplay:!0,volume:.8})}function F(){new v.Howl({src:["https://mitursky.github.io/SHEEP-ROYALE-BUILD/sounds/panels/modal.m4a"],autoplay:!0,volume:.8})}var B,D=i(115);B=Object(D.io)("http://localhost:3101",{auth:{token:0},transports:["websocket"]});var P,H,I={"195.161.69.151":"wss://sheeproyale.ru",localhost:"http://localhost"};function R(e){var t,i,n,s=e.port,o=e.adress;(o?o=I[o]:(console.log(Object({NODE_ENV:"production",PUBLIC_URL:"https://mitursky.github.io/SHEEP-ROYALE-BUILD/build",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_CLIENT_ENV:"prod",REACT_APP_MUSIC_ENV:"true"})),o="wss://sheeproyale.ru"),console.log("connect to "+o),s=s?":30"+s:":300"+(t=1,i=2,Math.floor(Math.random()*(i-t+1)+t)),window.location.search.slice(1))&&(console.log("non loc"),B.disconnect(),console.log(o+s),(B=Object(D.io)("".concat(o).concat(s),{auth:{token:window.location.search.slice(1),referal:null===(n=window.location.hash.split("r=")[1])||void 0===n?void 0:n.split("&")[0]},timeout:1e3,transports:["websocket"]})).connect(),B.on("connect",(function(){console.log("con"),B.emit("get"),window.rcon_script()})),window.start_socket_on?window.start_socket_on():window.auto_start_socket=!0)}function L(e,t){var i=(e=Math.abs(e)%100)%10;return e>10&&e<20?t[2]:i>1&&i<5?t[1]:1==i?t[0]:t[2]}window.socket=B;var W="mobile_iphone"==(null===(P=window.location.search.split("vk_platform=")[1])||void 0===P?void 0:P.split("&")[0])||"mobile_iphone_messenger"==(null===(H=window.location.search.split("vk_platform=")[1])||void 0===H?void 0:H.split("&")[0]);function M(e){var t,i=e.lobby_bar,s=e.socket,o=e.loading,c=e.setLoading,a=e.setActivePlayPanel,r=e.setActiveModal,l=(e.notifyAlert,e.notify,e.mutedStatus),p=e.setMutedStatus,j=e.user,b=Object(n.useState)("false"!==j.friends_link?"friends":"all"),u=Object(d.a)(b,2),g=(u[0],u[1],Object(n.useState)([])),f=Object(d.a)(g,2),O=(f[0],f[1],Object(n.useState)({})),w=Object(d.a)(O,2),z=w[0],N=w[1];return Object(n.useEffect)((function(){s.emit("online_data"),setInterval((function(){s.emit("online_data")}),1e4),s.on("online_datas",(function(e){N(e)}))}),[]),Object(m.jsxs)("body",{style:{height:window.innerHeight-48+"px",width:"100%"},children:[Object(m.jsxs)("div",{style:{width:"100%",height:"100%",position:"absolute",display:"flex",justifyContent:"center",flexDirection:"column",backgroundColor:"#0000003b"},children:[Object(m.jsx)("div",{style:{display:"flex",justifyContent:"center",flexDirection:"column"},children:Object(m.jsx)("img",{src:E,style:{height:"70%",userSelect:"none",maxHeight:"350px"}})}),Object(m.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(m.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column"},children:[Object(m.jsx)(x.g,{size:"l",appearance:"overlay",before:Object(m.jsx)(y.a,{}),disabled:o,loading:o,onClick:function(){c(!0),s.emit("play"),i()},style:{fontSize:"25px",fontWeight:"900",marginBottom:"10px"},children:"\u0418\u0433\u0440\u0430\u0442\u044c"}),Object(m.jsx)(x.l,{children:Object(m.jsx)(x.S,{photos:function(){var e,t,i=[];if(null===z||void 0===z||null===(e=z.users)||void 0===e||e.map((function(e){i.push(e.photo_200)})),z.online>(null===z||void 0===z||null===(t=z.users)||void 0===t?void 0:t.length))for(var n=0;n<z.online-z.users.length;n++)i.push("default");return i}(),size:"m",count:3,layout:"vertical",style:{color:"#fff",padding:"8px 0"},children:Object(m.jsxs)("div",{style:{fontSize:"medium",fontWeight:"400"},children:[(null===z||void 0===z||null===(t=z.users)||void 0===t?void 0:t.length)>z.online?z.users.length:z.online," ",L(z.online,["\u0438\u0433\u0440\u043e\u043a","\u0438\u0433\u0440\u043e\u043a\u0430","\u0438\u0433\u0440\u043e\u043a\u043e\u0432"])," ","\u043e\u043d\u043b\u0430\u0439\u043d"]})})})]})})]}),Object(m.jsx)(x.g,{before:Object(m.jsx)(h.a,{width:24,height:24}),size:"m",style:{width:"140px",backgroundColor:"white",color:"black",display:"flex",position:"absolute",bottom:W?"166px":"104px",left:"10px"},onClick:function(){r("bonuses"),F()},children:"\u0411\u043e\u043d\u0443\u0441\u044b"}),Object(m.jsx)(x.g,{before:Object(m.jsx)(_.a,{width:24,height:24}),size:"m",style:{width:"140px",backgroundColor:"white",color:"black",display:"flex",position:"absolute",bottom:W?"122px":"60px",left:"10px"},onClick:function(){a("learn"),F()},children:"\u041e\u0431\u0443\u0447\u0435\u043d\u0438\u0435"}),Object(m.jsx)(x.r,{href:window.sber_id?"https://vk.me/join/iXCxH7UDAPygNUY8zRyxxnwDRaeqccNEN48=":"",children:Object(m.jsx)(k.a,{}),style:{backgroundColor:"white",color:"black",borderRadius:"100%",position:"absolute",bottom:W?"122px":"60px",right:"10px"},onClick:function(){var e=document.createElement("a");Object.assign(e,{href:"https://vk.me/join/iXCxH7UDAPygNUY8zRyxxnwDRaeqccNEN48=",target:"_blank"}),e.click()}}),Object(m.jsx)(x.r,{children:Object(m.jsx)(C.a,{}),href:window.sber_id?"https://vk.com/sheep_royale":"",style:{backgroundColor:"white",color:"black",borderRadius:"100%",position:"absolute",bottom:W?"122px":"60px",right:"65px"},onClick:function(){var e=document.createElement("a");Object.assign(e,{href:"https://vk.com/sheep_royale",target:"_blank"}),e.click()}}),Object(m.jsx)(x.r,{children:l?Object(m.jsx)(A.a,{}):Object(m.jsx)(S.a,{}),style:{backgroundColor:"white",color:"black",borderRadius:"100%",position:"absolute",bottom:W?"122px":"60px",right:"120px"},onClick:function(){1==v.Howler.volume()?(v.Howler.volume(0),p(!1)):(v.Howler.volume(1),p(!0))}})]})}var K=i(644),V=i(645),U=i(646),G=i(647),Y=i.p+"static/media/Frame 45.888b3464.png",J=i.p+"static/media/Frame 46.d06fdbb0.png",q=i.p+"static/media/Frame 47.aef1a41a.png",Q=i.p+"static/media/Frame 48.2eb75c98.png",X=i.p+"static/media/Frame 49.1f62962a.png",Z=i.p+"static/media/Frame 50.70cf89ca.png",$=i.p+"static/media/Frame 51.92be276c.png",ee=i.p+"static/media/Frame 52.76d63e5a.png",te=i.p+"static/media/Frame 53.13fda5d8.png";function ie(e){var t=e.setActivePlayPanel,i=Object(n.useState)(0),s=Object(d.a)(i,2),o=s[0],c=s[1];return console.log(o),Object(m.jsxs)("body",{children:[" ",Object(m.jsx)(x.y,{left:Object(m.jsx)(x.z,{onClick:function(){F(),t("main")}}),children:"\u041e\u0431\u0443\u0447\u0435\u043d\u0438\u0435"}),Object(m.jsxs)(x.n,{slideWidth:"100%",align:"center",style:{height:window.innerHeight-108+"px"},slideIndex:o,onChange:c,isDraggable:!0,showArrows:!0,children:[Object(m.jsxs)("div",{style:{justifyContent:"center",alignItems:"none",display:"flex"},children:[Object(m.jsx)(x.B,{icon:Object(m.jsx)(K.a,{fill:"#5A9EFF",style:{marginBottom:"-10px"}}),header:"\u041f\u043e\u043b\u0435 \u0431\u043e\u044f",style:{position:"absolute",marginTop:"-20px"}}),Object(m.jsx)("img",{src:Y,style:{position:"absolute",marginTop:"50px",height:window.sber_id?window.innerHeight-218+"px":window.innerHeight-140+"px"}})]}),Object(m.jsxs)("div",{style:{justifyContent:"center",display:"flex"},children:[Object(m.jsx)(x.B,{icon:Object(m.jsx)(V.a,{width:36,height:36,fill:"#5A9EFF",style:{marginBottom:"-10px"}}),header:"\u041a\u043e\u043b\u043e\u0434\u0430",style:{position:"absolute",marginTop:"-20px"}}),Object(m.jsx)("img",{src:J,style:{position:"absolute",height:window.sber_id?window.innerHeight-218+"px":window.innerHeight-108+"px"}})]}),Object(m.jsxs)("div",{style:{justifyContent:"center",display:"flex"},children:[Object(m.jsx)(x.B,{icon:Object(m.jsx)(V.a,{width:36,height:36,fill:"#5A9EFF",style:{marginBottom:"-10px"}}),header:"\u041a\u043e\u043b\u043e\u0434\u0430",style:{position:"absolute",marginTop:"-20px"}}),Object(m.jsx)("img",{src:q,style:{position:"absolute",height:window.sber_id?window.innerHeight-218+"px":window.innerHeight-108+"px"}})]}),Object(m.jsxs)("div",{style:{justifyContent:"center",display:"flex"},children:[Object(m.jsx)(x.B,{icon:Object(m.jsx)(V.a,{width:36,height:36,fill:"#5A9EFF",style:{marginBottom:"-10px"}}),header:"\u041a\u043e\u043b\u043e\u0434\u0430",style:{position:"absolute",marginTop:"-20px"}}),Object(m.jsx)("img",{src:Q,style:{position:"absolute",height:window.sber_id?window.innerHeight-218+"px":window.innerHeight-108+"px"}})]}),Object(m.jsxs)("div",{style:{justifyContent:"center",display:"flex"},children:[Object(m.jsx)(x.B,{icon:Object(m.jsx)(V.a,{width:36,height:36,fill:"#5A9EFF",style:{marginBottom:"-10px"}}),header:"\u041a\u043e\u043b\u043e\u0434\u0430",style:{position:"absolute",marginTop:"-20px"}}),Object(m.jsx)("img",{src:X,style:{position:"absolute",height:window.sber_id?window.innerHeight-218+"px":window.innerHeight-108+"px"}})]}),Object(m.jsxs)("div",{style:{justifyContent:"center",display:"flex"},children:[Object(m.jsx)(x.B,{icon:Object(m.jsx)(V.a,{width:36,height:36,fill:"#5A9EFF",style:{marginBottom:"-10px"}}),header:"\u041a\u043e\u043b\u043e\u0434\u0430",style:{position:"absolute",marginTop:"-20px"}}),Object(m.jsx)("img",{src:Z,style:{position:"absolute",height:window.sber_id?window.innerHeight-218+"px":window.innerHeight-108+"px"}})]}),Object(m.jsxs)("div",{style:{justifyContent:"center",display:"flex"},children:[Object(m.jsx)(x.B,{icon:Object(m.jsx)(U.a,{width:36,height:36,fill:"#5A9EFF",style:{marginBottom:"-10px"}}),header:"\u0417\u0434\u0430\u043d\u0438\u044f",style:{position:"absolute",marginTop:"-20px"}}),Object(m.jsx)("img",{src:$,style:{position:"absolute",marginTop:"10px",height:window.sber_id?window.innerHeight-218+"px":window.innerHeight-128+"px"}})]}),Object(m.jsxs)("div",{style:{justifyContent:"center",display:"flex"},children:[Object(m.jsx)(x.B,{icon:Object(m.jsx)(G.a,{width:36,height:36,fill:"#5A9EFF",style:{marginBottom:"-10px"}}),header:"\u0426\u0435\u043b\u044c",style:{position:"absolute",marginTop:"-20px"}}),Object(m.jsx)("img",{src:ee,style:{position:"absolute",height:window.sber_id?window.innerHeight-218+"px":window.innerHeight-108+"px"}})]}),Object(m.jsxs)("div",{style:{justifyContent:"center",display:"flex"},children:[Object(m.jsx)(x.B,{icon:Object(m.jsx)(G.a,{width:36,height:36,fill:"#5A9EFF",style:{marginBottom:"-10px"}}),header:"\u0426\u0435\u043b\u044c",style:{position:"absolute",marginTop:"-20px"}}),Object(m.jsx)("img",{src:te,style:{position:"absolute",marginTop:"20px",height:window.sber_id?window.innerHeight-218+"px":window.innerHeight-108+"px"}})]})]}),Object(m.jsx)("div",{style:{width:"100%",display:"flex",justifyContent:"center",alignItems:"center"},children:Object(m.jsx)(x.g,{size:"l",style:{height:"32px",borderRadius:"20px",backgroundColor:"#5A9EFF",bottom:window.sber_id?"178px":"74px",position:"absolute"},onClick:function(){8!=o?(console.log("on"),F(),c(o+1)):t("main")},children:8==o?"\u0417\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u044c":"\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c"})})]})}var ne=i(648);i(629);function se(e,t){var i=[];return e.length>0&&e.map((function(e){e.type==t&&i.push(e.photo_200)})),i}function oe(e){e.setActiveProfilePanel;var t=e.user,i=e.setActiveModal;return Object(m.jsxs)(n.Fragment,{className:"profile",children:[Object(m.jsxs)("div",{className:"profile-head",children:[Object(m.jsx)("div",{className:"profile-head__background"}),Object(m.jsxs)("div",{className:"profile-head__column",children:[Object(m.jsx)(x.e,{className:"profile-head__avatar",size:120,src:t.photo_200}),Object(m.jsxs)("div",{className:"profile-head__rating",children:[Object(m.jsx)("img",{src:z,className:"profile-head__rating_icon"}),Object(m.jsx)("span",{className:"profile-head__rating_number",children:t.rating})]}),Object(m.jsx)("span",{className:"profile-head__name",children:t.name}),Object(m.jsx)("div",{className:"profile-head__cardscroll",children:Object(m.jsxs)(x.j,{size:"s",style:{width:"100vw"},children:[Object(m.jsx)(x.h,{className:"profile-head__card profile-head__card_first",children:Object(m.jsxs)("div",{className:"profile-head__card_content",children:[Object(m.jsx)("span",{className:"profile-head__card_subtitle",children:"\u041f\u043e\u0431\u0435\u0434"}),Object(m.jsxs)("div",{className:"profile-head__card_bottom",children:[Object(m.jsx)("span",{className:"profile-head__card_statistics",children:t.statistics.victory}),Object(m.jsx)("div",{children:Object(m.jsx)(x.S,{className:"profile-head__card_stack",photos:se(t.history,"victory"),size:"xs",visibleCount:5})})]})]})}),Object(m.jsx)(x.h,{className:"profile-head__card profile-head__card_second",children:Object(m.jsxs)("div",{className:"profile-head__card_content",children:[Object(m.jsx)("span",{className:"profile-head__card_subtitle",children:"\u041f\u043e\u0440\u0430\u0436\u0435\u043d\u0438\u0439"}),Object(m.jsxs)("div",{className:"profile-head__card_bottom",children:[Object(m.jsx)("span",{className:"profile-head__card_statistics",children:t.statistics.defeat}),Object(m.jsx)(x.S,{className:"profile-head__card_stack",photos:se(t.history,"defeat"),size:"xs",visibleCount:3})]})]})}),Object(m.jsx)(x.h,{className:"profile-head__card profile-head__card_third",children:Object(m.jsxs)("div",{className:"profile-head__card_content",children:[Object(m.jsx)("span",{className:"profile-head__card_subtitle",children:"\u041d\u0438\u0447\u044c\u0438\u0445"}),Object(m.jsxs)("div",{className:"profile-head__card_bottom",children:[Object(m.jsx)("span",{className:"profile-head__card_statistics",children:t.statistics.draw}),Object(m.jsx)(x.S,{className:"profile-head__card_stack",photos:se(t.history,"draw"),size:"xs",visibleCount:2})]})]})})]})})]})]}),Object(m.jsx)("div",{className:"profile-background"}),Object(m.jsxs)("div",{className:"profile-deck",children:[Object(m.jsxs)("div",{className:"profile-deck__placeholder",children:[Object(m.jsx)("img",{className:"profile-deck__icon",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADkAAAA9CAYAAAAXicGTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAMeSURBVHgB7ZpPbtNAFMbfTByEWOUI5gbhBu0JSlR1waJNswAUsSg3qHuDsKgi2oWTRhUSKBhOQDgBOYK5gVddNPEMbxI7duyJaztBAvf9pMr/Zuabz5mZSv4GgCAIgiCIRw3T3bwejc+FBAtPPcbYFKQcvjk5HEABrkfOnpTQliD28LIR/Ok7weRUAnOZhO9Fdfo349MaY20pZVNpcMat18eti7X2dRU/3oyl5rYr6ny/+6rlQpboJ8eszaWNontQjgI6viMlayafvT05XPPFdQ0IKS40t00+Ez9U45AhrMpsYbCgTtogjsBU3w1dI932kYUHq29jYzXxEiSc42/eCDuAx+e6esEzM7j08GV9AGEMnuJ5p9PydHVs22ncYZ0a909xapwFtxejAY/7RXS6Hf2vrx2uSS5tp2lwbHhpVFXqJOeOmhs4LOzweu7zF+86rSkUIKkjGA7b49YkQ8dDnf2HdDjkYNkIvq0QnOjJMjUGB7HLXlGDOp0aLlxpnbi2uMijk8vkojkcDuF5sJIlkGZ4xnw+hJIww/i2anG5Mq+riEhb+FHZLHKbTIz31L+D+CJQb4ALJanfQ6ZOOJQ1fdpIbpNF6LT0i0yuuusLVAN2wF8x+a9BJqsCmawKZLIqkMmqQCarApmsCmSyKpDJqkAmqwKZrApksirszqSE1fdS23FKfy9VARDsmNwmE1Fa+uMxi+7NPDChJLMnsboYzqYKxF+mvTnei5PbpDEXq6BlkT6nxNnP1SnHuK8kUkY6UsDv5HPGI+17Lk4hB7lMXt46TQw338d6kgp0BPcHUU/g7Or2cxMKonRARDqcsVSg48e1c+pk5pNqOMwNaGPIqYTDueJiXK0NYa9GX9dSZs6hJxkf1p+BuykfUfN3dgcmE3BQQOdXLFnzOOM97OdwUwT/0MaIJK7A0HNTmhQk0/EUuCyldXQbIzbsGUgbVDs0soQV6pkqozoJJcH5PtlGB0eDlWpT10h/+MXCN3IOW2xxCWLvA6xv6kPbFd5CB/jEZ/Nh9/hoAgV14ltc1MaIbvvQAoIgCIIgCIL4D/kDMZSGMblBRfwAAAAASUVORK5CYII="}),Object(m.jsxs)("span",{className:"profile-deck__text",children:["\u041c\u0435\u0441\u0442\u043e \u0434\u043b\u044f \u043a\u043e\u043b\u043e\u0434.",Object(m.jsx)("br",{}),"\u0421\u043e\u0432\u0441\u0435\u043c \u0441\u043a\u043e\u0440\u043e \u0442\u0443\u0442 \u0447\u0442\u043e-\u0442\u043e \u043f\u043e\u044f\u0432\u0438\u0442\u0441\u044f"]})]}),Object(m.jsx)("div",{className:"profile-deck__history",children:Object(m.jsx)(x.g,{onClick:function(){i("statistic"),F()},appearance:"accent",size:"l",mode:"secondary",stretched:!0,before:Object(m.jsx)(ne.a,{className:"profile-deck__history_icon"}),children:Object(m.jsx)("span",{className:"profile-deck__history_text",children:"\u0418\u0441\u0442\u043e\u0440\u0438\u044f"})})})]})]})}i.p;var ce=i(653),ae=i(652),re=i(649),le=i(650),de=i(651);var pe=function(e){var t=e.user,i=e.mode,n=void 0===i?"primary":i;return Object(m.jsxs)(m.Fragment,{children:[" ",Object(m.jsx)(x.g,{mode:n,after:Object(m.jsx)(re.a,{width:18,height:18}),onClick:function(){f.a.send("VKWebAppShowStoryBox",{background_type:"image",url:"https://i.ibb.co/FBpTSLs/story.png",app_id:"7958418",attachment:{text:"game",type:"url",url:"https://vk.com/app7958418#r=".concat(t._id)}})},children:"\u0412 \u0438\u0441\u0442\u043e\u0440\u0438\u044e"}),Object(m.jsx)("br",{}),Object(m.jsxs)("div",{style:{left:"4px",marginTop:"6px",marginBottom:"6px"},children:[Object(m.jsx)(x.g,{mode:n,after:Object(m.jsx)(le.a,{width:18,height:18}),onClick:function(){f.a.send("VKWebAppShare",{link:"https://vk.com/app7958418#r=".concat(t._id)})},children:"\u041f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f"}),Object(m.jsx)(x.g,{style:{top:"4px",marginLeft:"8px"},mode:n,after:Object(m.jsx)(de.a,{width:18,height:18}),onClick:function(){f.a.send("VKWebAppCopyText",{text:"https://vk.com/app7958418#r=".concat(t._id)})}})]})]})};window.innerWidth;function he(e){var t=e.users,i=(e.sber_bar,e.href),n=e.open,s=e.start;return Object(m.jsx)(x.s,{children:t.map((function(e,t){var o=e._id,c=e.name,a=e.rating,r=e.photo_200;return Object(m.jsx)(x.F,{href:i(o),onClick:function(){n(o)},before:Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(x.Q,{weight:"semibold",style:{marginRight:"16px"},children:t+s}),Object(m.jsx)(x.e,{src:r})]}),description:Object(m.jsxs)("div",{style:{display:"flex"},children:[a,Object(m.jsx)("img",{src:z,style:{width:"16px",height:"16px",marginLeft:"4px"}})]}),style:{borderRadius:"12px"},children:c},t)}))})}function je(e){var t=e.users,i=(e.sber_bar,e.href),n=e.open;return Object(m.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-around",width:"100%",alignItems:"end",marginTop:"10px",marginBottom:"30px"},children:[t[1]&&Object(m.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(m.jsxs)("div",{style:{position:"relative"},children:[Object(m.jsx)("div",{style:{position:"absolute",borderRadius:"100%",width:"24px",height:"24px",backgroundColor:"#C0C0C0",textAlign:"center",zIndex:1,color:"white",fontWeight:"500",top:"4px",left:"1px"},children:"2"}),Object(m.jsx)(x.e,{size:90,src:t[1].photo_200,style:{border:"5px solid #C0C0C0",marginRight:"auto",marginLeft:"auto",cursor:"pointer"},href:i(t[1]._id),onClick:function(){n(t[1]._id)}})]}),Object(m.jsxs)("div",{style:{marginRight:"auto",marginLeft:"auto",maxHeight:"30px",fontSize:"14px",color:"grey"},children:[t[1].rating,Object(m.jsx)("img",{src:z,style:{width:"16px",height:"16px",marginLeft:"4px",top:"2.5px",position:"relative"}})]})]}),t[0]&&Object(m.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(m.jsxs)("div",{style:{position:"relative"},children:[Object(m.jsx)("div",{style:{position:"absolute",borderRadius:"100%",width:"24px",height:"24px",backgroundColor:"gold",textAlign:"center",zIndex:"1",color:"white",fontWeight:"500",fontSize:"16px",top:"4px",left:"2px"},children:"1"}),Object(m.jsx)(x.e,{size:100,src:t[0].photo_200,style:{border:"5px solid gold",marginRight:"auto",marginLeft:"auto",cursor:"pointer"},href:i(t[0]._id),onClick:function(){n(t[0]._id)}})]}),Object(m.jsx)("div",{style:{width:"80px",textAlign:"center",fontSize:"14px",fontWeight:"500",marginLeft:"auto",marginRight:"auto"},children:t[0].name.split(" ")[0]}),Object(m.jsxs)("div",{style:{marginRight:"auto",marginLeft:"auto",maxHeight:"30px",fontSize:"14px",color:"grey"},children:[t[0].rating,Object(m.jsx)("img",{src:z,style:{width:"16px",height:"16px",marginLeft:"4px",top:"2.5px",position:"relative"}})]})]}),t[2]&&Object(m.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(m.jsxs)("div",{style:{position:"relative"},children:[Object(m.jsx)("div",{style:{position:"absolute",borderRadius:"100%",width:"24px",height:"24px",backgroundColor:"#cd7f32",textAlign:"center",zIndex:"1",color:"white",fontWeight:"500"},children:"3"}),Object(m.jsx)(x.e,{size:80,src:t[2].photo_200,style:{border:"5px solid #cd7f32",marginRight:"auto",marginLeft:"auto",cursor:"pointer"},href:i(t[2]._id),onClick:function(){n(t[2]._id)}})]}),Object(m.jsxs)("div",{style:{marginRight:"auto",marginLeft:"auto",maxHeight:"30px",fontSize:"14px",color:"grey"},children:[t[2].rating,Object(m.jsx)("img",{src:z,style:{width:"16px",height:"16px",marginLeft:"4px",top:"2.5px",position:"relative"}})]})]})]})}function be(e){var t=e.user,i=(e.sber_bar,e.setIsToken,e.isToken),s=Object(n.useState)(0),o=Object(d.a)(s,2),c=o[0],a=o[1],r=Object(n.useState)([]),l=Object(d.a)(r,2),p=l[0],h=l[1],j=Object(n.useState)([]),b=Object(d.a)(j,2),u=b[0],g=b[1];console.log("toplist length",u.length);var O=function(e){var t=document.createElement("a");Object.assign(t,{href:"https://vk.com/id".concat(e),target:"_blank"}),t.click()},w=function(e){if(e)return""};return Object(n.useEffect)((function(){B.on("rating_data",(function(e){g(e),console.log(e)})),B.on("friends_rating_data",(function(e){h(e),console.log(e)}))}),[]),Object(m.jsxs)(n.Fragment,{children:[Object(m.jsx)(x.y,{separator:!1,children:"\u0420\u0435\u0439\u0442\u0438\u043d\u0433"}),Object(m.jsxs)(x.O,{style:{background:"var(--header_background)"},children:[Object(m.jsx)(x.P,{onClick:function(){return a(0)},selected:0===c,children:"\u041e\u0431\u0449\u0438\u0439"}),Object(m.jsx)(x.P,{onClick:function(){a(1),f.a.send("VKWebAppGetAuthToken",{app_id:7958418,scope:"friends"})},selected:1===c,children:"\u0414\u0440\u0443\u0437\u044c\u044f"})]}),Object(m.jsx)("div",{children:u[0]?Object(m.jsxs)(x.n,{slideIndex:c,onChange:a,isDraggable:!1,showArrows:!1,children:[Object(m.jsxs)("div",{style:{position:"relative",cursor:"default",overflowY:"scroll",height:"40vh"},children:[Object(m.jsx)(x.f,{style:{display:"none"},size:"m",mode:"image",header:"\u0421\u0442\u0438\u043a\u0435\u0440\u044b",imageTheme:"dark",subheader:"\u041a\u0430\u0436\u0434\u044b\u0439 \u0434\u0435\u043d\u044c \u0432 20:00 \u043e\u0431\u043d\u0443\u043b\u0435\u043d\u0438\u0435 \u0440\u0435\u0439\u0442\u0438\u043d\u0433\u0430 \u0438 \u0432\u044b\u0434\u0430\u0447\u0430 \u0441\u0442\u0438\u043a\u0435\u0440\u043f\u0430\u043a\u0430",background:Object(m.jsx)("div",{style:{backgroundColor:"#4287f5",backgroundImage:"url(https://i.ibb.co/6XphJ3p/Banner-14.png)",backgroundPosition:"right 100% top 25%",backgroundSize:"cover",backgroundRepeat:"no-repeat"}}),actions:Object(m.jsx)(x.g,{mode:"overlay_primary",onClick:function(){!function(e){var t=document.createElement("a");Object.assign(t,{href:"".concat(e),target:"_blank"}),t.click()}("https://vk.com/sheep_royale?w=wall-209019197_39")},children:"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435"})}),Object(m.jsx)(je,{users:u,open:O,href:w}),Object(m.jsx)(he,{users:u.slice(3),start:4,open:O,href:w}),Object(m.jsx)(x.H,{size:156})]}),Object(m.jsxs)("div",{style:{position:"relative",cursor:"default",overflowY:"auto",height:"100vh"},children:[1==p.length&&i&&Object(m.jsxs)(x.B,{icon:Object(m.jsx)(ae.a,{}),header:"\u0423\u043f\u0441 :(",action:Object(m.jsx)(pe,{user:t}),children:["\u0412\u0430\u0448\u0438\u0445 \u0434\u0440\u0443\u0437\u0435\u0439 \u043f\u043e\u043a\u0430 \u043d\u0435\u0442 \u0432 ",Object(m.jsx)("br",{}),"\u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0438, \u043d\u043e \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u0440\u0438\u0433\u043b\u0430\u0441\u0438\u0442\u044c \u0438\u0445!"]}),!p[0]&&i&&Object(m.jsx)(x.I,{size:"large",style:{marginTop:"48px"}}),!i&&Object(m.jsxs)(x.B,{icon:Object(m.jsx)(ce.a,{}),header:"\u041d\u0435\u0442 \u0434\u043e\u0441\u0442\u0443\u043f\u0430",action:Object(m.jsx)(x.g,{size:"s",onClick:function(){f.a.send("VKWebAppGetAuthToken",{app_id:7958418,scope:"friends"})},children:"\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c"}),children:["\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u0435 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044e \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c ",Object(m.jsx)("br",{})," \u0441\u043f\u0438\u0441\u043e\u043a \u0432\u0430\u0448\u0438\u0445 \u0434\u0440\u0443\u0437\u0435\u0439"]}),p.length>1&&i&&Object(m.jsx)(he,{users:p,start:1,open:O,href:w}),Object(m.jsx)(x.H,{size:156})]})]}):Object(m.jsx)(x.E,{})})]})}var ue,xe,ge,fe,me=i(25),Oe=i(654),we=i(636),ve=i(655),ye=i(656),_e=i.p+"static/media/sheep.6dd264bd.png",ke=[{name:"Pasha",raiting:500,description:"\u0423\u0447\u0430\u0441\u0442\u043d\u0438\u043a"},(ue={name:"Sasha",raiting:900,description:"\u0423\u0447\u0430\u0441\u0442\u043d\u0438\u043a"},Object(me.a)(ue,"name","Pasha"),Object(me.a)(ue,"raiting",500),Object(me.a)(ue,"description","\u0423\u0447\u0430\u0441\u0442\u043d\u0438\u043a"),ue),{name:"Sasha",raiting:500,description:"\u0423\u0447\u0430\u0441\u0442\u043d\u0438\u043a"},(xe={name:"Pasha",raiting:900,description:"\u0423\u0447\u0430\u0441\u0442\u043d\u0438\u043a"},Object(me.a)(xe,"name","Sasha"),Object(me.a)(xe,"raiting",500),Object(me.a)(xe,"description","\u0423\u0447\u0430\u0441\u0442\u043d\u0438\u043a"),xe),{name:"Pasha",raiting:500,description:"\u0423\u0447\u0430\u0441\u0442\u043d\u0438\u043a"},(ge={name:"Sasha",raiting:900,description:"\u0423\u0447\u0430\u0441\u0442\u043d\u0438\u043a"},Object(me.a)(ge,"name","Pasha"),Object(me.a)(ge,"raiting",500),Object(me.a)(ge,"description","\u0423\u0447\u0430\u0441\u0442\u043d\u0438\u043a"),ge),{name:"Sasha",raiting:500,description:"\u0423\u0447\u0430\u0441\u0442\u043d\u0438\u043a"},(fe={name:"Pasha",raiting:900,description:"\u0423\u0447\u0430\u0441\u0442\u043d\u0438\u043a"},Object(me.a)(fe,"name","Sasha"),Object(me.a)(fe,"raiting",500),Object(me.a)(fe,"description","\u0423\u0447\u0430\u0441\u0442\u043d\u0438\u043a"),fe)];function Ce(e){e.user;var t=e.setActiveModal,i=Object(n.useState)(!1),s=Object(d.a)(i,2),o=s[0],c=s[1],a=Object(n.useState)(0),r=Object(d.a)(a,2),l=r[0],p=r[1];return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(x.y,{children:"\u041a\u043b\u0430\u043d\u044b"}),o?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)(x.O,{style:{height:"24px"},children:[Object(m.jsx)(x.P,{onClick:function(){p(0)},selected:0===l,children:"\u041a\u043b\u0430\u043d"}),Object(m.jsx)(x.P,{onClick:function(){p(1)},selected:1===l,children:"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435"})]}),Object(m.jsxs)(x.n,{slideIndex:l,onChange:p,isDraggable:!0,showArrows:!1,style:{height:"100%",overflow:"hidden",marginTop:"28px"},children:[Object(m.jsxs)("div",{children:[Object(m.jsx)(x.p,{children:Object(m.jsxs)("div",{style:{display:"flex",flexDirection:"row",minHeight:"85px",maxHeight:"85px",marginLeft:"12px"},children:[Object(m.jsx)(x.e,{size:85,src:"https://i.pinimg.com/474x/fb/bf/5a/fbbf5a6d1fb6fceca9bc025e93adf386.jpg"}),Object(m.jsx)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",minHeight:"85px",maxHeight:"85px"},children:Object(m.jsxs)(x.l,{style:{display:"block"},children:[Object(m.jsx)("div",{style:{fontWeight:"600",fontSize:"30px"},children:"\u041d\u0430\u0433\u0438\u0431\u0430\u0442\u043e\u0440\u044b"}),Object(m.jsx)("span",{style:{color:"grey"},children:"\u0423\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u043e\u0432 39/50"})]})})]})}),Object(m.jsxs)(x.p,{children:[Object(m.jsxs)(x.o,{mode:"tint",style:{background:"linear-gradient(0, #70B2FF, #5C9CE6)",borderRadius:"12px",border:"5px solid white",position:"relative"},children:[Object(m.jsx)("img",{style:{width:"100px",position:"absolute",right:"10px",top:"20px"},src:_e}),Object(m.jsxs)(x.l,{style:{color:"white",fontWeight:"450",fontSize:"20px"},children:["\u041e\u0447\u043a\u0438 \u043a\u043b\u0430\u043d\u0430: 1000",Object(m.jsx)("img",{src:z,style:{position:"relative",height:"18px",top:"2px",left:"2px"}}),Object(m.jsx)("br",{})," \u0420\u0435\u0439\u0442\u0438\u043d\u0433 \u043a\u043b\u0430\u043d\u0430: #120"]}),Object(m.jsxs)(x.l,{style:{display:"flex",flexDirection:"row",justifyContent:"left"},children:[Object(m.jsx)(x.g,{size:"m",mode:"secondary",style:{marginRight:"8px",backgroundColor:"white"},before:Object(m.jsx)(C.a,{})}),Object(m.jsx)(x.g,{size:"m",style:{backgroundColor:"white"},mode:"secondary",before:Object(m.jsx)(k.a,{})})]})]}),Object(m.jsxs)(x.l,{style:{display:"flex",flexDirection:"row",justifyContent:"left"},children:[Object(m.jsx)(x.g,{stretched:!0,size:"m",before:Object(m.jsx)(Oe.a,{}),style:{marginRight:"8px"},children:"\u041f\u0440\u0438\u0433\u043b\u0430\u0441\u0438\u0442\u044c"}),Object(m.jsx)(x.g,{stretched:!0,size:"m",before:Object(m.jsx)(we.a,{}),mode:"secondary",children:"\u0412\u044b\u0439\u0442\u0438 \u0438\u0437 \u043a\u043b\u0430\u043d\u0430"})]})]}),Object(m.jsx)(x.p,{children:ke.map((function(e,t){return Object(m.jsx)(x.F,{before:Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(x.Q,{weight:"semibold",style:{marginRight:"16px",marginTop:"0px"},children:t+1}),Object(m.jsx)(x.e,{size:48})]}),description:"".concat(ke[t].description),after:Object(m.jsxs)("div",{style:{position:"relative",right:"8px",fontSize:"17px",color:"black",fontWeight:"500"},children:[Object(m.jsx)("span",{children:ke[t].raiting}),Object(m.jsx)("img",{src:z,style:{position:"relative",height:"16px",top:"2px",left:"2px"}})]}),children:ke[t].name})}))})]}),Object(m.jsx)("div",{children:Object(m.jsx)(x.B,{icon:Object(m.jsx)(ve.a,{}),header:"\u0423\u043f\u0441 :(",children:"\u041c\u044b \u0435\u0449\u0435 \u0441\u0442\u0443\u0447\u0438\u043c \u043b\u0430\u043f\u043a\u0430\u043c\u0438 \u043d\u0430\u0434 \u044d\u0442\u0438\u043c"})})]})]}):Object(m.jsx)(x.B,{icon:Object(m.jsx)(ye.a,{}),header:"\u0412\u044b \u043d\u0435 \u0441\u043e\u0441\u0442\u043e\u0438\u0442\u0435 \u0432 \u043a\u043b\u0430\u043d\u0435",style:{height:"100%",position:"absolute",left:"0",right:"0",margin:"auto"},action:Object(m.jsxs)("div",{children:[Object(m.jsx)(x.g,{onClick:function(){c(!0)},children:"\u0412\u0441\u0442\u0443\u043f\u0438\u0442\u044c \u0432 \u043a\u043b\u0430\u043d"}),Object(m.jsx)("br",{}),Object(m.jsx)(x.g,{mode:"secondary",style:{marginTop:"6px"},onClick:function(){t("create")},children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043a\u043b\u0430\u043d"})]}),children:"\u041a\u043b\u0430\u043d\u044b \u043f\u0440\u0438\u0432\u044f\u0437\u0430\u043d\u044b \u043a \u0441\u043e\u043e\u0431\u0449\u0435\u0441\u0442\u0432\u0430\u043c \u0412\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u0435"})]})}i.p;var Ae=i(657),Se=i(658),ze=(i.p,i.p+"static/media/line.4304bce5.svg"),Ne=i.p+"static/media/BlackSheep.4de06083.svg",Ee=i.p+"static/media/SmokeSheep.16669673.svg";function Te(e){var t,i,n,s=e.setActiveProfilePanel;e.user;return Object(m.jsxs)("body",{children:[Object(m.jsx)(x.y,{left:Object(m.jsx)(x.z,{onClick:function(){return s("home")},label:void 0}),children:"\u041c\u0430\u0433\u0430\u0437\u0438\u043d"}),Object(m.jsx)(x.p,{children:Object(m.jsx)(x.i,{size:"l",children:Object(m.jsx)(x.h,{mode:"outline",children:Object(m.jsxs)("div",{style:{width:"100%",display:"flex",flexDirection:"row",justifyContent:"space-between"},children:[Object(m.jsx)("div",{style:{height:"96px",display:"flex",flexDirection:"column",justifyContent:"center"},children:Object(m.jsxs)("div",{style:{position:"relative",left:"30px"},children:[Object(m.jsx)("span",{style:{position:"relative",fontSize:"25px",top:"-6px",fontWeight:"500"},children:"31123123"}),Object(m.jsx)("img",{src:N,style:{width:"30px",height:"30px",marginTop:"3px",marginLeft:"3px",justifyContent:"center"}})]})}),Object(m.jsx)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center"},children:Object(m.jsxs)("div",{style:{right:"20px",position:"relative",display:"flex",flexDirection:"row"},children:[Object(m.jsxs)("div",{style:{right:"3px",position:"relative"},children:[Object(m.jsx)(x.g,{size:"s",before:Object(m.jsx)(Ae.a,{fill:"#FFFFFF"})}),Object(m.jsxs)("div",{children:["+3",Object(m.jsx)("img",{style:{position:"relative",top:"4px",left:"3px"},src:N})]})]}),Object(m.jsxs)("div",{style:{left:"3px",position:"relative"},children:[Object(m.jsx)(x.g,{size:"s",before:Object(m.jsx)(Se.a,{fill:"#FFFFFF"})}),Object(m.jsxs)("div",{children:["+1",Object(m.jsx)("img",{style:{position:"relative",top:"4px",left:"3px"},src:N})]})]}),Object(m.jsx)("img",{src:ze,style:{height:"66px",widht:"0.3px",marginTop:"3px",marginLeft:"3px",color:"grey",position:"relative",right:"140px"}})]})})]})})})}),Object(m.jsx)(x.j,{size:"m",style:{marginTop:"1px",display:"flex",flexDirection:"column"},children:Object(m.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(m.jsx)("p",{}),Object(m.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[Object(m.jsxs)(x.h,{mode:"shadow",style:{width:"135px",height:"150px",paddingBottom:"80px"},children:[Object(m.jsx)("div",{style:{wight:"100%",color:"grey",fontSize:"14px",position:"relative",left:"8px",top:"5px"},children:"\u041e\u0432\u0446\u044b"}),Object(m.jsx)("div",{style:{wight:"100%",fontSize:"12px",fontWeight:"700",position:"relative",left:"8px",top:"5px"},children:"\u0427\u0435\u0440\u043d\u0430\u044f \u043e\u0432\u0435\u0447\u043a\u0430"}),Object(m.jsx)("div",{style:{wight:"100%",display:"flex",justifyContent:"center",paddingTop:"40px"},children:Object(m.jsx)("img",{src:Ne,style:{width:"60px"}})}),Object(m.jsxs)("div",{style:{width:"100%"},children:[Object(m.jsxs)("div",{style:(t={height:"96px",display:"flex",flexDirection:"row",justifyContent:"center"},Object(me.a)(t,"height","30px"),Object(me.a)(t,"position","relative"),Object(me.a)(t,"top","30px"),t),children:[Object(m.jsx)("span",{style:Object(me.a)({fontSize:"20px",position:"relative",fontWeight:"500"},"position","relative"),children:"123"}),Object(m.jsx)("img",{src:N,style:{width:"22px",height:"22px",marginTop:"3px",marginLeft:"3px",justifyContent:"center"}})]}),Object(m.jsx)("div",{style:{justifyContent:"center",display:"flex",flexDirection:"row",paddingTop:"30px"},children:Object(m.jsx)(x.g,{children:"\u041a\u0443\u043f\u0438\u0442\u044c"})}),Object(m.jsx)("div",{style:{height:"10px"}})]})]}),Object(m.jsxs)(x.h,{mode:"shadow",style:{width:"135px",height:"150px",paddingBottom:"80px"},children:[Object(m.jsx)("div",{style:{wight:"100%",color:"grey",fontSize:"14px",position:"relative",left:"8px",top:"5px"},children:"\u041e\u0432\u0446\u044b"}),Object(m.jsx)("div",{style:{wight:"100%",fontSize:"12px",fontWeight:"700",position:"relative",left:"8px",top:"5px"},children:"\u041e\u0432\u0435\u0447\u043a\u0430 \u041a\u0443\u0440\u0438\u043b\u044c\u0449\u0438\u043a\u0430"}),Object(m.jsx)("div",{style:{wight:"100%",display:"flex",justifyContent:"center",paddingTop:"40px"},children:Object(m.jsx)("img",{src:Ee,style:{width:"60px"}})}),Object(m.jsxs)("div",{style:{width:"100%"},children:[Object(m.jsx)("div",{style:(i={height:"96px",display:"flex",flexDirection:"row",justifyContent:"center"},Object(me.a)(i,"height","30px"),Object(me.a)(i,"position","relative"),Object(me.a)(i,"top","30px"),i),children:Object(m.jsx)("span",{style:Object(me.a)({fontSize:"13px",position:"relative",fontWeight:"500"},"position","relative"),children:"\u041a\u0443\u043f\u043b\u0435\u043d\u043e"})}),Object(m.jsx)("div",{style:{justifyContent:"center",display:"flex",flexDirection:"row",paddingTop:"30px"},children:Object(m.jsx)(x.g,{mode:"secondary",children:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c"})}),Object(m.jsx)("div",{style:{height:"10px"}})]})]}),Object(m.jsxs)(x.h,{mode:"shadow",style:{width:"135px",height:"150px",paddingBottom:"80px"},children:[Object(m.jsx)("div",{style:{wight:"100%",color:"grey",fontSize:"14px",position:"relative",left:"8px",top:"5px"},children:"\u041e\u0432\u0446\u044b"}),Object(m.jsx)("div",{style:{wight:"100%",fontSize:"12px",fontWeight:"700",position:"relative",left:"8px",top:"5px"},children:"\u041e\u0432\u0435\u0447\u043a\u0430 \u041a\u0443\u0440\u0438\u043b\u044c\u0449\u0438\u043a\u0430"}),Object(m.jsx)("div",{style:{wight:"100%",display:"flex",justifyContent:"center",paddingTop:"40px"},children:Object(m.jsx)("img",{src:Ee,style:{width:"60px"}})}),Object(m.jsxs)("div",{style:{width:"100%"},children:[Object(m.jsxs)("div",{style:(n={height:"96px",display:"flex",flexDirection:"row",justifyContent:"center"},Object(me.a)(n,"height","30px"),Object(me.a)(n,"position","relative"),Object(me.a)(n,"top","30px"),n),children:[Object(m.jsx)("span",{style:Object(me.a)({fontSize:"20px",position:"relative",fontWeight:"500"},"position","relative"),children:"123"}),Object(m.jsx)("img",{src:N,style:{width:"22px",height:"22px",marginTop:"3px",marginLeft:"3px",justifyContent:"center"}})]}),Object(m.jsx)("div",{style:{justifyContent:"center",display:"flex",flexDirection:"row",paddingTop:"30px"},children:Object(m.jsx)(x.g,{children:"\u041a\u0443\u043f\u0438\u0442\u044c"})}),Object(m.jsx)("div",{style:{height:"10px"}})]})]}),Object(m.jsx)("div",{style:{wight:"100%",height:"180px",paddingBottom:"80px"}})]})]})})]})}var Fe,Be,De,Pe,He,Ie=i(10),Re=i(83),Le=i(30),We=i(37),Me=i(36),Ke=function(e){Object(We.a)(i,e);var t=Object(Me.a)(i);function i(e){e.elementId;var n,s=e.opts;Object(Le.a)(this,i);var o=window.innerWidth,c=window.innerHeight;return(n=t.call(this,Object(Re.a)(Object(Re.a)({width:o,height:c},s),{},{resolution:window.devicePixelRatio||1}))).stage.sortableChildren=!0,n.width=o,n.height=c,n.backgroundColor=0,n.resolution=window.devicePixelRatio||1,n.transparent=!0,n.stage.sortableChildren=!0,document.body.appendChild(n.view),document.getElementsByTagName("canvas")[0].style.position="fixed",document.getElementsByTagName("canvas")[0].style.display="block",document.getElementsByTagName("canvas")[0].style.left="0px",document.getElementsByTagName("canvas")[0].style.top="0px",document.getElementsByTagName("canvas")[0].style.height="100%",document.getElementsByTagName("canvas")[0].style.width="100%",document.getElementsByTagName("canvas")[0].style.border="0px",document.getElementsByTagName("canvas")[0].style.zIndex="-1",n}return i}(w.a),Ve=i(69),Ue=function e(t){var i=t.x,n=void 0===i?0:i,s=t.y,o=void 0===s?0:s,c=t.size,a=void 0===c?2:c,r=t.pixi,l=t.width,d=t.height,p=t.type,h=t.anchor,j=t.interactive,b=t.buttonMode;return Object(Le.a)(this,e),this.obj=r,h&&(this.obj.anchor.x=h,this.obj.anchor.y=h),this.obj.x=n,this.obj.y=o,this.obj.width/=a,this.obj.height/=a,l&&(this.obj.width=l),d&&(this.obj.height=d),p&&(this.obj.type=p),j&&(this.obj.interactive=j),b&&(this.obj.buttonMode=b),this.obj},Ge=function(){function e(t){var i=t.sprites,n=t.setScene,s=t.app;Object(Le.a)(this,e),this.app=s,this.sprites=i,this.container=new w.b,this.container=new w.b,this.scaleble_s=window.innerHeight/550,this.setScene=n,this.setUpScene(),document.getElementsByTagName("canvas")[0].style.zIndex="0"}return Object(Ve.a)(e,[{key:"setUpScene",value:function(){var e;if(console.log("IS WEB GL test"),console.log(Object(Ie.q)()),null===(e=this.container.children)||void 0===e?void 0:e.length)this.app.stage.addChild(this.container);else{var t=new w.h(this.sprites.main_bg,window.innerWidth+10,window.innerHeight);t.scale.set(window.innerHeight/548),t.tileScale.x=.5/this.scaleble_s,t.tileScale.y=.5/this.scaleble_s,this.container.addChild(t),this.container.scale.x=this.scaleble_s,this.container.scale.y=this.scaleble_s,this.container.x=0,function e(){t.tilePosition.x-=2,t.tilePosition.x<=-2428*t.tileScale.x&&(t.tilePosition.x=0),requestAnimationFrame(e)}()}}}]),e}(),Ye=i(221),Je=i(45),qe=i(44),Qe=function(e){Object(We.a)(i,e);var t=Object(Me.a)(i);function i(e){var n,s=e.x,o=void 0===s?0:s,c=e.y,a=void 0===c?0:c,r=e.size,l=void 0===r?2:r,d=e.width,p=e.height,h=e.anchor,j=void 0===h?.5:h,b=e.command,u=e.sprites,x=e.type,g=void 0===x?"sheep":x;return Object(Le.a)(this,i),(n=t.call(this,{pixi:new w.e(u.sheep),x:o,y:a,anchor:j,size:l})).start_y=a,n.spawn_time=Date.now(),n.type=g,n.command=b,n.zIndex=10,2==b&&(n.rotation=3.1415926535),d&&(n.width=d),p&&(n.height=p),n.update=function(e){var t=e.line;1==n.command?(n.y=n.start_y-(Date.now()-n.spawn_time)/100*10,n.y<t.y+13&&(t.y-=5,n.delete=!0)):(n.y=n.start_y+(Date.now()-n.spawn_time)/100*10,n.y>t.y-13&&(t.y+=5,n.delete=!0))},Object(Je.a)(n,Object(qe.a)(n))}return i}(Ue),Xe=5e3,Ze=function(e){Object(We.a)(i,e);var t=Object(Me.a)(i);function i(e){var n,s=e.x,o=void 0===s?0:s,c=e.y,a=void 0===c?0:c,r=e.size,l=void 0===r?2:r,d=e.width,p=e.height,h=e.anchor,j=void 0===h?0:h,b=e.command,u=e.my_command,x=e.building,g=void 0===x||x,f=e.last_earn,m=void 0===f?Date.now():f,O=e.sprites,v=e.time_difference;return Object(Le.a)(this,i),(n=t.call(this,{pixi:new w.e(O.farm),x:o,y:a,size:l,anchor:j,zIndex:1,width:d,height:p})).last_earn=m,v&&(n.last_earn+=v),n.command=b,n.building=g,n.update=function(e){var t=e.users;return u==n.command&&Date.now()-n.last_earn>Xe&&(console.log(Date.now()-n.last_earn-Xe),n.last_earn=Date.now()-(Date.now()-n.last_earn-Xe),t.find((function(e){return e.command==n.command})).balance+=4),0},2==u&&(n.rotation=3.1415926535,n.x+=50,n.y+=50),Object(Je.a)(n,Object(qe.a)(n))}return i}(Ue),$e=function(e){Object(We.a)(i,e);var t=Object(Me.a)(i);function i(e){var n,s=e.x,o=void 0===s?0:s,c=e.y,a=void 0===c?0:c,r=e.size,l=void 0===r?2:r,d=e.width,p=e.height,h=e.anchor,j=void 0===h?0:h,b=e.command,u=e.my_command,x=e.building,g=void 0===x||x,f=e.last_spawn,m=e.sprites;return Object(Le.a)(this,i),(n=t.call(this,{pixi:new w.e(m.corral),x:o,y:a,size:l,anchor:j,zIndex:1,width:d,height:p})).last_spawn=f,n.command=b,n.building=g,2==u&&(n.rotation=3.1415926535,n.x+=50,n.y+=50),Object(Je.a)(n,Object(qe.a)(n))}return i}(Ue),et=function(e){Object(We.a)(i,e);var t=Object(Me.a)(i);function i(e){var n,s=e.x,o=void 0===s?0:s,c=e.y,a=void 0===c?0:c,r=e.size,l=void 0===r?2:r,d=e.width,p=e.height,h=e.anchor,j=void 0===h?.5:h,b=e.command,u=e.sprites;return Object(Le.a)(this,i),(n=t.call(this,{pixi:new w.e(u.balloon),x:o,y:a,anchor:j,size:l})).start_y=a,n.spawn_time=Date.now(),n.command=b,n.zIndex=10,2==b&&(n.rotation=3.1415926535),d&&(n.width=d),p&&(n.height=p),n.update=function(e){var t=e.line;1==n.command?(n.y=n.start_y-(Date.now()-n.spawn_time)/100*5,n.y-13<t.y+13&&(t.y-=2.5,n.delete=!0)):(n.y=n.start_y+(Date.now()-n.spawn_time)/100*5,n.y+13>t.y-13&&(t.y+=2.5,n.delete=!0))},Object(Je.a)(n,Object(qe.a)(n))}return i}(Ue),tt=function(e){Object(We.a)(i,e);var t=Object(Me.a)(i);function i(e){var n,s=e.x,o=void 0===s?0:s,c=e.y,a=void 0===c?0:c,r=e.size,l=void 0===r?2:r,d=e.width,p=e.height,h=e.anchor,j=void 0===h?0:h,b=e.command,u=e.my_command,x=e.building,g=void 0===x||x,f=e.last_earn,m=e.sprites;return Object(Le.a)(this,i),(n=t.call(this,{pixi:new w.e(m.balloon_farm),x:o,y:a,size:l,anchor:j,zIndex:1,width:d,height:p})).last_earn=f,n.command=b,n.building=g,n.update=function(e){var t=e.users;return u==n.command&&Date.now()-n.last_earn>3e3&&(n.last_earn=Date.now(),t.find((function(e){return e.command==n.command})).balance+=2),0},2==u&&(n.rotation=3.1415926535,n.x+=50,n.y+=50),Object(Je.a)(n,Object(qe.a)(n))}return i}(Ue),it=(i(630),(null===(Fe=window.location)||void 0===Fe||null===(Be=Fe.search)||void 0===Be||null===(De=Be.slice(1))||void 0===De||null===(Pe=De.split("user_id=")[1])||void 0===Pe?void 0:Pe.split("&")[0])||window.sber_id),nt={sheep:Qe,farm:Ze,corral:$e,balloon:et,balloon_farm:tt},st=new Ye.a;st.color=32,st.alpha=.4,st.blur=0,st.distance=25,st.rotation=-45,st.resolution=window.devicePixelRatio,st.blur=1;var ot=!0;var ct=new w.i.ColorMatrixFilter;function at(e){var t=e.app,i=(e.game_containter,e.balance),n=e.sprites,s=e.units,o=(e.card_1,e.card_2),c=e.card_3,a=e.card_4,r=e.timer,l=e.line,d=e.users,p=e.mobs;ot=!0,p.filters=[st];var h,j=100,b=Date.now(),u=100,x=Date.now();function g(e,t){var i=!1;e.on("pointerdown",(function(){j>=t&&(e.y+=5,i=!0)})),e.on("pointerup",(function(){i&&(e.y-=5,i=!1)})),e.on("pointerout",(function(){i&&(e.y-=5,i=!1)}))}a.on("pointertap",(function(){j>=5&&(B.emit("spawn_unit","sheep"),T())})),o.on("pointertap",(function(){j>=20&&(B.emit("spawn_building","farm"),T())})),c.on("pointertap",(function(){j>=20&&(B.emit("spawn_building","corral"),T())})),g(o,20),g(c,20),g(a,5);Date.now();t.ticker.add((function(){var e=function(e,t,i){var o=t[e];o.update&&(o.update({line:l,users:d,units:s,sprites:n,mobs:p}),o.delete&&("mobs"==i?w.push(o):O.push(o)))};Date.now(),u=Number(String(d.find((function(e){return e._id==it})).balance).split(".")[0]),j=Number(String(u+(Date.now()-b)/1e3).split(".")[0]),a.filters=j<5?[ct]:[],j<20?(c.filters=[ct],o.filters=[ct]):(c.filters=[],o.filters=[]),i.text=Number(j);var g=Math.floor(180-(Date.now()-x)/1e3);g<0&&(g=0),ot&&(g<=60?He?60==g&&He.fade(.2,.4,5e3):((He=new v.Howl({src:["https://mitursky.github.io/SHEEP-ROYALE-BUILD/sounds/drums.mp3"],autoplay:!0,volume:.4})).seek(178-g),He.fade(0,.4,3e3)):He||((He=new v.Howl({src:["https://mitursky.github.io/SHEEP-ROYALE-BUILD/sounds/drums.mp3"],autoplay:!0,volume:.2})).seek(178-g),He.fade(0,.2,3e3)));var f=Math.floor(g/60),m=g-60*f;m<10&&(m="0"+m),r.text=f+":"+m;var O=[],w=[];for(var y in s.children)e(y,s.children);for(var _ in p.children)e(_,p.children,"mobs");for(var k in s.children){var C=s.children[k];if(C.building)if(2===C.command){var A=0;2!=h&&(A=50),C.y+A>l.y-13&&O.push(C)}else{var S=0;1!=h&&(S=50),C.y-S<l.y+13&&O.push(C)}}for(var z in O)s.removeChild(O[z]);for(var N in w)p.removeChild(w[N]);window.isBattle||t.ticker.remove()}));B.on("lobby_finish",(function(){console.log("ticker stopped")})),B.on("update_scene",(function(e,t){var i=e.new_units,o=e.new_users,c=e.time,a=e.req_time,r=e.new_obj,g=e.time_start,f=Date.now()-a;b=Date.now();var m=g+(Date.now()-a);x=m,t=!!t,a,o&&(h=o.find((function(e){return e._id==(it||window.sber_id)})).command),c,function(e,t){var i=e.lobby;j=Number(String(i.users.find((function(e){return e._id==it})).balance).split(".")[0]),d=i.users;var o=[];u=j,t?(o=i.units,s.removeChildren(0,s.children.length),s.addChild(p),p.removeChildren(0,p.children.length)):o=i.new_obj;for(var c=0;c<o.length;c++){var a=o[c];if(a&&a.type&&nt[a.type]){console.log(a,Date.now());var r=new nt[a.type](Object(Re.a)(Object(Re.a)({},a),{},{sprites:n,my_command:h,time_difference:i.time_difference}));"sheep"==a.type||"balloon"==a.type?p.addChild(r):s.addChild(r)}}l.y=i.units.find((function(e){return"line"==e.type})).y}({lobby:{units:i,users:o,refresh:c,new_obj:r,time_difference:f}},t)}))}ct.blackAndWhite(),ct.resolution=window.devicePixelRatio;var rt,lt,dt,pt,ht,jt,bt,ut=function(e){Object(We.a)(i,e);var t=Object(Me.a)(i);function i(){var e;return Object(Le.a)(this,i),(e=t.call(this)).sprites={},e}return Object(Ve.a)(i,[{key:"loadJson",value:function(){var e=Object(l.a)(a.a.mark((function e(t,i,n){var s,o=this;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=JSON.stringify(t),JSON.parse(s).files.forEach((function(e){i?o.add(e.name,"."+i+e.file):o.add(e.name,"."+e.file)})),this.load((function(e,t){for(var i in t)o.sprites[i]=t[i].texture;console.log("LOADED"),n()}));case 4:case"end":return e.stop()}}),e,this)})));return function(t,i,n){return e.apply(this,arguments)}}()}]),i}(w.d),xt={menu:Ge,game:function(){function e(t){var i=t.sprites,n=t.users,s=t.setScene,o=t.app;Object(Le.a)(this,e),this.app=o,this.sprites=i,this.users=n,this.container=new w.b,this.play_container=new w.b,this.interface_container=new w.b,this.setScene=s,this.setUpScene(),document.getElementsByTagName("canvas")[0].style.zIndex="10"}return Object(Ve.a)(e,[{key:"setUpScene",value:function(){var e,t,i,n,s=this,o=window.isIos?-80:-25,c=(window.innerHeight+o)/700,a=(window.innerHeight,(null===(e=window.location)||void 0===e||null===(t=e.search)||void 0===t||null===(i=t.slice(1))||void 0===i||null===(n=i.split("user_id=")[1])||void 0===n?void 0:n.split("&")[0])||window.sber_id);console.log(a);var r=this.users.find((function(e){return e._id==(a||window.sber_id)})).command,l=new w.g({fill:"white",fontFamily:"Arial",fontSize:32,fontWeight:"550"}),d=new w.g({fill:"white",fontFamily:"Arial",fontSize:16});this.app.stage.addChild(this.container);var p=new w.e(this.sprites.bg_forest),h=new w.e(this.sprites.bg_forest),j=new w.e(this.sprites.line),b=new w.e(this.sprites.map_bg),u=new w.e(this.sprites.over_bg),x=new w.e(this.sprites.under_bg),g=new w.e(this.sprites.time_left),f=new w.f("x100",l),m=new w.f("3:00",d),O=new w.b,v=new w.b;O.width=300,O.height=550,O.sortableChildren=!0,v.sortableChildren=!0,v.zIndex=100,O.addChild(v);var y=new w.b;2==r&&(console.log("flip"),O.rotation=3.1415926535,j.rotation=3.1415926535,O.y=550,O.x=300,y.rotation=3.1415926535,y.y=550,y.x=300),f.resolution=window.devicePixelRatio,f.scale.set(.5,.5),f.anchor.x=.5,m.anchor.x=.5;var _=new w.e(this.sprites.card_balance),k=new w.e(this.sprites.card_farm),C=new w.e(this.sprites.card_corral),A=new w.e(this.sprites.card_sheep),S=new ut;S.add("user1",this.users.find((function(e){return e._id!=(a||window.sber_id)})).photo_200).add("user2",this.users.find((function(e){return e._id==(a||window.sber_id)})).photo_200),S.load((function(e,t){for(var i in t){var n=new w.b,o=new w.b,c=new w.e(t[i].texture);c=new Ue({pixi:c,width:50,height:50});var a=new w.c;a.beginFill(16777215),a.drawCircle(25,25,25),a.endFill(),o.addChild(c),o.addChild(a),o.mask=a,n.x=125,n.y="user2"==i?492:8;var r=new w.c;r.beginFill("user1"==i?"0xF28F8F":"0x8FABF2"),r.drawCircle(25,25,28),r.endFill(),n.addChild(r),n.addChild(o),s.container.addChild(n)}e.destroy()})),b.zIndex=0,this.play_container.addChild(b),f.x=37.5,f.y=647.5,this.interface_container.addChild(f),this.container.addChild(this.play_container,u,x,g,_,k,C,A,m,p,h,this.interface_container,O,y),y.addChild(j),p=new Ue({pixi:p,x:300}),h=new Ue({pixi:h,x:-300}),b=new Ue({pixi:b}),j=new Ue({pixi:j,y:275,x:150,type:"line",anchor:.5}),u=new Ue({pixi:u,y:-150,x:-450}),g=new Ue({pixi:g,y:550,x:112.5}),x=new Ue({pixi:x,y:700,x:-300}),_=new Ue({pixi:_,y:575,size:2}),k=new Ue({pixi:k,y:575,x:75,size:2,interactive:!0,buttonMode:!0}),C=new Ue({pixi:C,y:575,x:150,size:2,interactive:!0,buttonMode:!0}),A=new Ue({pixi:A,y:575,x:225,size:2,interactive:!0,buttonMode:!0}),m=new Ue({pixi:m,y:555,x:150,size:1}),this.container.scale.x=c,this.container.scale.y=c,this.container.x=(window.innerWidth-300*c)/2,this.container.y=window.isIos?50:0,at({app:this.app,container:this.container,balance:f,timer:m,sprites:this.sprites,units:O,card_1:_,mobs:v,card_2:k,card_3:C,card_4:A,line:j,static_units:y,users:this.users})}}]),e}()},gt=function(){function e(t,i){Object(Le.a)(this,e),this.active_scene=void 0,this.app=t,this.sprites=i,this.users=NaN,this.scenes_container=new w.b,this.app.stage.addChild(this.scenes_container)}return Object(Ve.a)(e,[{key:"setScene",value:function(e){var t;(null===(t=this.active_scene)||void 0===t?void 0:t.container)&&this.scenes_container.removeChild(this.active_scene.container);var i=this.sprites,n=this.users,s=this.setScene,o=this.app;this.active_scene=new xt[e]({sprites:i,users:n,func:s,app:o}),this.scenes_container.addChild(this.active_scene.container)}},{key:"setUsers",value:function(e){this.users=e}}]),e}(),ft=i(220),mt={},Ot=!1;window.isLoad=Ot;var wt=new ut,vt=new Ke({transparent:!0}),yt=(null===(rt=window.location)||void 0===rt||null===(lt=rt.search)||void 0===lt||null===(dt=lt.slice(1))||void 0===dt||null===(pt=dt.split("user_id=")[1])||void 0===pt?void 0:pt.split("&")[0])||window.sber_id;console.log(yt);null===(ht=window.location)||void 0===ht||null===(jt=ht.search)||void 0===jt||null===(bt=jt.split("platform=")[1])||void 0===bt||bt.split("&")[0];var _t=new w.i.BlurFilter;function kt(){return(kt=Object(l.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.isLoad){e.next=2;break}return e.abrupt("return");case 2:wt.loadJson(ft,!1,Ct),wt.onProgress.add((function(e){console.log(e.progress)}));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ct(){Ot=!0,mt=wt.sprites,window.scene=new gt(vt,mt),window.scene.setScene("menu"),R({})}function At(e){return!!Ot&&(window.scene&&(window.scene.setUsers(e),window.scene.setScene("game")),!1)}_t.blur=1,_t.resolution=window.devicePixelRatio,function(){kt.apply(this,arguments)}();var St=new w.b;St.zIndex=1001,vt.stage.addChild(St);window.innerHeight,window.innerHeight;var zt=i(659),Nt=x.a,Et=window.innerWidth>=800;function Tt(e){e.setActiveProfilePanel;var t=e.user,i=e.setActiveModal,s=e.sber_bar;return Object(m.jsxs)(x.u,{style:{overflow:"scroll"},id:"statistic",onClose:function(){i(null)},children:[Object(m.jsx)(x.v,{right:Object(m.jsx)(n.Fragment,{children:Nt===x.a&&!Et&&Object(m.jsx)(x.A,{onClick:function(){i(null),F()},children:Object(m.jsx)(we.a,{})})}),children:Object(m.jsx)("div",{style:{fontSize:"21px",fontWeight:"500",width:"100%",textAlign:"center"},children:"\u0418\u0441\u0442\u043e\u0440\u0438\u044f"})}),Object(m.jsxs)(x.p,{children:[t.history.length>=1?t.history.map((function(e){var t="victory"==e.type?"green":"defeat"==e.type?"red":"grey";return Object(m.jsx)(x.D,{onClick:function(){e._id&&function(e){if(e.includes("-"))s();else{var t=document.createElement("a");Object.assign(t,{href:"https://vk.com/id".concat(e),target:"_blank"}),t.click()}}(e._id)},before:Object(m.jsx)(x.e,{src:e.photo_200,style:{size:"48px",border:"0px solid #7C9371"}}),caption:Object(m.jsx)("div",{style:{color:t,fontSize:"13px"},children:"victory"==e.type?"\u041f\u043e\u0431\u0435\u0434\u0430":"defeat"==e.type?"\u041f\u043e\u0440\u0430\u0436\u0435\u043d\u0438\u0435":"\u041d\u0438\u0447\u044c\u044f"}),after:Object(m.jsxs)("div",{children:[Object(m.jsxs)("div",{style:{position:"absolute",right:"20px",color:t,fontSize:"17"},children:["victory"==e.type?"+":"defeat"==e.type?"-":"+",e.rating]}),Object(m.jsx)("img",{src:z,style:{width:"16px",height:"16px"}}),Object(m.jsx)("div",{style:{position:"absolute",right:"0px",color:"grey",fontSize:"13px",fontWeight:"400"},children:new Date(e.date).toLocaleString("default",{month:"long",day:"2-digit",hour:"2-digit",minute:"2-digit"})})]}),children:Object(m.jsx)("div",{style:{fontSize:"15px"},children:e.name})})})):Object(m.jsx)(x.B,{icon:Object(m.jsx)(zt.a,{}),children:"\u0417\u0434\u0435\u0441\u044c \u0431\u0443\u0434\u0435\u0442 \u0438\u0441\u0442\u043e\u0440\u0438\u044f \u0432\u0430\u0448\u0438\u0445 \u043c\u0430\u0442\u0447\u0435\u0439"}),window.sber_id?Object(m.jsx)("div",{style:{height:"92px"}}):""]})]})}var Ft=i(660),Bt=i(661),Dt=i(662),Pt=i(663),Ht=i(664),It=i(665),Rt=i(666),Lt=i(667);i.p;function Wt(e){var t=e.setActiveModal,i=e.user,s=Object(x.V)().viewWidth;return Object(m.jsx)(x.u,{id:"bonuses",onClose:function(){t(null),F()},header:Object(m.jsx)(x.v,{right:Object(m.jsx)(n.Fragment,{children:s<=x.U.MOBILE&&Object(m.jsx)(x.A,{onClick:function(){t(null),console.log(s,x.U.DESKTOP),F()},children:Object(m.jsx)(we.a,{})})}),children:"\u0411\u043e\u043d\u0443\u0441\u044b"}),children:Object(m.jsxs)(x.p,{children:[Object(m.jsx)(x.F,{description:Object(m.jsxs)("div",{children:["\u0412\u0430\u0448 \u0440\u0435\u0439\u0442\u0438\u043d\u0433: ",i.rating," ",Object(m.jsx)("img",{src:z,width:13,height:13,style:{marginBottom:"-1px"}})]}),before:Object(m.jsx)(x.e,{size:40,src:i.photo_200}),children:i.name}),Object(m.jsx)(x.f,{before:Object(m.jsx)(Ft.a,{}),mode:"image",header:"\u0412\u0441\u0442\u0443\u043f\u0438\u0442\u044c \u0432 \u0441\u043e\u043e\u0431\u0449\u0435\u0441\u0442\u0432\u043e",imageTheme:"dark",subheader:"+50 \u0440\u0435\u0439\u0442\u0438\u043d\u0433\u0430",background:Object(m.jsx)("div",{style:{backgroundColor:"#3dba56",backgroundPosition:"right bottom 25%",backgroundSize:57,backgroundImage:"url(https://i.ibb.co/h19H6jL/2.png)",backgroundRepeat:"no-repeat"}}),actions:Object(m.jsx)(x.g,{mode:"overlay_primary",disabled:i.sub_bonus,onClick:function(){f.a.send("VKWebAppJoinGroup",{group_id:209019197})},after:i.sub_bonus?Object(m.jsx)(Bt.a,{width:20,height:20}):Object(m.jsx)(Dt.a,{width:20,height:20}),children:i.sub_bonus?"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043e":"\u0412\u0441\u0442\u0443\u043f\u0438\u0442\u044c"})}),Object(m.jsx)(x.f,{before:Object(m.jsx)(Pt.a,{}),mode:"image",header:"\u0412\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f \u043e\u0442 \u0447\u0430\u0442-\u0431\u043e\u0442\u0430",imageTheme:"dark",subheader:"+50 \u0440\u0435\u0439\u0442\u0438\u043d\u0433\u0430",background:Object(m.jsx)("div",{style:{backgroundColor:"#3dba56",backgroundPosition:"right bottom 5%",backgroundSize:77,backgroundImage:"url(https://i.ibb.co/10kK6fm/Group-107-1.png)",backgroundRepeat:"no-repeat"}}),actions:Object(m.jsx)(x.g,{mode:"overlay_primary",disabled:i.notify_msg,onClick:function(){f.a.send("VKWebAppAllowMessagesFromGroup",{group_id:209019197})},after:i.notify_msg?Object(m.jsx)(Bt.a,{width:20,height:20}):Object(m.jsx)(Ht.a,{width:18,height:18}),children:i.notify_msg?"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043e":"\u0412\u043a\u043b\u044e\u0447\u0438\u0442\u044c"})}),Object(m.jsx)(x.f,{before:Object(m.jsx)(It.a,{}),mode:"image",header:"\u0412\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f \u043e\u0442 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f",imageTheme:"dark",subheader:"+50 \u0440\u0435\u0439\u0442\u0438\u043d\u0433\u0430",background:Object(m.jsx)("div",{style:{backgroundColor:"#3dba56",backgroundPosition:"right 3% bottom 15%",backgroundSize:66,backgroundImage:"url(https://i.ibb.co/HhXD18K/Group-105.png)",backgroundRepeat:"no-repeat"}}),actions:Object(m.jsx)(x.g,{mode:"overlay_primary",disabled:i.notify_default,after:i.notify_default?Object(m.jsx)(Bt.a,{width:20,height:20}):Object(m.jsx)(Rt.a,{width:20,height:20}),onClick:function(){f.a.send("VKWebAppAllowNotifications")},children:i.notify_default?"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043e":"\u0412\u043a\u043b\u044e\u0447\u0438\u0442\u044c"})}),Object(m.jsx)(x.f,{before:Object(m.jsx)(Lt.a,{}),mode:"image",header:"\u041f\u0440\u0438\u0433\u043b\u0430\u0441\u0438\u0442\u044c \u0434\u0440\u0443\u0437\u0435\u0439 ".concat(i.refs_data.referals_count,"/5"),imageTheme:"dark",subheader:"20 \u0440\u0435\u0439\u0442\u0438\u043d\u0433\u0430 \u0437\u0430 \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u0434\u0440\u0443\u0433\u0430, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0441\u044b\u0433\u0440\u0430\u0435\u0442 \u0445\u043e\u0442\u044f \u0431\u044b \u043e\u0434\u043d\u0443 \u0438\u0433\u0440\u0443.",background:Object(m.jsx)("div",{style:{backgroundColor:"#3dba56",backgroundPosition:"right bottom",backgroundSize:54,backgroundImage:"url(https://i.ibb.co/BNHK0Ww/Group-131.png)",backgroundRepeat:"no-repeat"}}),actions:Object(m.jsx)("div",{style:{marginTop:"14px",marginBottom:"6px"},children:Object(m.jsx)(pe,{user:i,mode:"overlay_primary"})})})]})})}var Mt=i(668),Kt=[],Vt=[],Ut=[],Gt=[];function Yt(e){var t=e.users,i=e.user,n=(e.sber_bar,e.href),s=(e.open,e.start),o=e.opacity,c=e.disabled;return Object(m.jsx)(x.s,{children:t.map((function(e,t){var a=e._id,r=e.name,l=e.rating,d=e.photo_200,p=e.first_name,h=e.last_name,j=e.online_status;return Object(m.jsxs)(x.F,{disabled:c,onClick:function(){void 0==j&&f.a.send("VKWebAppShare",{link:"https://vk.com/app7958418#r=".concat(i._id)})},href:n(a),before:Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(x.Q,{weight:"semibold",style:{marginRight:"16px",opacity:o},children:t+s}),Object(m.jsx)(x.e,{src:d,style:{opacity:o},badge:"pc"==j?"online":"mobile"==j?"online-mobile":""})]}),after:Object(m.jsx)(x.g,{mode:void 0==j?"secondary":"primary",style:{right:-10},onClick:function(){if(j&&("mobile"==i.online_status&&f.a.send("VKWebAppShare",{link:"https://vk.com/app7958418#r=".concat(i._id)}),"pc"==i.online_status)){var e=document.createElement("a");Object.assign(e,{href:"https://vk.com/im?sel=".concat(a),target:"_blank"}),e.click()}},children:void 0==j?Object(m.jsx)(Mt.a,{}):"offline"==j?"\u041f\u043e\u0437\u0432\u0430\u0442\u044c":"\u0412 \u0431\u043e\u0439!"}),description:Object(m.jsxs)("div",{style:{display:"flex",opacity:o},children:[l,void 0==j?"":Object(m.jsx)("img",{src:z,style:{width:"16px",height:"16px",marginLeft:"4px",opacity:o}})]}),style:{borderRadius:"12px"},children:[Object(m.jsx)("span",{style:{opacity:o},children:r}),h?Object(m.jsx)("span",{style:{opacity:o},children:p+" "+h}):Object(m.jsx)(m.Fragment,{})]},t)}))})}function Jt(e){var t=e.setActiveModal,i=e.user,s=e.isToken,o=e.friends;Vt=o;var c=Object(x.V)().viewWidth,a=function(e){var t=document.createElement("a");Object.assign(t,{href:"https://vk.com/id".concat(e),target:"_blank"}),t.click()},l=function(e){if(e)return e.includes("-")?"":window.sber_id?"https://vk.com/id".concat(e):""};Object(n.useEffect)((function(){B.on("friends_list_data",(function(e){Kt=e;var t,i=[],n=Object(r.a)(Vt);try{for(n.s();!(t=n.n()).done;){var s,o=t.value,c=!0,a=Object(r.a)(Kt);try{for(a.s();!(s=a.n()).done;){var l=s.value;o.id==l.id&&(c=!1)}}catch(h){a.e(h)}finally{a.f()}c&&i.push(o)}}catch(h){n.e(h)}finally{n.f()}var d=[],p=[];e.forEach((function(e){"offline"!=e.online_status?d.push(e):p.push(e)})),Vt=i,Ut=d,Gt=p,b(null)}))}),[]);var p=Object(n.useState)(Object(m.jsx)(x.I,{size:"large"})),h=Object(d.a)(p,2),j=h[0],b=h[1],u=Object(m.jsx)(n.Fragment,{children:c<=x.U.MOBILE&&Object(m.jsx)(x.A,{onClick:function(){t(null),F()},children:Object(m.jsx)(we.a,{})})});function g(e){var t=e.user,i=e.mode,n=void 0===i?"primary":i;return Object(m.jsxs)(x.l,{style:{display:"flex",flexDirection:"row",marginBottom:"-20px"},children:[Object(m.jsx)(x.g,{style:{display:"flex",marginRight:"5px"},mode:n,after:Object(m.jsx)(re.a,{width:18,height:18}),onClick:function(){f.a.send("VKWebAppShowStoryBox",{background_type:"image",url:"https://i.ibb.co/FBpTSLs/story.png",app_id:"7958418",attachment:{text:"game",type:"url",url:"https://vk.com/app7958418#r=".concat(t._id)}})},children:"\u0412 \u0438\u0441\u0442\u043e\u0440\u0438\u044e"}),Object(m.jsx)(x.g,{style:{display:"flex"},mode:n,after:Object(m.jsx)(le.a,{width:18,height:18}),onClick:function(){f.a.send("VKWebAppShare",{link:"https://vk.com/app7958418#r=".concat(t._id)})},children:"\u041f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f"}),Object(m.jsx)(x.g,{style:{marginLeft:"5px",display:"flex"},mode:n,after:Object(m.jsx)(de.a,{width:18,height:18}),onClick:function(){f.a.send("VKWebAppCopyText",{text:"https://vk.com/app7958418#r=".concat(t._id)})}})]})}var O=Object(m.jsx)(x.v,{right:u,children:"\u0414\u0440\u0443\u0437\u044c\u044f"}),w=Object(m.jsxs)(x.p,{children:[Object(m.jsx)(x.q,{children:"\u0412 \u0438\u0433\u0440\u0435"}),Object(m.jsx)(Yt,{users:Ut.slice(0,100),start:1,open:a,href:l,user:i,disabled:!1}),Object(m.jsx)(Yt,{users:Gt.slice(0,100),start:1,open:a,href:l,user:i,disabled:!0,opacity:.5})]}),v=Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(x.q,{children:"\u041d\u0435 \u0432 \u0438\u0433\u0440\u0435"}),Object(m.jsx)(Yt,{users:Vt,start:1,open:a,href:l,user:i}),Object(m.jsx)(x.l,{children:Object(m.jsx)(g,{user:i})})]}),y=Object(m.jsxs)(x.B,{icon:Object(m.jsx)(ae.a,{}),header:"\u041d\u0435 \u0441 \u043a\u0435\u043c \u0441\u044b\u0433\u0440\u0430\u0442\u044c?",action:Object(m.jsx)(pe,{user:i}),children:["\u041f\u0440\u0438\u0433\u043b\u0430\u0441\u0438\u0442\u0435 \u0434\u0440\u0443\u0437\u0435\u0439 \u0432 \u0438\u0433\u0440\u0443, ",Object(m.jsx)("br",{}),"\u0447\u0442\u043e\u0431\u044b \u0438\u0433\u0440\u0430\u0442\u044c \u0441 \u043d\u0438\u043c\u0438!"]}),_=Object(m.jsxs)(m.Fragment,{children:[j,Kt.length>0&&w,Object(m.jsxs)(x.p,{children:[0===Kt.length&&!j&&y,Vt.length>0&&v]})]}),k=Object(m.jsxs)(x.B,{style:{cursor:"default",overflow:"hidden"},icon:Object(m.jsx)(ce.a,{}),header:"\u041d\u0435\u0442 \u0434\u043e\u0441\u0442\u0443\u043f\u0430",action:Object(m.jsx)(x.g,{size:"s",onClick:function(){f.a.send("VKWebAppGetAuthToken",{app_id:7958418,scope:"friends"})},children:"\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c"}),children:["\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u0435 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044e \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c ",Object(m.jsx)("br",{})," \u0441\u043f\u0438\u0441\u043e\u043a \u0432\u0430\u0448\u0438\u0445 \u0434\u0440\u0443\u0437\u0435\u0439"]});return Object(m.jsx)(x.u,{id:"friends",onClose:function(){t(null),F()},header:O,children:Object(m.jsx)(x.l,{children:s?_:k})})}var qt=i.p+"static/media/logo.fc0acce4.png";function Qt(e){var t=e.setActiveModal;Object(x.V)().viewWidth;return Object(m.jsx)(x.t,{dynamicContentHeight:!0,id:"join",onClose:function(){t(null),F()},actions:Object(m.jsx)(x.g,{size:"l",onClick:function(){t(null)},children:"\u041f\u043e\u043d\u044f\u0442\u043d\u043e"}),icon:Object(m.jsx)(ye.a,{style:{margin:"auto",color:"#0077FF"}}),header:"\u0412\u0441\u0442\u0443\u043f\u0438\u0442\u044c \u0432 \u043a\u043b\u0430\u043d",subheader:'\u0427\u0442\u043e\u0431\u044b \u043f\u0440\u0438\u0441\u043e\u0435\u0434\u0438\u043d\u0438\u0442\u044c\u0441\u044f \u043a \u043a\u043b\u0430\u043d\u0443, \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0432\u044b\u0431\u0440\u0430\u0442\u044c \u043a\u043b\u0430\u043d \u0438\u0437 \u0442\u043e\u043f\u0430 \u0438 \u043d\u0430\u0436\u0430\u0442\u044c:\r "\u041f\u0440\u0438\u0441\u043e\u0435\u0434\u0438\u043d\u0438\u0442\u044c\u0441\u044f" \u0438\u043b\u0438 \u043d\u0430\u0439\u0442\u0438 \u0441\u043e\u043e\u0431\u0449\u0435\u0441\u0442\u0432\u043e \u043a\u043b\u0430\u043d\u0430 \u0412\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u0435 \u0438 \u043f\u0435\u0440\u0435\u0439\u0442\u0438 \u0447\u0435\u0440\u0435\u0437\r \u043c\u0435\u043d\u044e \u0438\u0445 \u0433\u0440\u0443\u043f\u043f\u044b'})}var Xt=i(669);function Zt(e){var t=e.setActiveModal;Object(x.V)().viewWidth;return Object(m.jsx)(x.t,{dynamicContentHeight:!0,id:"create",onClose:function(){t(null),F()},icon:Object(m.jsx)(Xt.a,{}),actions:Object(m.jsx)(x.g,{size:"l",onClick:function(){f.a.send("VKWebAppAddToCommunity")},children:"\u041f\u043e\u0434\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0441\u043e\u043e\u0431\u0449\u0435\u0441\u0442\u0432\u043e"}),header:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043a\u043b\u0430\u043d",subheader:"\u041a\u043b\u0430\u043d\u044b \u044d\u0442\u043e \u0441\u043e\u043e\u0431\u0449\u0435\u0441\u0442\u0432\u0430 \u0412\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u0435. \u0412\u0430\u043c \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0438\u0433\u0440\u0443 \u0432 \u043c\u0435\u043d\u044e \u0441\u043e\u043e\u0431\u0449\u0435\u0441\u0442\u0432\u0430, \u0430 \u043f\u043e\u0441\u043b\u0435 \u043f\u0435\u0440\u0435\u0439\u0442\u0438 \u0447\u0435\u0440\u0435\u0437 \u043c\u0435\u043d\u044e \u0441\u043e\u043e\u0431\u0449\u0435\u0441\u0442\u0432\u0430 \u0432 \u0441\u0430\u043c \u043a\u043b\u0430\u043d."})}var $t=function(e){var t=e.setActivePlayPanel,i=(e.setActivePanel,e.setShow),n=e.logo,s=e.name;return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(x.B,{style:{background:"white",display:"flex",justifyContent:"center"},icon:Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(x.e,{mode:"app",src:n,size:112})}),header:s,action:Object(m.jsxs)("div",{children:[Object(m.jsx)(x.g,{style:{marginRight:"3%"},size:"m",children:"\u0412\u0441\u0442\u0443\u043f\u0438\u0442\u044c"}),Object(m.jsx)(x.g,{size:"m",mode:"secondary",onClick:function(){t("main"),i(!0)},children:"\u041e\u0442\u043c\u0435\u043d\u0430"})]}),stretched:!0,children:"\u0412\u0430\u0441 \u043f\u0440\u0438\u0433\u043b\u0430\u0448\u0430\u044e\u0442 \u0432\u0441\u0442\u0443\u043f\u0438\u0442\u044c \u0432 \u043a\u043b\u0430\u043d"})})},ei=(i(632),i(670)),ti=i.p+"static/media/apple_icon.0dcaea07.svg";i(633);function ii(e){var t=e.className,i=void 0===t?"":t,n=e.rating,s=void 0===n?"":n,o=e.apples,c=void 0===o?"":o;return Object(m.jsxs)("span",{className:"".concat(i," balance").trim(),children:[""!==s&&Object(m.jsxs)("span",{className:"balance__item",children:[Object(m.jsx)("img",{src:z,alt:"\u0420\u0435\u0439\u0442\u0438\u043d\u0433",className:"balance__item__icon"}),s]}),""!==c&&Object(m.jsxs)("span",{className:"balance__item",children:[Object(m.jsx)("img",{src:ti,alt:"\u042f\u0431\u043b\u043e\u043a\u0438",className:"balance__item__icon"}),c]})]})}var ni,si,oi,ci,ai,ri,li,di;i(634);function pi(e){var t=e.user,i=e.userRating,n=e.opponent,s=e.isWin,o=e.isDraw,c=e.onClick,a=Object(x.V)().viewWidth<x.U.SMALL_TABLET,r=s?"\u041f\u043e\u0431\u0435\u0434\u0430":o?"\u041d\u0438\u0447\u044c\u044f":"\u041f\u043e\u0440\u0430\u0436\u0435\u043d\u0438\u0435",l=s?"\u041f\u043e\u0437\u0434\u0440\u0430\u0432\u043b\u044f\u044e, \u0432\u044b \u0432\u044b\u0438\u0433\u0440\u0430\u043b\u0438!\n\u0412\u043e\u0442 \u0432\u0430\u0448\u0430 \u043d\u0430\u0433\u0440\u0430\u0434\u0430":o?"\u041d\u0438\u0447\u044c\u044f \u044d\u0442\u043e \u0442\u043e\u0436\u0435 \u043d\u0435\u043f\u043b\u043e\u0445\u043e.\n\u041f\u043e \u043a\u0440\u0430\u0439\u043d\u0435\u0439 \u043c\u0435\u0440\u0435, \u0432\u044b \u043d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043f\u043e\u0442\u0435\u0440\u044f\u043b\u0438.":"\u041a \u0441\u043e\u0436\u0430\u043b\u0435\u043d\u0438\u044e, \u0432\u044b \u043f\u0440\u043e\u0438\u0433\u0440\u0430\u043b\u0438...\n\u041d\u043e \u0443 \u0432\u0430\u0441 \u0432\u0441\u0435\u0433\u0434\u0430 \u0435\u0441\u0442\u044c \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u043e\u0442\u044b\u0433\u0440\u0430\u0442\u044c\u0441\u044f!",d=s?"+":o?"":"-";function p(e){var t=document.createElement("a");Object.assign(t,{href:e,target:"_blank"}).click()}return Object(m.jsx)(x.C,{className:"final-screen",alignY:"center",alignX:"center",onClick:c,ismobile:a.toString(),children:Object(m.jsxs)(x.l,{children:[Object(m.jsx)(x.p,{className:"final-screen__container",separator:"show",children:Object(m.jsxs)("div",{className:"final-screen__result",children:[Object(m.jsx)(x.e,{size:68,src:t.photo_200,className:"final-screen__avatar"}),Object(m.jsx)(x.R,{className:"final-screen__title",level:"2",weight:"semibold",children:r}),Object(m.jsx)(x.L,{className:"final-screen__desc",weight:"regular",children:l}),Object(m.jsx)(ii,{className:"final-screen__balance",rating:d+i})]})}),Object(m.jsx)(x.p,{className:"final-screen__container",separator:"show",children:Object(m.jsx)(x.F,{className:"final-screen__opponent",before:Object(m.jsx)(x.e,{size:48,src:n.photo_200}),onClick:function(){return p("https://vk.com/id"+n._id)},after:Object(m.jsxs)("div",{className:"final-screen__opponent__buttons",children:[Object(m.jsx)(x.g,{mode:"secondary",onClick:function(){return p("https://vk.me/id"+n._id)},children:Object(m.jsx)(ei.a,{})}),Object(m.jsx)(x.g,{mode:"secondary",onClick:function(){return p("https://vk.com/id"+n._id)},children:Object(m.jsx)(Mt.a,{})})]}),description:"\u0412\u0430\u0448 \u0441\u043e\u043f\u0435\u0440\u043d\u0438\u043a",children:n.name})}),Object(m.jsx)(x.g,{className:"final-screen__button",size:"l",mode:"overlay_primary",onClick:c,children:"\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c"})]})})}var hi,ji="desktop_web"==(null===(ni=window)||void 0===ni||null===(si=ni.location)||void 0===si||null===(oi=si.search)||void 0===oi||null===(ci=oi.split("vk_platform=")[1])||void 0===ci?void 0:ci.split("&")[0]);window.isDesktop=ji;var bi=(null===(ai=window.location)||void 0===ai||null===(ri=ai.search)||void 0===ri||null===(li=ri.slice(1))||void 0===li||null===(di=li.split("user_id=")[1])||void 0===di?void 0:di.split("&")[0])||window.sber_id;function ui(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}f.a.send("VKWebAppInit"),f.a.send("VKWebAppSetViewSettings",{status_bar_style:"dark",action_bar_color:"white",navigation_bar_color:"white"});var xi=ui(),gi=!1;window.isIos=xi;var fi=function(){var e=Object(n.useState)(!1),t=Object(d.a)(e,2),i=t[0],s=t[1],o=Object(n.useState)("loading"),c=Object(d.a)(o,2),g=c[0],O=c[1],w=Object(n.useState)("play"),y=Object(d.a)(w,2),_=y[0],k=y[1],C=Object(n.useState)("home"),A=Object(d.a)(C,2),S=A[0],z=A[1],N=Object(n.useState)({}),E=Object(d.a)(N,2),F=E[0],D=E[1],P=Object(n.useState)(!1),H=Object(d.a)(P,2),I=H[0],L=H[1],W=Object(n.useState)(!1),K=Object(d.a)(W,2),V=K[0],U=K[1],G=Object(n.useState)(0),Y=Object(d.a)(G,2),J=(Y[0],Y[1]);window.user=F;var q=Object(n.useState)(null),Q=Object(d.a)(q,2),X=Q[0],Z=Q[1],$=Object(n.useState)(null),ee=Object(d.a)($,2),te=ee[0],ne=ee[1],se=Object(n.useState)(!1),ce=Object(d.a)(se,2),ae=ce[0],re=ce[1],le=Object(n.useState)(!1),de=Object(d.a)(le,2),pe=de[0],he=de[1],je=Object(n.useState)(null),ue=Object(d.a)(je,2),xe=ue[0],ge=ue[1],fe=Object(n.useState)(null),me=Object(d.a)(fe,2),Oe=(me[0],me[1],Object(n.useState)(null)),we=Object(d.a)(Oe,2),ve=we[0],ye=we[1],_e=Object(n.useState)(!1),ke=Object(d.a)(_e,2),Ae=(ke[0],ke[1],Object(n.useState)(!1)),Se=Object(d.a)(Ae,2),ze=Se[0],Ne=Se[1],Ee=Object(n.useState)(!1),Fe=Object(d.a)(Ee,2),Be=(Fe[0],Fe[1],Object(n.useState)(1==v.Howler.volume())),De=Object(d.a)(Be,2),Pe=De[0],Ie=De[1],Re=Object(n.useState)(!0),Le=Object(d.a)(Re,2),We=Le[0],Me=Le[1],Ke=Object(n.useState)([]),Ve=Object(d.a)(Ke,2),Ue=Ve[0],Ge=Ve[1];xi=ui(),window.isIos=xi,"http://localhost:3000/"==window.location.href&&window.location.replace("https://vk.com/app7958418");var Ye=Object(m.jsxs)(x.w,{activeModal:xe,onClose:function(){ge(null)},children:[Object(m.jsx)(Tt,{sber_bar:qe,setActiveModal:ge,user:F,id:"statistic"}),Object(m.jsx)(Wt,{setActiveModal:ge,user:F,id:"bonuses"}),Object(m.jsx)(Qt,{setActiveModal:ge,id:"join"}),Object(m.jsx)(Zt,{setActiveModal:ge,id:"create"}),Object(m.jsx)(Jt,{setActiveModal:ge,user:F,friends:Ue,isToken:i,id:"friends",dynamicContentHeight:!0})]});window.isBattle=pe;var Je=function(e){var t=e.currentTarget.dataset.story;"rating"!=_&&"rating"==t&&setTimeout((function(){B.emit("get_rating"),console.log("get_rating")}),200),k(t)};function qe(){ne(Object(m.jsx)(x.G,{onClose:function(){ne(null)},style:{marginBottom:window.sber_id?"80px":""},before:Object(m.jsx)(x.e,{size:24,src:"https://sun9-13.userapi.com/s/v1/ig2/aPcuDKaV_Mr8GoTAvFCzVWZbce1yopbQhJKZ-BFfm-4ikqAMAIgvN4Zk4BQxQGsZhb2emZwGRGJeuo8OcfoLiXNU.jpg?size=400x400&quality=95&crop=0,0,400,400&ava=1"}),children:'\u042d\u0442\u043e\u0442 \u0438\u0433\u0440\u043e\u043a \u0432\u043e\u0448\u0435\u043b \u0447\u0435\u0440\u0435\u0437 "\u0421\u0431\u0435\u0440 \u0421\u0430\u043b\u044e\u0442", \u043e\u0442\u043a\u0440\u044b\u0442\u044c \u043f\u0440\u043e\u0444\u0438\u043b\u044c \u0412\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u0435 - \u043d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e.'}))}function Qe(e,t){Z(Object(m.jsxs)(x.G,{style:{marginBottom:window.sber_id?"80px":""},onClose:function(){Z(null)},before:Object(m.jsx)(h.a,{width:24,height:24}),children:["+",e," \u0440\u0435\u0439\u0442\u0438\u043d\u0433\u0430 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u043e. \u0421\u043f\u0430\u0441\u0438\u0431\u043e, \u0442\u044b \u043f\u043e\u043c\u043e\u0433\u0430\u0435\u0448\u044c \u043d\u0430\u043c \u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0441\u044f \u043b\u0443\u0447\u0448\u0435!"]}))}var Xe=!1,Ze=function(e){for(var t in e)window.user[t]=e[t];D(window.user)};return window.rcon_script=function(){ze&&(Ne(!1),ye(null),window.effect_popout=null)},Object(n.useEffect)(Object(l.a)(a.a.mark((function e(){var t,i,n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=function(){function e(){he(!1),k("play"),O("main"),t=null,ye(null),window.scene.setScene("menu"),window.isBattle=!1,hi||window.isBattle?hi.playing()||hi.play():hi=new v.Howl({src:["https://mitursky.github.io/SHEEP-ROYALE-BUILD/sounds/bg.mp3"],autoplay:!0,loop:!0,volume:.2})}B.on("userData",(function(e,t){t&&J(Date.now()-t),e.notify_msg&&U(!0),"loading"==g&&L(!0),i=e,D(e),re(e.search)})),B.on("dataUpdate",(function(e){console.log("dataupdate",e),Ze(e)})),B.on("ads_nice",(function(e,t){Qe(e)})),B.on("lobby_started",(function(e){if(hi){hi.stop();new v.Howl({src:["https://mitursky.github.io/SHEEP-ROYALE-BUILD/sounds/start.mp3"],autoplay:!0,volume:.5})}At(e),k("battle"),O("main"),he(!0),re(!1),Z(null),ge(null)})),B.on("reconnect_to",(function(e){var t=e.port,i=e.adress;console.log("RCON TO PORT "+i+" : "+t),R({port:t,adress:i})})),B.on("disconnect",(function(){console.log("disc");var e=setInterval((function(){B.connected||null!=t?B.connected&&clearInterval(e):(console.log(t),t="disc",Ne(!0),ye(Object(m.jsxs)(x.c,{style:{pointerEvents:"none"},className:"offAlert",actionsLayout:"vertical",onClose:function(){ye(null)},header:"\u0423\u043f\u0441 :(",children:["\u041f\u043e\u0442\u0435\u0440\u044f\u043d\u043e \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435 \u0441 \u0441\u0435\u0440\u0432\u0435\u0440\u043e\u043c. \u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u043a \u0438\u043d\u0442\u0435\u0440\u043d\u0435\u0442\u0443.",Object(m.jsx)("div",{style:{height:"20px"}}),Object(m.jsx)(x.I,{})]})))}),1e3)})),B.on("lobby_undefined",(function(){console.log("und"),"loading"==g&&window.scene&&!window.isBattle?(hi||window.isBattle||(hi=new v.Howl({src:["https://mitursky.github.io/SHEEP-ROYALE-BUILD/sounds/bg.mp3"],autoplay:!0,loop:!0,volume:.2})),L(!0),console.log("battle end")):"rating"!=_&&"profile"!=_&&window.isBattle&&"final"!=t&&e()})),B.on("lobby_finish",(function(i,n,s,o){var c=i.find((function(e){return e._id!=(bi||window.sber_id)})),a=i.find((function(e){return e._id===(bi||window.sber_id)})),r=s.find((function(e){return e._id==bi||window.sber_id})).rating;if(window.scene){He&&(He.stop(),He.seek(0),He=!1,ot=!1),new v.Howl({src:["https://mitursky.github.io/SHEEP-ROYALE-BUILD/sounds/end.mp3"],autoplay:!0,volume:.5}),"loading"==g&&L(!0);var l=c.command!==n;t="final",ye(Object(m.jsx)(pi,{user:a,userRating:r,opponent:c,isWin:l,isDraw:o,onClick:function(){e()}})),R({})}})),console.log("go_con")},t=null,window.effect_popout=t,f.a.subscribe(function(){var e=Object(l.a)(a.a.mark((function e(t){var n,o,c,l,d,p,h;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.detail,o=n.type,c=n.data,console.log(o,c),"VKWebAppAllowMessagesFromGroupResult"==o&&c.result&&(B.emit("notify_msg"),U(!0)),"VKWebAppAllowNotificationsResult"==o&&c.result&&B.emit("notify_default"),"VKWebAppViewRestore"==o&&(gi?(gi=!1,v.Howler.volume(0),Ie(!1)):(Ie(!0),v.Howler.volume(1)),setTimeout((function(){R({})}),1e3)),"VKWebAppShowStoryBoxResult"==o&&(B.emit("story_publish"),ye(null)),"VKWebAppViewHide"==o&&hi&&(hi.stop(),0==v.Howler.volume()&&(gi=!0),v.Howler.volume(0)),"VKWebAppJoinGroupResult"==o&&c.result&&B.emit("sub_bonus"),"VKWebAppAccessTokenReceived"==o&&c.access_token&&(f.a.send("VKWebAppCallAPIMethod",{method:"friends.search",request_id:"32test",params:{user_id:Number(i._id),v:5.81,access_token:c.access_token,fields:"photo_200"}}),s(!0)),"VKWebAppAccessTokenFailed"==o&&s(!1),"VKWebAppCallAPIMethodResult"===o&&"48test"!=c.request_id){l=[],d=Object(r.a)(c.response.items);try{for(d.s();!(p=d.n()).done;)h=p.value,l.push(h.id)}catch(a){d.e(a)}finally{d.f()}Ge(c.response.items),B.emit("get_friends_rating",l.map(String)),B.emit("get_friends_list",l.map(String))}case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),window.start_socket_on=n,window.auto_start_socket&&n();case 6:case"end":return e.stop()}}),e)}))),[]),Object(m.jsx)(x.K,{modal:Ye,popout:ve,header:!1,style:{justifyContent:"center"},children:Object(m.jsx)(x.J,{animate:!0,spaced:Xe,width:"100%",maxWidth:"100%",children:Object(m.jsxs)(x.m,{activeStory:_,tabbar:pe||"loading"==g?"":We?Object(m.jsxs)(x.M,{onClick:function(){T()},style:{height:window.sber_id?xi?"43px":"130px":"",alignItems:window.sber_id?"baseline":"",borderRadius:window.sber_id?"20px 20px 0px 0px":"",bottom:window.sber_id?xi?"profile"==_?window.reloaded?"68px":"-68px":(window.reloaded,"0px"):"0px":"0x"},children:[Object(m.jsx)(x.N,{onClick:Je,selected:"profile"===_,"data-story":"profile",text:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c",children:Object(m.jsx)(j.a,{})}),Object(m.jsx)(x.N,{onClick:Je,selected:"play"===_,"data-story":"play",text:"\u0418\u0433\u0440\u0430\u0442\u044c",children:Object(m.jsx)(b.a,{})}),Object(m.jsx)(x.N,{owerflow:"show",onClick:Je,selected:"rating"===_,"data-story":"rating",text:"\u0420\u0435\u0439\u0442\u0438\u043d\u0433",children:Object(m.jsx)(u.a,{})})]}):null,children:[Object(m.jsxs)(x.T,{id:"play",activePanel:g,children:[Object(m.jsxs)(x.x,{id:"main",className:"rePanel",children:[Object(m.jsx)(M,{user:F,lobby_bar:function(){Z(Object(m.jsx)(x.G,{style:{marginBottom:window.sber_id?"80px":""},duration:999999999,id:"play",onClose:function(){Z(null),re(!1)},action:"\u041e\u0442\u043c\u0435\u043d\u0430",onActionClick:function(){Z(null),re(!1),B.emit("cancel")},before:Object(m.jsx)(x.e,{size:24,style:{background:"var(--accent)"},children:Object(m.jsx)(p.a,{fill:"#fff",width:14,height:14})}),children:"\u0418\u0434\u0451\u0442 \u043f\u043e\u0438\u0441\u043a \u0441\u043e\u043f\u0435\u0440\u043d\u0438\u043a\u043e\u0432"}))},mutedStatus:Pe,setMutedStatus:Ie,setActiveModal:ge,notify:V,notifyAlert:function(){var e=!1;ye(Object(m.jsx)(x.c,{actions:[{title:"\u041e\u0442\u043c\u0435\u043d\u0430",autoclose:!0,mode:"cancel"},{title:"\u0412\u043a\u043b\u044e\u0447\u0438\u0442\u044c",autoclose:!0,action:function(){e||(e=!0,f.a.send("VKWebAppAllowMessagesFromGroup",{group_id:209019197,key:"123"}))}}],actionsLayout:"horizontal",onClose:function(){ye(null)},header:"\u0422\u0443\u0440\u043d\u0438\u0440\u044b",children:"\u0422\u0443\u0440\u043d\u0438\u0440\u044b \u043d\u0430\u0447\u043d\u0443\u0442\u0441\u044f \u0441\u043e\u0432\u0441\u0435\u043c \u0441\u043a\u043e\u0440\u043e! \u0412\u043a\u043b\u044e\u0447\u0430\u0439 \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f, \u0447\u0442\u043e\u0431\u044b \u043d\u0435 \u043f\u0440\u043e\u043f\u0443\u0441\u0442\u0438\u0442\u044c."}))},socket:B,loading:ae,setLoading:re,setActivePlayPanel:O}),X]}),Object(m.jsxs)(x.x,{id:"loading",style:{backgroundColor:"white"},onClick:function(){I&&(window.location.href.indexOf("clan=")>-1?(O("clanplaceholder"),Me(!1)):O("main"))},children:[Object(m.jsx)("img",{src:qt,style:{width:.75*window.innerWidth,top:"0",bottom:"0",margin:"auto",left:"0",right:"0",position:"absolute"}}),I?Object(m.jsx)("dev",{style:{textAlign:"center",fontSize:"1.25rem",position:"absolute",bottom:"70px",left:"0",right:"0",margin:"auto"},className:"blink1",children:"\u041d\u0430\u0436\u043c\u0438\u0442\u0435, \u0447\u0442\u043e\u0431\u044b \u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c"}):Object(m.jsx)(x.I,{size:"medium",style:{top:"0",bottom:"0",margin:"auto",left:"0",right:"0",marginTop:ji?250:.75*window.innerWidth/2+25,position:"absolute",color:"black"}})]}),Object(m.jsx)(x.x,{id:"clanplaceholder",children:Object(m.jsx)($t,{setActivePlayPanel:O,setShow:Me,name:"\u041a\u043e\u0442\u0431\u0440\u0435\u0434",logo:"https://sun9-54.userapi.com/impg/quVBs-qyS15mxDzUTA2R_9RdQ36xiYlxaDvXCg/Ij6QLHMppw8.jpg?size=1000x1000&quality=95&sign=b03a59a4fbefc265e90b410d63e1bd24&type=album"})}),Object(m.jsx)(x.x,{id:"learn",style:{backgroundColor:"white"},children:Object(m.jsx)(ie,{setActivePlayPanel:O})})]}),Object(m.jsxs)(x.T,{id:"profile",activePanel:S,children:[Object(m.jsx)(x.x,{id:"home",style:{overflow:"hidden"},className:"rePanel",children:Object(m.jsx)(oe,{setActiveProfilePanel:z,setActiveModal:ge,user:F})}),Object(m.jsx)(x.x,{id:"market",children:Object(m.jsx)(Te,{setActiveProfilePanel:z,user:F})})]}),Object(m.jsx)(x.T,{id:"rating",activePanel:"rating",children:Object(m.jsxs)(x.x,{id:"rating",style:{overflow:"hidden",backgroundColor:"var(--background_content)"},children:[Object(m.jsx)(be,{user:F,sber_bar:qe,isToken:i,setIsToken:s}),te]})}),Object(m.jsx)(x.T,{id:"battle",activePanel:"battle",children:Object(m.jsx)(x.x,{id:"battle"})}),Object(m.jsx)(x.T,{id:"clans",activePanel:"clans",children:Object(m.jsx)(x.x,{id:"clans",style:{overflow:"scroll",backgroundColor:"white"},children:Object(m.jsx)(Ce,{setActiveModal:ge,user:F})})})]})})})},mi=function(e){e&&e instanceof Function&&i.e(3).then(i.bind(null,676)).then((function(t){var i=t.getCLS,n=t.getFID,s=t.getFCP,o=t.getLCP,c=t.getTTFB;i(e),n(e),s(e),o(e),c(e)}))};console.log(Object({NODE_ENV:"production",PUBLIC_URL:"https://mitursky.github.io/SHEEP-ROYALE-BUILD/build",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_CLIENT_ENV:"prod",REACT_APP_MUSIC_ENV:"true"}));var Oi=document.createElement("canvas"),wi=Oi.getContext("webgl")||Oi.getContext("experimental-webgl");wi&&wi instanceof WebGLRenderingContext?console.log("Congratulations! Your browser supports WebGL."):console.log("Failed to get WebGL context. Your browser or device may not support WebGL."),o.a.render(Object(m.jsx)(x.k,{children:Object(m.jsx)(x.b,{children:Object(m.jsx)(x.d,{children:Object(m.jsx)(fi,{})})})}),document.getElementById("root")),mi()}},[[635,1,2]]]);